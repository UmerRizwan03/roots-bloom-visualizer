var x0=e=>{throw TypeError(e)};var lf=(e,t,n)=>t.has(e)||x0("Cannot "+n);var G=(e,t,n)=>(lf(e,t,"read from private field"),n?n.call(e):t.get(e)),we=(e,t,n)=>t.has(e)?x0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),le=(e,t,n,r)=>(lf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),tt=(e,t,n)=>(lf(e,t,"access private method"),n);var Il=(e,t,n,r)=>({set _(s){le(e,t,s,n)},get _(){return G(e,t,r)}});function _j(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var rw={exports:{}},zu={},sw={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),Ej=Symbol.for("react.portal"),kj=Symbol.for("react.fragment"),Cj=Symbol.for("react.strict_mode"),Nj=Symbol.for("react.profiler"),jj=Symbol.for("react.provider"),Pj=Symbol.for("react.context"),Tj=Symbol.for("react.forward_ref"),Aj=Symbol.for("react.suspense"),Rj=Symbol.for("react.memo"),Mj=Symbol.for("react.lazy"),w0=Symbol.iterator;function Ij(e){return e===null||typeof e!="object"?null:(e=w0&&e[w0]||e["@@iterator"],typeof e=="function"?e:null)}var ow={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iw=Object.assign,aw={};function yi(e,t,n){this.props=e,this.context=t,this.refs=aw,this.updater=n||ow}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lw(){}lw.prototype=yi.prototype;function um(e,t,n){this.props=e,this.context=t,this.refs=aw,this.updater=n||ow}var dm=um.prototype=new lw;dm.constructor=um;iw(dm,yi.prototype);dm.isPureReactComponent=!0;var b0=Array.isArray,cw=Object.prototype.hasOwnProperty,fm={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function dw(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)cw.call(t,r)&&!uw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:il,type:e,key:o,ref:i,props:s,_owner:fm.current}}function Oj(e,t){return{$$typeof:il,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hm(e){return typeof e=="object"&&e!==null&&e.$$typeof===il}function Dj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _0=/\/+/g;function cf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dj(""+e.key):t.toString(36)}function Sc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case il:case Ej:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+cf(i,0):r,b0(s)?(n="",e!=null&&(n=e.replace(_0,"$&/")+"/"),Sc(s,t,n,"",function(c){return c})):s!=null&&(hm(s)&&(s=Oj(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(_0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",b0(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+cf(o,a);i+=Sc(o,t,n,l,s)}else if(l=Ij(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+cf(o,a++),i+=Sc(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ol(e,t,n){if(e==null)return e;var r=[],s=0;return Sc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function $j(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},Ec={transition:null},Lj={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:fm};function fw(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ol,forEach:function(e,t,n){Ol(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ol(e,function(){t++}),t},toArray:function(e){return Ol(e,function(t){return t})||[]},only:function(e){if(!hm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=yi;fe.Fragment=kj;fe.Profiler=Nj;fe.PureComponent=um;fe.StrictMode=Cj;fe.Suspense=Aj;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lj;fe.act=fw;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=iw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=fm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)cw.call(t,l)&&!uw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:il,type:e.type,key:s,ref:o,props:r,_owner:i}};fe.createContext=function(e){return e={$$typeof:Pj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jj,_context:e},e.Consumer=e};fe.createElement=dw;fe.createFactory=function(e){var t=dw.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Tj,render:e}};fe.isValidElement=hm;fe.lazy=function(e){return{$$typeof:Mj,_payload:{_status:-1,_result:e},_init:$j}};fe.memo=function(e,t){return{$$typeof:Rj,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Ec.transition;Ec.transition={};try{e()}finally{Ec.transition=t}};fe.unstable_act=fw;fe.useCallback=function(e,t){return ft.current.useCallback(e,t)};fe.useContext=function(e){return ft.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};fe.useEffect=function(e,t){return ft.current.useEffect(e,t)};fe.useId=function(){return ft.current.useId()};fe.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return ft.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};fe.useRef=function(e){return ft.current.useRef(e)};fe.useState=function(e){return ft.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return ft.current.useTransition()};fe.version="18.3.1";sw.exports=fe;var v=sw.exports;const X=cm(v),pm=_j({__proto__:null,default:X},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj=v,zj=Symbol.for("react.element"),Bj=Symbol.for("react.fragment"),Uj=Object.prototype.hasOwnProperty,Hj=Fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vj={key:!0,ref:!0,__self:!0,__source:!0};function hw(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Uj.call(t,r)&&!Vj.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:zj,type:e,key:o,ref:i,props:s,_owner:Hj.current}}zu.Fragment=Bj;zu.jsx=hw;zu.jsxs=hw;rw.exports=zu;var d=rw.exports,pw={exports:{}},Bt={},mw={exports:{}},gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,k){var $=T.length;T.push(k);e:for(;0<$;){var F=$-1>>>1,z=T[F];if(0<s(z,k))T[F]=k,T[$]=z,$=F;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var k=T[0],$=T.pop();if($!==k){T[0]=$;e:for(var F=0,z=T.length,V=z>>>1;F<V;){var U=2*(F+1)-1,K=T[U],Y=U+1,B=T[Y];if(0>s(K,$))Y<z&&0>s(B,K)?(T[F]=B,T[Y]=$,F=Y):(T[F]=K,T[U]=$,F=U);else if(Y<z&&0>s(B,$))T[F]=B,T[Y]=$,F=Y;else break e}}return k}function s(T,k){var $=T.sortIndex-k.sortIndex;return $!==0?$:T.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,f=null,p=3,h=!1,w=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=T)r(c),k.sortIndex=k.expirationTime,t(l,k);else break;k=n(c)}}function _(T){if(m=!1,g(T),!w)if(n(l)!==null)w=!0,N(E);else{var k=n(c);k!==null&&M(_,k.startTime-T)}}function E(T,k){w=!1,m&&(m=!1,y(P),P=-1),h=!0;var $=p;try{for(g(k),f=n(l);f!==null&&(!(f.expirationTime>k)||T&&!L());){var F=f.callback;if(typeof F=="function"){f.callback=null,p=f.priorityLevel;var z=F(f.expirationTime<=k);k=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),g(k)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var U=n(c);U!==null&&M(_,U.startTime-k),V=!1}return V}finally{f=null,p=$,h=!1}}var j=!1,C=null,P=-1,I=5,O=-1;function L(){return!(e.unstable_now()-O<I)}function A(){if(C!==null){var T=e.unstable_now();O=T;var k=!0;try{k=C(!0,T)}finally{k?D():(j=!1,C=null)}}else j=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,R=S.port2;S.port1.onmessage=A,D=function(){R.postMessage(null)}}else D=function(){b(A,0)};function N(T){C=T,j||(j=!0,D())}function M(T,k){P=b(function(){T(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,N(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var $=p;p=k;try{return T()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,k){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return k()}finally{p=$}},e.unstable_scheduleCallback=function(T,k,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,T){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,T={id:u++,callback:k,priorityLevel:T,startTime:$,expirationTime:z,sortIndex:-1},$>F?(T.sortIndex=$,t(c,T),n(l)===null&&T===n(c)&&(m?(y(P),P=-1):m=!0,M(_,$-F))):(T.sortIndex=z,t(l,T),w||h||(w=!0,N(E))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var k=p;return function(){var $=p;p=k;try{return T.apply(this,arguments)}finally{p=$}}}})(gw);mw.exports=gw;var Wj=mw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj=v,Ft=Wj;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vw=new Set,ya={};function qs(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(ya[e]=t,e=0;e<t.length;e++)vw.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,Kj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},E0={};function Yj(e){return gh.call(E0,e)?!0:gh.call(S0,e)?!1:Kj.test(e)?E0[e]=!0:(S0[e]=!0,!1)}function qj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xj(e,t,n,r){if(t===null||typeof t>"u"||qj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function gm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mm,gm);Ze[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mm,gm);Ze[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mm,gm);Ze[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function vm(e,t,n,r){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xj(t,n,s,r)&&(n=null),r||s===null?Yj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mr=Gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),xw=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),xh=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),ww=Symbol.for("react.offscreen"),k0=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=k0&&e[k0]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,uf;function Ki(e){if(uf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uf=t&&t[1]||""}return`
`+uf+e}var df=!1;function ff(e,t){if(!e||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{df=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ki(e):""}function Qj(e){switch(e.tag){case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return e=ff(e.type,!1),e;case 11:return e=ff(e.type.render,!1),e;case 1:return e=ff(e.type,!0),e;default:return""}}function wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case mo:return"Portal";case vh:return"Profiler";case ym:return"StrictMode";case yh:return"Suspense";case xh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xw:return(e.displayName||"Context")+".Consumer";case yw:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wm:return t=e.displayName||null,t!==null?t:wh(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return wh(e(t))}catch{}}return null}function Jj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(t);case 8:return t===ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zj(e){var t=bw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){e._valueTracker||(e._valueTracker=Zj(e))}function _w(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bh(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function C0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sw(e,t){t=t.checked,t!=null&&vm(e,"checked",t,!1)}function _h(e,t){Sw(e,t);var n=rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sh(e,t.type,rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sh(e,t,n){(t!=="number"||Wc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yi=Array.isArray;function Po(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Eh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Yi(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rs(n)}}function Ew(e,t){var n=rs(t.value),r=rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function P0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ll,Cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eP=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(e){eP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ra[t]=ra[e]})});function Nw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ra.hasOwnProperty(e)&&ra[e]?(""+t).trim():t+"px"}function jw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var tP=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ch(e,t){if(t){if(tP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function bm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ph=null,To=null,Ao=null;function T0(e){if(e=cl(e)){if(typeof Ph!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Wu(t),Ph(e.stateNode,e.type,t))}}function Pw(e){To?Ao?Ao.push(e):Ao=[e]:To=e}function Tw(){if(To){var e=To,t=Ao;if(Ao=To=null,T0(e),t)for(e=0;e<t.length;e++)T0(t[e])}}function Aw(e,t){return e(t)}function Rw(){}var hf=!1;function Mw(e,t,n){if(hf)return e(t,n);hf=!0;try{return Aw(e,t,n)}finally{hf=!1,(To!==null||Ao!==null)&&(Rw(),Tw())}}function wa(e,t){var n=e.stateNode;if(n===null)return null;var r=Wu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Th=!1;if(ar)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Th=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Th=!1}function nP(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var sa=!1,Gc=null,Kc=!1,Ah=null,rP={onError:function(e){sa=!0,Gc=e}};function sP(e,t,n,r,s,o,i,a,l){sa=!1,Gc=null,nP.apply(rP,arguments)}function oP(e,t,n,r,s,o,i,a,l){if(sP.apply(this,arguments),sa){if(sa){var c=Gc;sa=!1,Gc=null}else throw Error(q(198));Kc||(Kc=!0,Ah=c)}}function Xs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Iw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A0(e){if(Xs(e)!==e)throw Error(q(188))}function iP(e){var t=e.alternate;if(!t){if(t=Xs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return A0(s),e;if(o===r)return A0(s),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Ow(e){return e=iP(e),e!==null?Dw(e):null}function Dw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dw(e);if(t!==null)return t;e=e.sibling}return null}var $w=Ft.unstable_scheduleCallback,R0=Ft.unstable_cancelCallback,aP=Ft.unstable_shouldYield,lP=Ft.unstable_requestPaint,ze=Ft.unstable_now,cP=Ft.unstable_getCurrentPriorityLevel,_m=Ft.unstable_ImmediatePriority,Lw=Ft.unstable_UserBlockingPriority,Yc=Ft.unstable_NormalPriority,uP=Ft.unstable_LowPriority,Fw=Ft.unstable_IdlePriority,Bu=null,In=null;function dP(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Bu,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:pP,fP=Math.log,hP=Math.LN2;function pP(e){return e>>>=0,e===0?32:31-(fP(e)/hP|0)|0}var Fl=64,zl=4194304;function qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=qi(a):(o&=i,o!==0&&(r=qi(o)))}else i=n&~s,i!==0?r=qi(i):o!==0&&(r=qi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pn(t),s=1<<n,r|=e[n],t&=~s;return r}function mP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-pn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=mP(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Rh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zw(){var e=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),e}function pf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function vP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ee=0;function Bw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uw,Em,Hw,Vw,Ww,Mh=!1,Bl=[],Yr=null,qr=null,Xr=null,ba=new Map,_a=new Map,Dr=[],yP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M0(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(t.pointerId)}}function Di(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=cl(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xP(e,t,n,r,s){switch(t){case"focusin":return Yr=Di(Yr,e,t,n,r,s),!0;case"dragenter":return qr=Di(qr,e,t,n,r,s),!0;case"mouseover":return Xr=Di(Xr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return ba.set(o,Di(ba.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,_a.set(o,Di(_a.get(o)||null,e,t,n,r,s)),!0}return!1}function Gw(e){var t=bs(e.target);if(t!==null){var n=Xs(t);if(n!==null){if(t=n.tag,t===13){if(t=Iw(n),t!==null){e.blockedOn=t,Ww(e.priority,function(){Hw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ih(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jh=r,n.target.dispatchEvent(r),jh=null}else return t=cl(n),t!==null&&Em(t),e.blockedOn=n,!1;t.shift()}return!0}function I0(e,t,n){kc(e)&&n.delete(t)}function wP(){Mh=!1,Yr!==null&&kc(Yr)&&(Yr=null),qr!==null&&kc(qr)&&(qr=null),Xr!==null&&kc(Xr)&&(Xr=null),ba.forEach(I0),_a.forEach(I0)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,Mh||(Mh=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,wP)))}function Sa(e){function t(s){return $i(s,e)}if(0<Bl.length){$i(Bl[0],e);for(var n=1;n<Bl.length;n++){var r=Bl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yr!==null&&$i(Yr,e),qr!==null&&$i(qr,e),Xr!==null&&$i(Xr,e),ba.forEach(t),_a.forEach(t),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)Gw(n),n.blockedOn===null&&Dr.shift()}var Ro=mr.ReactCurrentBatchConfig,Xc=!0;function bP(e,t,n,r){var s=Ee,o=Ro.transition;Ro.transition=null;try{Ee=1,km(e,t,n,r)}finally{Ee=s,Ro.transition=o}}function _P(e,t,n,r){var s=Ee,o=Ro.transition;Ro.transition=null;try{Ee=4,km(e,t,n,r)}finally{Ee=s,Ro.transition=o}}function km(e,t,n,r){if(Xc){var s=Ih(e,t,n,r);if(s===null)Ef(e,t,r,Qc,n),M0(e,r);else if(xP(s,e,t,n,r))r.stopPropagation();else if(M0(e,r),t&4&&-1<yP.indexOf(e)){for(;s!==null;){var o=cl(s);if(o!==null&&Uw(o),o=Ih(e,t,n,r),o===null&&Ef(e,t,r,Qc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ef(e,t,r,null,n)}}var Qc=null;function Ih(e,t,n,r){if(Qc=null,e=bm(r),e=bs(e),e!==null)if(t=Xs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Iw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qc=e,null}function Kw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cP()){case _m:return 1;case Lw:return 4;case Yc:case uP:return 16;case Fw:return 536870912;default:return 16}default:return 16}}var Wr=null,Cm=null,Cc=null;function Yw(){if(Cc)return Cc;var e,t=Cm,n=t.length,r,s="value"in Wr?Wr.value:Wr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Cc=s.slice(e,1<r?1-r:void 0)}function Nc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function O0(){return!1}function Ut(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ul:O0,this.isPropagationStopped=O0,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=Ut(xi),ll=De({},xi,{view:0,detail:0}),SP=Ut(ll),mf,gf,Li,Uu=De({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(mf=e.screenX-Li.screenX,gf=e.screenY-Li.screenY):gf=mf=0,Li=e),mf)},movementY:function(e){return"movementY"in e?e.movementY:gf}}),D0=Ut(Uu),EP=De({},Uu,{dataTransfer:0}),kP=Ut(EP),CP=De({},ll,{relatedTarget:0}),vf=Ut(CP),NP=De({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),jP=Ut(NP),PP=De({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TP=Ut(PP),AP=De({},xi,{data:0}),$0=Ut(AP),RP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IP[e])?!!t[e]:!1}function jm(){return OP}var DP=De({},ll,{key:function(e){if(e.key){var t=RP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(e){return e.type==="keypress"?Nc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$P=Ut(DP),LP=De({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L0=Ut(LP),FP=De({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),zP=Ut(FP),BP=De({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=Ut(BP),HP=De({},Uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=Ut(HP),WP=[9,13,27,32],Pm=ar&&"CompositionEvent"in window,oa=null;ar&&"documentMode"in document&&(oa=document.documentMode);var GP=ar&&"TextEvent"in window&&!oa,qw=ar&&(!Pm||oa&&8<oa&&11>=oa),F0=" ",z0=!1;function Xw(e,t){switch(e){case"keyup":return WP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vo=!1;function KP(e,t){switch(e){case"compositionend":return Qw(t);case"keypress":return t.which!==32?null:(z0=!0,F0);case"textInput":return e=t.data,e===F0&&z0?null:e;default:return null}}function YP(e,t){if(vo)return e==="compositionend"||!Pm&&Xw(e,t)?(e=Yw(),Cc=Cm=Wr=null,vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qw&&t.locale!=="ko"?null:t.data;default:return null}}var qP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qP[e.type]:t==="textarea"}function Jw(e,t,n,r){Pw(r),t=Jc(t,"onChange"),0<t.length&&(n=new Nm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ia=null,Ea=null;function XP(e){cb(e,0)}function Hu(e){var t=wo(e);if(_w(t))return e}function QP(e,t){if(e==="change")return t}var Zw=!1;if(ar){var yf;if(ar){var xf="oninput"in document;if(!xf){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),xf=typeof U0.oninput=="function"}yf=xf}else yf=!1;Zw=yf&&(!document.documentMode||9<document.documentMode)}function H0(){ia&&(ia.detachEvent("onpropertychange",eb),Ea=ia=null)}function eb(e){if(e.propertyName==="value"&&Hu(Ea)){var t=[];Jw(t,Ea,e,bm(e)),Mw(XP,t)}}function JP(e,t,n){e==="focusin"?(H0(),ia=t,Ea=n,ia.attachEvent("onpropertychange",eb)):e==="focusout"&&H0()}function ZP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(Ea)}function e2(e,t){if(e==="click")return Hu(t)}function t2(e,t){if(e==="input"||e==="change")return Hu(t)}function n2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:n2;function ka(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gh.call(t,s)||!gn(e[s],t[s]))return!1}return!0}function V0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W0(e,t){var n=V0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V0(n)}}function tb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nb(){for(var e=window,t=Wc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wc(e.document)}return t}function Tm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function r2(e){var t=nb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tb(n.ownerDocument.documentElement,n)){if(r!==null&&Tm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=W0(n,o);var i=W0(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s2=ar&&"documentMode"in document&&11>=document.documentMode,yo=null,Oh=null,aa=null,Dh=!1;function G0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dh||yo==null||yo!==Wc(r)||(r=yo,"selectionStart"in r&&Tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&ka(aa,r)||(aa=r,r=Jc(Oh,"onSelect"),0<r.length&&(t=new Nm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yo)))}function Hl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xo={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},wf={},rb={};ar&&(rb=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Vu(e){if(wf[e])return wf[e];if(!xo[e])return e;var t=xo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rb)return wf[e]=t[n];return e}var sb=Vu("animationend"),ob=Vu("animationiteration"),ib=Vu("animationstart"),ab=Vu("transitionend"),lb=new Map,K0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){lb.set(e,t),qs(t,[e])}for(var bf=0;bf<K0.length;bf++){var _f=K0[bf],o2=_f.toLowerCase(),i2=_f[0].toUpperCase()+_f.slice(1);as(o2,"on"+i2)}as(sb,"onAnimationEnd");as(ob,"onAnimationIteration");as(ib,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(ab,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Y0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oP(r,t,void 0,e),e.currentTarget=null}function cb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Y0(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Y0(s,a,c),o=l}}}if(Kc)throw e=Ah,Kc=!1,Ah=null,e}function Te(e,t){var n=t[Bh];n===void 0&&(n=t[Bh]=new Set);var r=e+"__bubble";n.has(r)||(ub(t,e,2,!1),n.add(r))}function Sf(e,t,n){var r=0;t&&(r|=4),ub(n,e,r,t)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[Vl]){e[Vl]=!0,vw.forEach(function(n){n!=="selectionchange"&&(a2.has(n)||Sf(n,!1,e),Sf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vl]||(t[Vl]=!0,Sf("selectionchange",!1,t))}}function ub(e,t,n,r){switch(Kw(t)){case 1:var s=bP;break;case 4:s=_P;break;default:s=km}n=s.bind(null,t,n,e),s=void 0,!Th||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ef(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=bs(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Mw(function(){var c=o,u=bm(n),f=[];e:{var p=lb.get(e);if(p!==void 0){var h=Nm,w=e;switch(e){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":h=$P;break;case"focusin":w="focus",h=vf;break;case"focusout":w="blur",h=vf;break;case"beforeblur":case"afterblur":h=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=kP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zP;break;case sb:case ob:case ib:h=jP;break;case ab:h=UP;break;case"scroll":h=SP;break;case"wheel":h=VP;break;case"copy":case"cut":case"paste":h=TP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=L0}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var x=c,g;x!==null;){g=x;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,y!==null&&(_=wa(x,y),_!=null&&m.push(Na(x,_,g)))),b)break;x=x.return}0<m.length&&(p=new h(p,w,null,n,u),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==jh&&(w=n.relatedTarget||n.fromElement)&&(bs(w)||w[lr]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=c,w=w?bs(w):null,w!==null&&(b=Xs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=c),h!==w)){if(m=D0,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=L0,_="onPointerLeave",y="onPointerEnter",x="pointer"),b=h==null?p:wo(h),g=w==null?p:wo(w),p=new m(_,x+"leave",h,n,u),p.target=b,p.relatedTarget=g,_=null,bs(u)===c&&(m=new m(y,x+"enter",w,n,u),m.target=g,m.relatedTarget=b,_=m),b=_,h&&w)t:{for(m=h,y=w,x=0,g=m;g;g=oo(g))x++;for(g=0,_=y;_;_=oo(_))g++;for(;0<x-g;)m=oo(m),x--;for(;0<g-x;)y=oo(y),g--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=oo(m),y=oo(y)}m=null}else m=null;h!==null&&q0(f,p,h,m,!1),w!==null&&b!==null&&q0(f,b,w,m,!0)}}e:{if(p=c?wo(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var E=QP;else if(B0(p))if(Zw)E=t2;else{E=ZP;var j=JP}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=e2);if(E&&(E=E(e,c))){Jw(f,E,n,u);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Sh(p,"number",p.value)}switch(j=c?wo(c):window,e){case"focusin":(B0(j)||j.contentEditable==="true")&&(yo=j,Oh=c,aa=null);break;case"focusout":aa=Oh=yo=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,G0(f,n,u);break;case"selectionchange":if(s2)break;case"keydown":case"keyup":G0(f,n,u)}var C;if(Pm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else vo?Xw(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(qw&&n.locale!=="ko"&&(vo||P!=="onCompositionStart"?P==="onCompositionEnd"&&vo&&(C=Yw()):(Wr=u,Cm="value"in Wr?Wr.value:Wr.textContent,vo=!0)),j=Jc(c,P),0<j.length&&(P=new $0(P,e,null,n,u),f.push({event:P,listeners:j}),C?P.data=C:(C=Qw(n),C!==null&&(P.data=C)))),(C=GP?KP(e,n):YP(e,n))&&(c=Jc(c,"onBeforeInput"),0<c.length&&(u=new $0("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}cb(f,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=wa(e,n),o!=null&&r.unshift(Na(e,o,s)),o=wa(e,t),o!=null&&r.push(Na(e,o,s))),e=e.return}return r}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function q0(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=wa(n,o),l!=null&&i.unshift(Na(n,l,a))):s||(l=wa(n,o),l!=null&&i.push(Na(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var l2=/\r\n?/g,c2=/\u0000|\uFFFD/g;function X0(e){return(typeof e=="string"?e:""+e).replace(l2,`
`).replace(c2,"")}function Wl(e,t,n){if(t=X0(t),X0(e)!==t&&n)throw Error(q(425))}function Zc(){}var $h=null,Lh=null;function Fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(e){return Q0.resolve(null).then(e).catch(f2)}:zh;function f2(e){setTimeout(function(){throw e})}function kf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sa(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),An="__reactFiber$"+wi,ja="__reactProps$"+wi,lr="__reactContainer$"+wi,Bh="__reactEvents$"+wi,h2="__reactListeners$"+wi,p2="__reactHandles$"+wi;function bs(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lr]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=J0(e);e!==null;){if(n=e[An])return n;e=J0(e)}return t}e=n,n=e.parentNode}return null}function cl(e){return e=e[An]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Wu(e){return e[ja]||null}var Uh=[],bo=-1;function ls(e){return{current:e}}function Ae(e){0>bo||(e.current=Uh[bo],Uh[bo]=null,bo--)}function je(e,t){bo++,Uh[bo]=e.current,e.current=t}var ss={},at=ls(ss),_t=ls(!1),Ds=ss;function Jo(e,t){var n=e.type.contextTypes;if(!n)return ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function St(e){return e=e.childContextTypes,e!=null}function eu(){Ae(_t),Ae(at)}function Z0(e,t,n){if(at.current!==ss)throw Error(q(168));je(at,t),je(_t,n)}function db(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(q(108,Jj(e)||"Unknown",s));return De({},n,r)}function tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ss,Ds=at.current,je(at,e),je(_t,_t.current),!0}function ev(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=db(e,t,Ds),r.__reactInternalMemoizedMergedChildContext=e,Ae(_t),Ae(at),je(at,e)):Ae(_t),je(_t,n)}var Qn=null,Gu=!1,Cf=!1;function fb(e){Qn===null?Qn=[e]:Qn.push(e)}function m2(e){Gu=!0,fb(e)}function cs(){if(!Cf&&Qn!==null){Cf=!0;var e=0,t=Ee;try{var n=Qn;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qn=null,Gu=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(e+1)),$w(_m,cs),s}finally{Ee=t,Cf=!1}}return null}var _o=[],So=0,nu=null,ru=0,Vt=[],Wt=0,$s=null,Zn=1,er="";function ms(e,t){_o[So++]=ru,_o[So++]=nu,nu=e,ru=t}function hb(e,t,n){Vt[Wt++]=Zn,Vt[Wt++]=er,Vt[Wt++]=$s,$s=e;var r=Zn;e=er;var s=32-pn(r)-1;r&=~(1<<s),n+=1;var o=32-pn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Zn=1<<32-pn(t)+s|n<<s|r,er=o+e}else Zn=1<<o|n<<s|r,er=e}function Am(e){e.return!==null&&(ms(e,1),hb(e,1,0))}function Rm(e){for(;e===nu;)nu=_o[--So],_o[So]=null,ru=_o[--So],_o[So]=null;for(;e===$s;)$s=Vt[--Wt],Vt[Wt]=null,er=Vt[--Wt],Vt[Wt]=null,Zn=Vt[--Wt],Vt[Wt]=null}var $t=null,Dt=null,Re=!1,dn=null;function pb(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Dt=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$s!==null?{id:Zn,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Dt=null,!0):!1;default:return!1}}function Hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vh(e){if(Re){var t=Dt;if(t){var n=t;if(!tv(e,t)){if(Hh(e))throw Error(q(418));t=Qr(n.nextSibling);var r=$t;t&&tv(e,t)?pb(r,n):(e.flags=e.flags&-4097|2,Re=!1,$t=e)}}else{if(Hh(e))throw Error(q(418));e.flags=e.flags&-4097|2,Re=!1,$t=e}}}function nv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Gl(e){if(e!==$t)return!1;if(!Re)return nv(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fh(e.type,e.memoizedProps)),t&&(t=Dt)){if(Hh(e))throw mb(),Error(q(418));for(;t;)pb(e,t),t=Qr(t.nextSibling)}if(nv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dt=Qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=$t?Qr(e.stateNode.nextSibling):null;return!0}function mb(){for(var e=Dt;e;)e=Qr(e.nextSibling)}function Zo(){Dt=$t=null,Re=!1}function Mm(e){dn===null?dn=[e]:dn.push(e)}var g2=mr.ReactCurrentBatchConfig;function Fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Kl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rv(e){var t=e._init;return t(e._payload)}function gb(e){function t(y,x){if(e){var g=y.deletions;g===null?(y.deletions=[x],y.flags|=16):g.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=ts(y,x),y.index=0,y.sibling=null,y}function o(y,x,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<x?(y.flags|=2,x):g):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,g,_){return x===null||x.tag!==6?(x=Mf(g,y.mode,_),x.return=y,x):(x=s(x,g),x.return=y,x)}function l(y,x,g,_){var E=g.type;return E===go?u(y,x,g.props.children,_,g.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rr&&rv(E)===x.type)?(_=s(x,g.props),_.ref=Fi(y,x,g),_.return=y,_):(_=Ic(g.type,g.key,g.props,null,y.mode,_),_.ref=Fi(y,x,g),_.return=y,_)}function c(y,x,g,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=If(g,y.mode,_),x.return=y,x):(x=s(x,g.children||[]),x.return=y,x)}function u(y,x,g,_,E){return x===null||x.tag!==7?(x=As(g,y.mode,_,E),x.return=y,x):(x=s(x,g),x.return=y,x)}function f(y,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mf(""+x,y.mode,g),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dl:return g=Ic(x.type,x.key,x.props,null,y.mode,g),g.ref=Fi(y,null,x),g.return=y,g;case mo:return x=If(x,y.mode,g),x.return=y,x;case Rr:var _=x._init;return f(y,_(x._payload),g)}if(Yi(x)||Ii(x))return x=As(x,y.mode,g,null),x.return=y,x;Kl(y,x)}return null}function p(y,x,g,_){var E=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(y,x,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Dl:return g.key===E?l(y,x,g,_):null;case mo:return g.key===E?c(y,x,g,_):null;case Rr:return E=g._init,p(y,x,E(g._payload),_)}if(Yi(g)||Ii(g))return E!==null?null:u(y,x,g,_,null);Kl(y,g)}return null}function h(y,x,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(g)||null,a(x,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dl:return y=y.get(_.key===null?g:_.key)||null,l(x,y,_,E);case mo:return y=y.get(_.key===null?g:_.key)||null,c(x,y,_,E);case Rr:var j=_._init;return h(y,x,g,j(_._payload),E)}if(Yi(_)||Ii(_))return y=y.get(g)||null,u(x,y,_,E,null);Kl(x,_)}return null}function w(y,x,g,_){for(var E=null,j=null,C=x,P=x=0,I=null;C!==null&&P<g.length;P++){C.index>P?(I=C,C=null):I=C.sibling;var O=p(y,C,g[P],_);if(O===null){C===null&&(C=I);break}e&&C&&O.alternate===null&&t(y,C),x=o(O,x,P),j===null?E=O:j.sibling=O,j=O,C=I}if(P===g.length)return n(y,C),Re&&ms(y,P),E;if(C===null){for(;P<g.length;P++)C=f(y,g[P],_),C!==null&&(x=o(C,x,P),j===null?E=C:j.sibling=C,j=C);return Re&&ms(y,P),E}for(C=r(y,C);P<g.length;P++)I=h(C,y,P,g[P],_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),x=o(I,x,P),j===null?E=I:j.sibling=I,j=I);return e&&C.forEach(function(L){return t(y,L)}),Re&&ms(y,P),E}function m(y,x,g,_){var E=Ii(g);if(typeof E!="function")throw Error(q(150));if(g=E.call(g),g==null)throw Error(q(151));for(var j=E=null,C=x,P=x=0,I=null,O=g.next();C!==null&&!O.done;P++,O=g.next()){C.index>P?(I=C,C=null):I=C.sibling;var L=p(y,C,O.value,_);if(L===null){C===null&&(C=I);break}e&&C&&L.alternate===null&&t(y,C),x=o(L,x,P),j===null?E=L:j.sibling=L,j=L,C=I}if(O.done)return n(y,C),Re&&ms(y,P),E;if(C===null){for(;!O.done;P++,O=g.next())O=f(y,O.value,_),O!==null&&(x=o(O,x,P),j===null?E=O:j.sibling=O,j=O);return Re&&ms(y,P),E}for(C=r(y,C);!O.done;P++,O=g.next())O=h(C,y,P,O.value,_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),x=o(O,x,P),j===null?E=O:j.sibling=O,j=O);return e&&C.forEach(function(A){return t(y,A)}),Re&&ms(y,P),E}function b(y,x,g,_){if(typeof g=="object"&&g!==null&&g.type===go&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Dl:e:{for(var E=g.key,j=x;j!==null;){if(j.key===E){if(E=g.type,E===go){if(j.tag===7){n(y,j.sibling),x=s(j,g.props.children),x.return=y,y=x;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rr&&rv(E)===j.type){n(y,j.sibling),x=s(j,g.props),x.ref=Fi(y,j,g),x.return=y,y=x;break e}n(y,j);break}else t(y,j);j=j.sibling}g.type===go?(x=As(g.props.children,y.mode,_,g.key),x.return=y,y=x):(_=Ic(g.type,g.key,g.props,null,y.mode,_),_.ref=Fi(y,x,g),_.return=y,y=_)}return i(y);case mo:e:{for(j=g.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){n(y,x.sibling),x=s(x,g.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=If(g,y.mode,_),x.return=y,y=x}return i(y);case Rr:return j=g._init,b(y,x,j(g._payload),_)}if(Yi(g))return w(y,x,g,_);if(Ii(g))return m(y,x,g,_);Kl(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,g),x.return=y,y=x):(n(y,x),x=Mf(g,y.mode,_),x.return=y,y=x),i(y)):n(y,x)}return b}var ei=gb(!0),vb=gb(!1),su=ls(null),ou=null,Eo=null,Im=null;function Om(){Im=Eo=ou=null}function Dm(e){var t=su.current;Ae(su),e._currentValue=t}function Wh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){ou=e,Im=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(Im!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(ou===null)throw Error(q(308));Eo=e,ou.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var _s=null;function $m(e){_s===null?_s=[e]:_s.push(e)}function yb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$m(t)):(n.next=s.next,s.next=n),t.interleaved=n,cr(e,r)}function cr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mr=!1;function Lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,cr(e,n)}return s=r.interleaved,s===null?(t.next=t,$m(r)):(t.next=s.next,s.next=t),r.interleaved=t,cr(e,n)}function jc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}function sv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function iu(e,t,n,r){var s=e.updateQueue;Mr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,u=c=l=null,a=o;do{var p=a.lane,h=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,m=a;switch(p=t,h=n,m.tag){case 1:if(w=m.payload,typeof w=="function"){f=w.call(h,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,p=typeof w=="function"?w.call(h,f,p):w,p==null)break e;f=De({},f,p);break e;case 2:Mr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Fs|=i,e.lanes=i,e.memoizedState=f}}function ov(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var ul={},On=ls(ul),Pa=ls(ul),Ta=ls(ul);function Ss(e){if(e===ul)throw Error(q(174));return e}function Fm(e,t){switch(je(Ta,t),je(Pa,e),je(On,ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kh(t,e)}Ae(On),je(On,t)}function ti(){Ae(On),Ae(Pa),Ae(Ta)}function wb(e){Ss(Ta.current);var t=Ss(On.current),n=kh(t,e.type);t!==n&&(je(Pa,e),je(On,n))}function zm(e){Pa.current===e&&(Ae(On),Ae(Pa))}var Ie=ls(0);function au(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nf=[];function Bm(){for(var e=0;e<Nf.length;e++)Nf[e]._workInProgressVersionPrimary=null;Nf.length=0}var Pc=mr.ReactCurrentDispatcher,jf=mr.ReactCurrentBatchConfig,Ls=0,Oe=null,We=null,Ye=null,lu=!1,la=!1,Aa=0,v2=0;function nt(){throw Error(q(321))}function Um(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function Hm(e,t,n,r,s,o){if(Ls=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?b2:_2,e=n(r,s),la){o=0;do{if(la=!1,Aa=0,25<=o)throw Error(q(301));o+=1,Ye=We=null,t.updateQueue=null,Pc.current=S2,e=n(r,s)}while(la)}if(Pc.current=cu,t=We!==null&&We.next!==null,Ls=0,Ye=We=Oe=null,lu=!1,t)throw Error(q(300));return e}function Vm(){var e=Aa!==0;return Aa=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Oe.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Jt(){if(We===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ye===null?Oe.memoizedState:Ye.next;if(t!==null)Ye=t,We=e;else{if(e===null)throw Error(q(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ye===null?Oe.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Ra(e,t){return typeof t=="function"?t(e):t}function Pf(e){var t=Jt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=We,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var u=c.lane;if((Ls&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Oe.lanes|=u,Fs|=u}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,gn(r,t.memoizedState)||(wt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Oe.lanes|=o,Fs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tf(e){var t=Jt(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);gn(o,t.memoizedState)||(wt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bb(){}function _b(e,t){var n=Oe,r=Jt(),s=t(),o=!gn(r.memoizedState,s);if(o&&(r.memoizedState=s,wt=!0),r=r.queue,Wm(kb.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Ma(9,Eb.bind(null,n,r,s,t),void 0,null),qe===null)throw Error(q(349));Ls&30||Sb(n,t,s)}return s}function Sb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Eb(e,t,n,r){t.value=n,t.getSnapshot=r,Cb(t)&&Nb(e)}function kb(e,t,n){return n(function(){Cb(t)&&Nb(e)})}function Cb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Nb(e){var t=cr(e,1);t!==null&&mn(t,e,1,-1)}function iv(e){var t=Nn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t.queue=e,e=e.dispatch=w2.bind(null,Oe,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jb(){return Jt().memoizedState}function Tc(e,t,n,r){var s=Nn();Oe.flags|=e,s.memoizedState=Ma(1|t,n,void 0,r===void 0?null:r)}function Ku(e,t,n,r){var s=Jt();r=r===void 0?null:r;var o=void 0;if(We!==null){var i=We.memoizedState;if(o=i.destroy,r!==null&&Um(r,i.deps)){s.memoizedState=Ma(t,n,o,r);return}}Oe.flags|=e,s.memoizedState=Ma(1|t,n,o,r)}function av(e,t){return Tc(8390656,8,e,t)}function Wm(e,t){return Ku(2048,8,e,t)}function Pb(e,t){return Ku(4,2,e,t)}function Tb(e,t){return Ku(4,4,e,t)}function Ab(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rb(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4,4,Ab.bind(null,t,e),n)}function Gm(){}function Mb(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Um(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ib(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Um(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ob(e,t,n){return Ls&21?(gn(n,t)||(n=zw(),Oe.lanes|=n,Fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=n)}function y2(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=jf.transition;jf.transition={};try{e(!1),t()}finally{Ee=n,jf.transition=r}}function Db(){return Jt().memoizedState}function x2(e,t,n){var r=es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$b(e))Lb(t,n);else if(n=yb(e,t,n,r),n!==null){var s=dt();mn(n,e,r,s),Fb(n,t,r)}}function w2(e,t,n){var r=es(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($b(e))Lb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,gn(a,i)){var l=t.interleaved;l===null?(s.next=s,$m(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=yb(e,t,s,r),n!==null&&(s=dt(),mn(n,e,r,s),Fb(n,t,r))}}function $b(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Lb(e,t){la=lu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}var cu={readContext:Qt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},b2={readContext:Qt,useCallback:function(e,t){return Nn().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:av,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tc(4194308,4,Ab.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tc(4,2,e,t)},useMemo:function(e,t){var n=Nn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=x2.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=Nn();return e={current:e},t.memoizedState=e},useState:iv,useDebugValue:Gm,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=iv(!1),t=e[0];return e=y2.bind(null,e[1]),Nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,s=Nn();if(Re){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),qe===null)throw Error(q(349));Ls&30||Sb(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,av(kb.bind(null,r,o,e),[e]),r.flags|=2048,Ma(9,Eb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Nn(),t=qe.identifierPrefix;if(Re){var n=er,r=Zn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=v2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_2={readContext:Qt,useCallback:Mb,useContext:Qt,useEffect:Wm,useImperativeHandle:Rb,useInsertionEffect:Pb,useLayoutEffect:Tb,useMemo:Ib,useReducer:Pf,useRef:jb,useState:function(){return Pf(Ra)},useDebugValue:Gm,useDeferredValue:function(e){var t=Jt();return Ob(t,We.memoizedState,e)},useTransition:function(){var e=Pf(Ra)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:bb,useSyncExternalStore:_b,useId:Db,unstable_isNewReconciler:!1},S2={readContext:Qt,useCallback:Mb,useContext:Qt,useEffect:Wm,useImperativeHandle:Rb,useInsertionEffect:Pb,useLayoutEffect:Tb,useMemo:Ib,useReducer:Tf,useRef:jb,useState:function(){return Tf(Ra)},useDebugValue:Gm,useDeferredValue:function(e){var t=Jt();return We===null?t.memoizedState=e:Ob(t,We.memoizedState,e)},useTransition:function(){var e=Tf(Ra)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:bb,useSyncExternalStore:_b,useId:Db,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yu={isMounted:function(e){return(e=e._reactInternals)?Xs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=es(e),o=nr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Jr(e,o,s),t!==null&&(mn(t,e,s,r),jc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=es(e),o=nr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Jr(e,o,s),t!==null&&(mn(t,e,s,r),jc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=es(e),s=nr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Jr(e,s,r),t!==null&&(mn(t,e,r,n),jc(t,e,r))}};function lv(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ka(n,r)||!ka(s,o):!0}function zb(e,t,n){var r=!1,s=ss,o=t.contextType;return typeof o=="object"&&o!==null?o=Qt(o):(s=St(t)?Ds:at.current,r=t.contextTypes,o=(r=r!=null)?Jo(e,s):ss),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function cv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yu.enqueueReplaceState(t,t.state,null)}function Kh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Lm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Qt(o):(o=St(t)?Ds:at.current,s.context=Jo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Gh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yu.enqueueReplaceState(s,s.state,null),iu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var n="",r=t;do n+=Qj(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Af(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var E2=typeof WeakMap=="function"?WeakMap:Map;function Bb(e,t,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){du||(du=!0,sp=r),Yh(e,t)},n}function Ub(e,t,n){n=nr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Yh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yh(e,t),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function uv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new E2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=L2.bind(null,e,t,n),t.then(e,e))}function dv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nr(-1,1),t.tag=2,Jr(n,t,1))),n.lanes|=1),e)}var k2=mr.ReactCurrentOwner,wt=!1;function ct(e,t,n,r){t.child=e===null?vb(t,null,n,r):ei(t,e.child,n,r)}function hv(e,t,n,r,s){n=n.render;var o=t.ref;return Mo(t,s),r=Hm(e,t,n,r,o,s),n=Vm(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ur(e,t,s)):(Re&&n&&Am(t),t.flags|=1,ct(e,t,r,s),t.child)}function pv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!eg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Hb(e,t,o,r,s)):(e=Ic(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ka,n(i,r)&&e.ref===t.ref)return ur(e,t,s)}return t.flags|=1,e=ts(o,r),e.ref=t.ref,e.return=t,t.child=e}function Hb(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ka(o,r)&&e.ref===t.ref)if(wt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,ur(e,t,s)}return qh(e,t,n,r,s)}function Vb(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Co,At),At|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Co,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(Co,At),At|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,je(Co,At),At|=r;return ct(e,t,s,n),t.child}function Wb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qh(e,t,n,r,s){var o=St(n)?Ds:at.current;return o=Jo(t,o),Mo(t,s),n=Hm(e,t,n,r,o,s),r=Vm(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ur(e,t,s)):(Re&&r&&Am(t),t.flags|=1,ct(e,t,n,s),t.child)}function mv(e,t,n,r,s){if(St(n)){var o=!0;tu(t)}else o=!1;if(Mo(t,s),t.stateNode===null)Ac(e,t),zb(t,n,r),Kh(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=St(n)?Ds:at.current,c=Jo(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cv(t,i,r,c),Mr=!1;var p=t.memoizedState;i.state=p,iu(t,r,i,s),l=t.memoizedState,a!==r||p!==l||_t.current||Mr?(typeof u=="function"&&(Gh(t,n,u,r),l=t.memoizedState),(a=Mr||lv(t,n,a,r,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,xb(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rn(t.type,a),i.props=c,f=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=St(n)?Ds:at.current,l=Jo(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&cv(t,i,r,l),Mr=!1,p=t.memoizedState,i.state=p,iu(t,r,i,s);var w=t.memoizedState;a!==f||p!==w||_t.current||Mr?(typeof h=="function"&&(Gh(t,n,h,r),w=t.memoizedState),(c=Mr||lv(t,n,c,r,p,w,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Xh(e,t,n,r,o,s)}function Xh(e,t,n,r,s,o){Wb(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&ev(t,n,!1),ur(e,t,o);r=t.stateNode,k2.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ei(t,e.child,null,o),t.child=ei(t,null,a,o)):ct(e,t,a,o),t.memoizedState=r.state,s&&ev(t,n,!0),t.child}function Gb(e){var t=e.stateNode;t.pendingContext?Z0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Z0(e,t.context,!1),Fm(e,t.containerInfo)}function gv(e,t,n,r,s){return Zo(),Mm(s),t.flags|=256,ct(e,t,n,r),t.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Jh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kb(e,t,n){var r=t.pendingProps,s=Ie.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ie,s&1),e===null)return Vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Qu(i,r,0,null),e=As(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jh(n),t.memoizedState=Qh,e):Km(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return C2(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ts(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=ts(a,o):(o=As(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Jh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Qh,r}return o=e.child,e=o.sibling,r=ts(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Km(e,t){return t=Qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yl(e,t,n,r){return r!==null&&Mm(r),ei(t,e.child,null,n),e=Km(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C2(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Af(Error(q(422))),Yl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Qu({mode:"visible",children:r.children},s,0,null),o=As(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ei(t,e.child,null,i),t.child.memoizedState=Jh(i),t.memoizedState=Qh,o);if(!(t.mode&1))return Yl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=Af(o,r,void 0),Yl(e,t,i,r)}if(a=(i&e.childLanes)!==0,wt||a){if(r=qe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,cr(e,s),mn(r,e,s,-1))}return Zm(),r=Af(Error(q(421))),Yl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=F2.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Dt=Qr(s.nextSibling),$t=t,Re=!0,dn=null,e!==null&&(Vt[Wt++]=Zn,Vt[Wt++]=er,Vt[Wt++]=$s,Zn=e.id,er=e.overflow,$s=t),t=Km(t,r.children),t.flags|=4096,t)}function vv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wh(e.return,t,n)}function Rf(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Yb(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vv(e,n,t);else if(e.tag===19)vv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&au(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Rf(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&au(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Rf(t,!0,n,null,o);break;case"together":Rf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function N2(e,t,n){switch(t.tag){case 3:Gb(t),Zo();break;case 5:wb(t);break;case 1:St(t.type)&&tu(t);break;case 4:Fm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(su,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?Kb(e,t,n):(je(Ie,Ie.current&1),e=ur(e,t,n),e!==null?e.sibling:null);je(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Yb(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,Vb(e,t,n)}return ur(e,t,n)}var qb,Zh,Xb,Qb;qb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};Xb=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ss(On.current);var o=null;switch(n){case"input":s=bh(e,s),r=bh(e,r),o=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),o=[];break;case"textarea":s=Eh(e,s),r=Eh(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zc)}Ch(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ya.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ya.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Qb=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function j2(e,t,n){var r=t.pendingProps;switch(Rm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return St(t.type)&&eu(),rt(t),null;case 3:return r=t.stateNode,ti(),Ae(_t),Ae(at),Bm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dn!==null&&(ap(dn),dn=null))),Zh(e,t),rt(t),null;case 5:zm(t);var s=Ss(Ta.current);if(n=t.type,e!==null&&t.stateNode!=null)Xb(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return rt(t),null}if(e=Ss(On.current),Gl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[An]=t,r[ja]=o,e=(t.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(s=0;s<Xi.length;s++)Te(Xi[s],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":C0(r,o),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Te("invalid",r);break;case"textarea":j0(r,o),Te("invalid",r)}Ch(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Wl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Wl(r.textContent,a,e),s=["children",""+a]):ya.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Te("scroll",r)}switch(n){case"input":$l(r),N0(r,o,!0);break;case"textarea":$l(r),P0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[An]=t,e[ja]=r,qb(e,t,!1,!1),t.stateNode=e;e:{switch(i=Nh(n,r),n){case"dialog":Te("cancel",e),Te("close",e),s=r;break;case"iframe":case"object":case"embed":Te("load",e),s=r;break;case"video":case"audio":for(s=0;s<Xi.length;s++)Te(Xi[s],e);s=r;break;case"source":Te("error",e),s=r;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=r;break;case"details":Te("toggle",e),s=r;break;case"input":C0(e,r),s=bh(e,r),Te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Te("invalid",e);break;case"textarea":j0(e,r),s=Eh(e,r),Te("invalid",e);break;default:s=r}Ch(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jw(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xa(e,l):typeof l=="number"&&xa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Te("scroll",e):l!=null&&vm(e,o,l,i))}switch(n){case"input":$l(e),N0(e,r,!1);break;case"textarea":$l(e),P0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Po(e,!!r.multiple,o,!1):r.defaultValue!=null&&Po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Qb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Ss(Ta.current),Ss(On.current),Gl(t)){if(r=t.stateNode,n=t.memoizedProps,r[An]=t,(o=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:Wl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=t,t.stateNode=r}return rt(t),null;case 13:if(Ae(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Dt!==null&&t.mode&1&&!(t.flags&128))mb(),Zo(),t.flags|=98560,o=!1;else if(o=Gl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[An]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),o=!1}else dn!==null&&(ap(dn),dn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ge===0&&(Ge=3):Zm())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return ti(),Zh(e,t),e===null&&Ca(t.stateNode.containerInfo),rt(t),null;case 10:return Dm(t.type._context),rt(t),null;case 17:return St(t.type)&&eu(),rt(t),null;case 19:if(Ae(Ie),o=t.memoizedState,o===null)return rt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)zi(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=au(e),i!==null){for(t.flags|=128,zi(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ie,Ie.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>ri&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304)}else{if(!r)if(e=au(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Re)return rt(t),null}else 2*ze()-o.renderingStartTime>ri&&n!==1073741824&&(t.flags|=128,r=!0,zi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=Ie.current,je(Ie,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return Jm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function P2(e,t){switch(Rm(t),t.tag){case 1:return St(t.type)&&eu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),Ae(_t),Ae(at),Bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zm(t),null;case 13:if(Ae(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Ie),null;case 4:return ti(),null;case 10:return Dm(t.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var ql=!1,it=!1,T2=typeof WeakSet=="function"?WeakSet:Set,te=null;function ko(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function ep(e,t,n){try{n()}catch(r){Le(e,t,r)}}var yv=!1;function A2(e,t){if($h=Xc,e=nb(),Tm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===s&&(a=i),p===o&&++u===r&&(l=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lh={focusedElem:e,selectionRange:n},Xc=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,b=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:rn(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){Le(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return w=yv,yv=!1,w}function ca(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ep(t,n,o)}s=s.next}while(s!==r)}}function qu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jb(e){var t=e.alternate;t!==null&&(e.alternate=null,Jb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[ja],delete t[Bh],delete t[h2],delete t[p2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zb(e){return e.tag===5||e.tag===3||e.tag===4}function xv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zc));else if(r!==4&&(e=e.child,e!==null))for(np(e,t,n),e=e.sibling;e!==null;)np(e,t,n),e=e.sibling}function rp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rp(e,t,n),e=e.sibling;e!==null;)rp(e,t,n),e=e.sibling}var Qe=null,ln=!1;function Sr(e,t,n){for(n=n.child;n!==null;)e1(e,t,n),n=n.sibling}function e1(e,t,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Bu,n)}catch{}switch(n.tag){case 5:it||ko(n,t);case 6:var r=Qe,s=ln;Qe=null,Sr(e,t,n),Qe=r,ln=s,Qe!==null&&(ln?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(ln?(e=Qe,n=n.stateNode,e.nodeType===8?kf(e.parentNode,n):e.nodeType===1&&kf(e,n),Sa(e)):kf(Qe,n.stateNode));break;case 4:r=Qe,s=ln,Qe=n.stateNode.containerInfo,ln=!0,Sr(e,t,n),Qe=r,ln=s;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ep(n,t,i),s=s.next}while(s!==r)}Sr(e,t,n);break;case 1:if(!it&&(ko(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Le(n,t,a)}Sr(e,t,n);break;case 21:Sr(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Sr(e,t,n),it=r):Sr(e,t,n);break;default:Sr(e,t,n)}}function wv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new T2),t.forEach(function(r){var s=z2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,ln=!1;break e;case 3:Qe=a.stateNode.containerInfo,ln=!0;break e;case 4:Qe=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Qe===null)throw Error(q(160));e1(o,i,s),Qe=null,ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Le(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t1(t,e),t=t.sibling}function t1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),kn(e),r&4){try{ca(3,e,e.return),qu(3,e)}catch(m){Le(e,e.return,m)}try{ca(5,e,e.return)}catch(m){Le(e,e.return,m)}}break;case 1:en(t,e),kn(e),r&512&&n!==null&&ko(n,n.return);break;case 5:if(en(t,e),kn(e),r&512&&n!==null&&ko(n,n.return),e.flags&32){var s=e.stateNode;try{xa(s,"")}catch(m){Le(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Sw(s,o),Nh(a,i);var c=Nh(a,o);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?jw(s,f):u==="dangerouslySetInnerHTML"?Cw(s,f):u==="children"?xa(s,f):vm(s,u,f,c)}switch(a){case"input":_h(s,o);break;case"textarea":Ew(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Po(s,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?Po(s,!!o.multiple,o.defaultValue,!0):Po(s,!!o.multiple,o.multiple?[]:"",!1))}s[ja]=o}catch(m){Le(e,e.return,m)}}break;case 6:if(en(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){Le(e,e.return,m)}}break;case 3:if(en(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(t.containerInfo)}catch(m){Le(e,e.return,m)}break;case 4:en(t,e),kn(e);break;case 13:en(t,e),kn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Xm=ze())),r&4&&wv(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(it=(c=it)||u,en(t,e),it=c):en(t,e),kn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(te=e,u=e.child;u!==null;){for(f=te=u;te!==null;){switch(p=te,h=p.child,p.tag){case 0:case 11:case 14:case 15:ca(4,p,p.return);break;case 1:ko(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(m){Le(r,n,m)}}break;case 5:ko(p,p.return);break;case 22:if(p.memoizedState!==null){_v(f);continue}}h!==null?(h.return=p,te=h):_v(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nw("display",i))}catch(m){Le(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Le(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(t,e),kn(e),r&4&&wv(e);break;case 21:break;default:en(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zb(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xa(s,""),r.flags&=-33);var o=xv(e);rp(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=xv(e);np(e,a,i);break;default:throw Error(q(161))}}catch(l){Le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R2(e,t,n){te=e,n1(e)}function n1(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ql;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=ql;var c=it;if(ql=i,(it=l)&&!c)for(te=s;te!==null;)i=te,l=i.child,i.tag===22&&i.memoizedState!==null?Sv(s):l!==null?(l.return=i,te=l):Sv(s);for(;o!==null;)te=o,n1(o),o=o.sibling;te=s,ql=a,it=c}bv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,te=o):bv(e)}}function bv(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||qu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ov(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ov(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Sa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}it||t.flags&512&&tp(t)}catch(p){Le(t,t.return,p)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function _v(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function Sv(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qu(4,t)}catch(l){Le(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Le(t,s,l)}}var o=t.return;try{tp(t)}catch(l){Le(t,o,l)}break;case 5:var i=t.return;try{tp(t)}catch(l){Le(t,i,l)}}}catch(l){Le(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var M2=Math.ceil,uu=mr.ReactCurrentDispatcher,Ym=mr.ReactCurrentOwner,Yt=mr.ReactCurrentBatchConfig,ge=0,qe=null,Be=null,Je=0,At=0,Co=ls(0),Ge=0,Ia=null,Fs=0,Xu=0,qm=0,ua=null,yt=null,Xm=0,ri=1/0,qn=null,du=!1,sp=null,Zr=null,Xl=!1,Gr=null,fu=0,da=0,op=null,Rc=-1,Mc=0;function dt(){return ge&6?ze():Rc!==-1?Rc:Rc=ze()}function es(e){return e.mode&1?ge&2&&Je!==0?Je&-Je:g2.transition!==null?(Mc===0&&(Mc=zw()),Mc):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Kw(e.type)),e):1}function mn(e,t,n,r){if(50<da)throw da=0,op=null,Error(q(185));al(e,n,r),(!(ge&2)||e!==qe)&&(e===qe&&(!(ge&2)&&(Xu|=n),Ge===4&&$r(e,Je)),Et(e,r),n===1&&ge===0&&!(t.mode&1)&&(ri=ze()+500,Gu&&cs()))}function Et(e,t){var n=e.callbackNode;gP(e,t);var r=qc(e,e===qe?Je:0);if(r===0)n!==null&&R0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&R0(n),t===1)e.tag===0?m2(Ev.bind(null,e)):fb(Ev.bind(null,e)),d2(function(){!(ge&6)&&cs()}),n=null;else{switch(Bw(r)){case 1:n=_m;break;case 4:n=Lw;break;case 16:n=Yc;break;case 536870912:n=Fw;break;default:n=Yc}n=u1(n,r1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function r1(e,t){if(Rc=-1,Mc=0,ge&6)throw Error(q(327));var n=e.callbackNode;if(Io()&&e.callbackNode!==n)return null;var r=qc(e,e===qe?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hu(e,r);else{t=r;var s=ge;ge|=2;var o=o1();(qe!==e||Je!==t)&&(qn=null,ri=ze()+500,Ts(e,t));do try{D2();break}catch(a){s1(e,a)}while(!0);Om(),uu.current=o,ge=s,Be!==null?t=0:(qe=null,Je=0,t=Ge)}if(t!==0){if(t===2&&(s=Rh(e),s!==0&&(r=s,t=ip(e,s))),t===1)throw n=Ia,Ts(e,0),$r(e,r),Et(e,ze()),n;if(t===6)$r(e,r);else{if(s=e.current.alternate,!(r&30)&&!I2(s)&&(t=hu(e,r),t===2&&(o=Rh(e),o!==0&&(r=o,t=ip(e,o))),t===1))throw n=Ia,Ts(e,0),$r(e,r),Et(e,ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:gs(e,yt,qn);break;case 3:if($r(e,r),(r&130023424)===r&&(t=Xm+500-ze(),10<t)){if(qc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zh(gs.bind(null,e,yt,qn),t);break}gs(e,yt,qn);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-pn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M2(r/1960))-r,10<r){e.timeoutHandle=zh(gs.bind(null,e,yt,qn),r);break}gs(e,yt,qn);break;case 5:gs(e,yt,qn);break;default:throw Error(q(329))}}}return Et(e,ze()),e.callbackNode===n?r1.bind(null,e):null}function ip(e,t){var n=ua;return e.current.memoizedState.isDehydrated&&(Ts(e,t).flags|=256),e=hu(e,t),e!==2&&(t=yt,yt=n,t!==null&&ap(t)),e}function ap(e){yt===null?yt=e:yt.push.apply(yt,e)}function I2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!gn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~qm,t&=~Xu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),r=1<<n;e[n]=-1,t&=~r}}function Ev(e){if(ge&6)throw Error(q(327));Io();var t=qc(e,0);if(!(t&1))return Et(e,ze()),null;var n=hu(e,t);if(e.tag!==0&&n===2){var r=Rh(e);r!==0&&(t=r,n=ip(e,r))}if(n===1)throw n=Ia,Ts(e,0),$r(e,t),Et(e,ze()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,yt,qn),Et(e,ze()),null}function Qm(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(ri=ze()+500,Gu&&cs())}}function zs(e){Gr!==null&&Gr.tag===0&&!(ge&6)&&Io();var t=ge;ge|=1;var n=Yt.transition,r=Ee;try{if(Yt.transition=null,Ee=1,e)return e()}finally{Ee=r,Yt.transition=n,ge=t,!(ge&6)&&cs()}}function Jm(){At=Co.current,Ae(Co)}function Ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,u2(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:ti(),Ae(_t),Ae(at),Bm();break;case 5:zm(r);break;case 4:ti();break;case 13:Ae(Ie);break;case 19:Ae(Ie);break;case 10:Dm(r.type._context);break;case 22:case 23:Jm()}n=n.return}if(qe=e,Be=e=ts(e.current,null),Je=At=t,Ge=0,Ia=null,qm=Xu=Fs=0,yt=ua=null,_s!==null){for(t=0;t<_s.length;t++)if(n=_s[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}_s=null}return e}function s1(e,t){do{var n=Be;try{if(Om(),Pc.current=cu,lu){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lu=!1}if(Ls=0,Ye=We=Oe=null,la=!1,Aa=0,Ym.current=null,n===null||n.return===null){Ge=1,Ia=t,Be=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=dv(i);if(h!==null){h.flags&=-257,fv(h,i,a,o,t),h.mode&1&&uv(o,c,t),t=h,l=c;var w=t.updateQueue;if(w===null){var m=new Set;m.add(l),t.updateQueue=m}else w.add(l);break e}else{if(!(t&1)){uv(o,c,t),Zm();break e}l=Error(q(426))}}else if(Re&&a.mode&1){var b=dv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fv(b,i,a,o,t),Mm(ni(l,a));break e}}o=l=ni(l,a),Ge!==4&&(Ge=2),ua===null?ua=[o]:ua.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Bb(o,l,t);sv(o,y);break e;case 1:a=l;var x=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Ub(o,a,t);sv(o,_);break e}}o=o.return}while(o!==null)}a1(n)}catch(E){t=E,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function o1(){var e=uu.current;return uu.current=cu,e===null?cu:e}function Zm(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),qe===null||!(Fs&268435455)&&!(Xu&268435455)||$r(qe,Je)}function hu(e,t){var n=ge;ge|=2;var r=o1();(qe!==e||Je!==t)&&(qn=null,Ts(e,t));do try{O2();break}catch(s){s1(e,s)}while(!0);if(Om(),ge=n,uu.current=r,Be!==null)throw Error(q(261));return qe=null,Je=0,Ge}function O2(){for(;Be!==null;)i1(Be)}function D2(){for(;Be!==null&&!aP();)i1(Be)}function i1(e){var t=c1(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?a1(e):Be=t,Ym.current=null}function a1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=P2(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Be=null;return}}else if(n=j2(n,t,At),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ge===0&&(Ge=5)}function gs(e,t,n){var r=Ee,s=Yt.transition;try{Yt.transition=null,Ee=1,$2(e,t,n,r)}finally{Yt.transition=s,Ee=r}return null}function $2(e,t,n,r){do Io();while(Gr!==null);if(ge&6)throw Error(q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(vP(e,o),e===qe&&(Be=qe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xl||(Xl=!0,u1(Yc,function(){return Io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yt.transition,Yt.transition=null;var i=Ee;Ee=1;var a=ge;ge|=4,Ym.current=null,A2(e,n),t1(n,e),r2(Lh),Xc=!!$h,Lh=$h=null,e.current=n,R2(n),lP(),ge=a,Ee=i,Yt.transition=o}else e.current=n;if(Xl&&(Xl=!1,Gr=e,fu=s),o=e.pendingLanes,o===0&&(Zr=null),dP(n.stateNode),Et(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(du)throw du=!1,e=sp,sp=null,e;return fu&1&&e.tag!==0&&Io(),o=e.pendingLanes,o&1?e===op?da++:(da=0,op=e):da=0,cs(),null}function Io(){if(Gr!==null){var e=Bw(fu),t=Yt.transition,n=Ee;try{if(Yt.transition=null,Ee=16>e?16:e,Gr===null)var r=!1;else{if(e=Gr,Gr=null,fu=0,ge&6)throw Error(q(331));var s=ge;for(ge|=4,te=e.current;te!==null;){var o=te,i=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:ca(8,u,o)}var f=u.child;if(f!==null)f.return=u,te=f;else for(;te!==null;){u=te;var p=u.sibling,h=u.return;if(Jb(u),u===c){te=null;break}if(p!==null){p.return=h,te=p;break}te=h}}}var w=o.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}te=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,te=i;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ca(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,te=y;break e}te=o.return}}var x=e.current;for(te=x;te!==null;){i=te;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,te=g;else e:for(i=x;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qu(9,a)}}catch(E){Le(a,a.return,E)}if(a===i){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(ge=s,cs(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Bu,e)}catch{}r=!0}return r}finally{Ee=n,Yt.transition=t}}return!1}function kv(e,t,n){t=ni(n,t),t=Bb(e,t,1),e=Jr(e,t,1),t=dt(),e!==null&&(al(e,1,t),Et(e,t))}function Le(e,t,n){if(e.tag===3)kv(e,e,n);else for(;t!==null;){if(t.tag===3){kv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){e=ni(n,e),e=Ub(t,e,1),t=Jr(t,e,1),e=dt(),t!==null&&(al(t,1,e),Et(t,e));break}}t=t.return}}function L2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(Je&n)===n&&(Ge===4||Ge===3&&(Je&130023424)===Je&&500>ze()-Xm?Ts(e,0):qm|=n),Et(e,t)}function l1(e,t){t===0&&(e.mode&1?(t=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):t=1);var n=dt();e=cr(e,t),e!==null&&(al(e,t,n),Et(e,n))}function F2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l1(e,n)}function z2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),l1(e,n)}var c1;c1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wt=!1,N2(e,t,n);wt=!!(e.flags&131072)}else wt=!1,Re&&t.flags&1048576&&hb(t,ru,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ac(e,t),e=t.pendingProps;var s=Jo(t,at.current);Mo(t,n),s=Hm(null,t,r,e,s,n);var o=Vm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(o=!0,tu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lm(t),s.updater=Yu,t.stateNode=s,s._reactInternals=t,Kh(t,r,e,n),t=Xh(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&Am(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ac(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=U2(r),e=rn(r,e),s){case 0:t=qh(null,t,r,e,n);break e;case 1:t=mv(null,t,r,e,n);break e;case 11:t=hv(null,t,r,e,n);break e;case 14:t=pv(null,t,r,rn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),qh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),mv(e,t,r,s,n);case 3:e:{if(Gb(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,s=o.element,xb(e,t),iu(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ni(Error(q(423)),t),t=gv(e,t,r,n,s);break e}else if(r!==s){s=ni(Error(q(424)),t),t=gv(e,t,r,n,s);break e}else for(Dt=Qr(t.stateNode.containerInfo.firstChild),$t=t,Re=!0,dn=null,n=vb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),r===s){t=ur(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return wb(t),e===null&&Vh(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Fh(r,s)?i=null:o!==null&&Fh(r,o)&&(t.flags|=32),Wb(e,t),ct(e,t,i,n),t.child;case 6:return e===null&&Vh(t),null;case 13:return Kb(e,t,n);case 4:return Fm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ei(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),hv(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,je(su,r._currentValue),r._currentValue=i,o!==null)if(gn(o.value,i)){if(o.children===s.children&&!_t.current){t=ur(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=nr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Wh(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Mo(t,n),s=Qt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=rn(r,t.pendingProps),s=rn(r.type,s),pv(e,t,r,s,n);case 15:return Hb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rn(r,s),Ac(e,t),t.tag=1,St(r)?(e=!0,tu(t)):e=!1,Mo(t,n),zb(t,r,s),Kh(t,r,s,n),Xh(null,t,r,!0,e,n);case 19:return Yb(e,t,n);case 22:return Vb(e,t,n)}throw Error(q(156,t.tag))};function u1(e,t){return $w(e,t)}function B2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new B2(e,t,n,r)}function eg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U2(e){if(typeof e=="function")return eg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===wm)return 14}return 2}function ts(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")eg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case go:return As(n.children,s,o,t);case ym:i=8,s|=8;break;case vh:return e=Gt(12,n,t,s|2),e.elementType=vh,e.lanes=o,e;case yh:return e=Gt(13,n,t,s),e.elementType=yh,e.lanes=o,e;case xh:return e=Gt(19,n,t,s),e.elementType=xh,e.lanes=o,e;case ww:return Qu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yw:i=10;break e;case xw:i=9;break e;case xm:i=11;break e;case wm:i=14;break e;case Rr:i=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Gt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function As(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function Qu(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=ww,e.lanes=n,e.stateNode={isHidden:!1},e}function Mf(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function If(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tg(e,t,n,r,s,o,i,a,l){return e=new H2(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(o),e}function V2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function d1(e){if(!e)return ss;e=e._reactInternals;e:{if(Xs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(St(n))return db(e,n,t)}return t}function f1(e,t,n,r,s,o,i,a,l){return e=tg(n,r,!0,e,s,o,i,a,l),e.context=d1(null),n=e.current,r=dt(),s=es(n),o=nr(r,s),o.callback=t??null,Jr(n,o,s),e.current.lanes=s,al(e,s,r),Et(e,r),e}function Ju(e,t,n,r){var s=t.current,o=dt(),i=es(s);return n=d1(n),t.context===null?t.context=n:t.pendingContext=n,t=nr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jr(s,t,i),e!==null&&(mn(e,s,i,o),jc(e,s,i)),i}function pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ng(e,t){Cv(e,t),(e=e.alternate)&&Cv(e,t)}function W2(){return null}var h1=typeof reportError=="function"?reportError:function(e){console.error(e)};function rg(e){this._internalRoot=e}Zu.prototype.render=rg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Ju(e,t,null,null)};Zu.prototype.unmount=rg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zs(function(){Ju(null,e,null,null)}),t[lr]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dr.length&&t!==0&&t<Dr[n].priority;n++);Dr.splice(n,0,e),n===0&&Gw(e)}};function sg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function G2(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=pu(i);o.call(c)}}var i=f1(t,r,e,0,null,!1,!1,"",Nv);return e._reactRootContainer=i,e[lr]=i.current,Ca(e.nodeType===8?e.parentNode:e),zs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=pu(l);a.call(c)}}var l=tg(e,0,!1,null,null,!1,!1,"",Nv);return e._reactRootContainer=l,e[lr]=l.current,Ca(e.nodeType===8?e.parentNode:e),zs(function(){Ju(t,l,n,r)}),l}function td(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=pu(i);a.call(l)}}Ju(t,i,e,s)}else i=G2(n,t,e,s,r);return pu(i)}Uw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qi(t.pendingLanes);n!==0&&(Sm(t,n|1),Et(t,ze()),!(ge&6)&&(ri=ze()+500,cs()))}break;case 13:zs(function(){var r=cr(e,1);if(r!==null){var s=dt();mn(r,e,1,s)}}),ng(e,1)}};Em=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var n=dt();mn(t,e,134217728,n)}ng(e,134217728)}};Hw=function(e){if(e.tag===13){var t=es(e),n=cr(e,t);if(n!==null){var r=dt();mn(n,e,t,r)}ng(e,t)}};Vw=function(){return Ee};Ww=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};Ph=function(e,t,n){switch(t){case"input":if(_h(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wu(r);if(!s)throw Error(q(90));_w(r),_h(r,s)}}}break;case"textarea":Ew(e,n);break;case"select":t=n.value,t!=null&&Po(e,!!n.multiple,t,!1)}};Aw=Qm;Rw=zs;var K2={usingClientEntryPoint:!1,Events:[cl,wo,Wu,Pw,Tw,Qm]},Bi={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ow(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||W2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Bu=Ql.inject(Y2),In=Ql}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K2;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(t))throw Error(q(200));return V2(e,t,null,n)};Bt.createRoot=function(e,t){if(!sg(e))throw Error(q(299));var n=!1,r="",s=h1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tg(e,1,!1,null,null,n,!1,r,s),e[lr]=t.current,Ca(e.nodeType===8?e.parentNode:e),new rg(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Ow(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return zs(e)};Bt.hydrate=function(e,t,n){if(!ed(t))throw Error(q(200));return td(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!sg(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=h1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=f1(t,null,e,1,n??null,s,!1,o,i),e[lr]=t.current,Ca(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Zu(t)};Bt.render=function(e,t,n){if(!ed(t))throw Error(q(200));return td(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!ed(e))throw Error(q(40));return e._reactRootContainer?(zs(function(){td(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};Bt.unstable_batchedUpdates=Qm;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ed(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return td(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function p1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p1)}catch(e){console.error(e)}}p1(),pw.exports=Bt;var Qs=pw.exports;const m1=cm(Qs);var g1,jv=Qs;g1=jv.createRoot,jv.hydrateRoot;const q2=1,X2=1e6;let Of=0;function Q2(){return Of=(Of+1)%Number.MAX_SAFE_INTEGER,Of.toString()}const Df=new Map,Pv=e=>{if(Df.has(e))return;const t=setTimeout(()=>{Df.delete(e),fa({type:"REMOVE_TOAST",toastId:e})},X2);Df.set(e,t)},J2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,q2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Pv(n):e.toasts.forEach(r=>{Pv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Oc=[];let Dc={toasts:[]};function fa(e){Dc=J2(Dc,e),Oc.forEach(t=>{t(Dc)})}function Z2({...e}){const t=Q2(),n=s=>fa({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>fa({type:"DISMISS_TOAST",toastId:t});return fa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function eT(){const[e,t]=v.useState(Dc);return v.useEffect(()=>(Oc.push(t),()=>{const n=Oc.indexOf(t);n>-1&&Oc.splice(n,1)}),[e]),{...e,toast:Z2,dismiss:n=>fa({type:"DISMISS_TOAST",toastId:n})}}function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Tv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nd(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Tv(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Tv(e[s],null)}}}}function be(...e){return v.useCallback(nd(...e),e)}function tT(e,t){const n=v.createContext(t),r=o=>{const{children:i,...a}=o,l=v.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=v.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function gr(e,t=[]){let n=[];function r(o,i){const a=v.createContext(i),l=n.length;n=[...n,i];const c=f=>{var y;const{scope:p,children:h,...w}=f,m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,b=v.useMemo(()=>w,Object.values(w));return d.jsx(m.Provider,{value:b,children:h})};c.displayName=o+"Provider";function u(f,p){var m;const h=((m=p==null?void 0:p[e])==null?void 0:m[l])||a,w=v.useContext(h);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const s=()=>{const o=n.map(i=>v.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,nT(s,...t)]}function nT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Bs(e){const t=sT(e),n=v.forwardRef((r,s)=>{const{children:o,...i}=r,a=v.Children.toArray(o),l=a.find(iT);if(l){const c=l.props.children,u=a.map(f=>f===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:f);return d.jsx(t,{...i,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,u):null})}return d.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var rT=Bs("Slot");function sT(e){const t=v.forwardRef((n,r)=>{const{children:s,...o}=n;if(v.isValidElement(s)){const i=lT(s),a=aT(o,s.props);return s.type!==v.Fragment&&(a.ref=r?nd(r,i):i),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v1=Symbol("radix.slottable");function oT(e){const t=({children:n})=>d.jsx(d.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=v1,t}function iT(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v1}function aT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function lT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rd(e){const t=e+"CollectionProvider",[n,r]=gr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:b,children:y}=m,x=X.useRef(null),g=X.useRef(new Map).current;return d.jsx(s,{scope:b,itemMap:g,collectionRef:x,children:y})};i.displayName=t;const a=e+"CollectionSlot",l=Bs(a),c=X.forwardRef((m,b)=>{const{scope:y,children:x}=m,g=o(a,y),_=be(b,g.collectionRef);return d.jsx(l,{ref:_,children:x})});c.displayName=a;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Bs(u),h=X.forwardRef((m,b)=>{const{scope:y,children:x,...g}=m,_=X.useRef(null),E=be(b,_),j=o(u,y);return X.useEffect(()=>(j.itemMap.set(_,{ref:_,...g}),()=>void j.itemMap.delete(_))),d.jsx(p,{[f]:"",ref:E,children:x})});h.displayName=u;function w(m){const b=o(e+"CollectionConsumer",m);return X.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,C)=>g.indexOf(j.ref.current)-g.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},w,r]}var cT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=cT.reduce((e,t)=>{const n=Bs(`Primitive.${t}`),r=v.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function og(e,t){e&&Qs.flushSync(()=>e.dispatchEvent(t))}function kt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function uT(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var dT="DismissableLayer",lp="dismissableLayer.update",fT="dismissableLayer.pointerDownOutside",hT="dismissableLayer.focusOutside",Av,y1=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bi=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=v.useContext(y1),[u,f]=v.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),w=be(t,C=>f(C)),m=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(b),x=u?m.indexOf(u):-1,g=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,E=mT(C=>{const P=C.target,I=[...c.branches].some(O=>O.contains(P));!_||I||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},p),j=gT(C=>{const P=C.target;[...c.branches].some(O=>O.contains(P))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},p);return uT(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),v.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Av=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Rv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Av)}},[u,p,n,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Rv())},[u,c]),v.useEffect(()=>{const C=()=>h({});return document.addEventListener(lp,C),()=>document.removeEventListener(lp,C)},[]),d.jsx(ce.div,{...l,ref:w,style:{pointerEvents:g?_?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,E.onPointerDownCapture)})});bi.displayName=dT;var pT="DismissableLayerBranch",x1=v.forwardRef((e,t)=>{const n=v.useContext(y1),r=v.useRef(null),s=be(t,r);return v.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(ce.div,{...e,ref:s})});x1.displayName=pT;function mT(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){w1(fT,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function gT(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=v.useRef(!1);return v.useEffect(()=>{const s=o=>{o.target&&!r.current&&w1(hT,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rv(){const e=new CustomEvent(lp);document.dispatchEvent(e)}function w1(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?og(s,o):s.dispatchEvent(o)}var vT=bi,yT=x1,et=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},xT="Portal",dl=v.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=v.useState(!1);et(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?m1.createPortal(d.jsx(ce.div,{...r,ref:t}),i):null});dl.displayName=xT;function wT(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var zn=e=>{const{present:t,children:n}=e,r=bT(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),o=be(r.ref,_T(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:o}):null};zn.displayName="Presence";function bT(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),o=v.useRef("none"),i=e?"mounted":"unmounted",[a,l]=wT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Jl(r.current);o.current=a==="mounted"?c:"none"},[a]),et(()=>{const c=r.current,u=s.current;if(u!==e){const p=o.current,h=Jl(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),et(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=h=>{const m=Jl(r.current).includes(h.animationName);if(h.target===t&&m&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=h=>{h.target===t&&(o.current=Jl(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Jl(e){return(e==null?void 0:e.animationName)||"none"}function _T(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ST=pm[" useInsertionEffect ".trim().toString()]||et;function si({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=ET({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const u=v.useRef(e!==void 0);v.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=v.useCallback(u=>{var f;if(a){const p=kT(u)?u(e):u;p!==e&&((f=i.current)==null||f.call(i,p))}else o(u)},[a,e,o,i]);return[l,c]}function ET({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),o=v.useRef(t);return ST(()=>{o.current=t},[t]),v.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function kT(e){return typeof e=="function"}var b1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CT="VisuallyHidden",sd=v.forwardRef((e,t)=>d.jsx(ce.span,{...e,ref:t,style:{...b1,...e.style}}));sd.displayName=CT;var NT=sd,ig="ToastProvider",[ag,jT,PT]=rd("Toast"),[_1,D9]=gr("Toast",[PT]),[TT,od]=_1(ig),S1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=v.useState(null),[c,u]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ig}\`. Expected non-empty \`string\`.`),d.jsx(ag.Provider,{scope:t,children:d.jsx(TT,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>u(h=>h+1),[]),onToastRemove:v.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};S1.displayName=ig;var E1="ToastViewport",AT=["F8"],cp="toast.viewportPause",up="toast.viewportResume",k1=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=AT,label:s="Notifications ({hotkey})",...o}=e,i=od(E1,n),a=jT(n),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),f=v.useRef(null),p=be(t,f,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;v.useEffect(()=>{const b=y=>{var g;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),v.useEffect(()=>{const b=l.current,y=f.current;if(w&&b&&y){const x=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(cp);y.dispatchEvent(j),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(up);y.dispatchEvent(j),i.isClosePausedRef.current=!1}},_=j=>{!b.contains(j.relatedTarget)&&g()},E=()=>{b.contains(document.activeElement)||g()};return b.addEventListener("focusin",x),b.addEventListener("focusout",_),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",g),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",g)}}},[w,i.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:b})=>{const x=a().map(g=>{const _=g.ref.current,E=[_,...VT(_)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return v.useEffect(()=>{const b=f.current;if(b){const y=x=>{var E,j,C;const g=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!g){const P=document.activeElement,I=x.shiftKey;if(x.target===b&&I){(E=c.current)==null||E.focus();return}const A=m({tabbingDirection:I?"backwards":"forwards"}),D=A.findIndex(S=>S===P);$f(A.slice(D+1))?x.preventDefault():I?(j=c.current)==null||j.focus():(C=u.current)==null||C.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,m]),d.jsxs(yT,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(dp,{ref:c,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});$f(b)}}),d.jsx(ag.Slot,{scope:n,children:d.jsx(ce.ol,{tabIndex:-1,...o,ref:p})}),w&&d.jsx(dp,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});$f(b)}})]})});k1.displayName=E1;var C1="ToastFocusProxy",dp=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=od(C1,n);return d.jsx(sd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});dp.displayName=C1;var fl="Toast",RT="toast.swipeStart",MT="toast.swipeMove",IT="toast.swipeCancel",OT="toast.swipeEnd",N1=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=si({prop:r,defaultProp:s??!0,onChange:o,caller:fl});return d.jsx(zn,{present:n||a,children:d.jsx(LT,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:kt(e.onPause),onResume:kt(e.onResume),onSwipeStart:Z(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});N1.displayName=fl;var[DT,$T]=_1(fl,{onClose(){}}),LT=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...w}=e,m=od(fl,n),[b,y]=v.useState(null),x=be(t,S=>y(S)),g=v.useRef(null),_=v.useRef(null),E=s||m.duration,j=v.useRef(0),C=v.useRef(E),P=v.useRef(0),{onToastAdd:I,onToastRemove:O}=m,L=kt(()=>{var R;(b==null?void 0:b.contains(document.activeElement))&&((R=m.viewport)==null||R.focus()),i()}),A=v.useCallback(S=>{!S||S===1/0||(window.clearTimeout(P.current),j.current=new Date().getTime(),P.current=window.setTimeout(L,S))},[L]);v.useEffect(()=>{const S=m.viewport;if(S){const R=()=>{A(C.current),c==null||c()},N=()=>{const M=new Date().getTime()-j.current;C.current=C.current-M,window.clearTimeout(P.current),l==null||l()};return S.addEventListener(cp,N),S.addEventListener(up,R),()=>{S.removeEventListener(cp,N),S.removeEventListener(up,R)}}},[m.viewport,E,l,c,A]),v.useEffect(()=>{o&&!m.isClosePausedRef.current&&A(E)},[o,E,m.isClosePausedRef,A]),v.useEffect(()=>(I(),()=>O()),[I,O]);const D=v.useMemo(()=>b?I1(b):null,[b]);return m.viewport?d.jsxs(d.Fragment,{children:[D&&d.jsx(FT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),d.jsx(DT,{scope:n,onClose:L,children:Qs.createPortal(d.jsx(ag.ItemSlot,{scope:n,children:d.jsx(vT,{asChild:!0,onEscapeKeyDown:Z(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,S=>{S.key==="Escape"&&(a==null||a(S.nativeEvent),S.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Z(e.onPointerDown,S=>{S.button===0&&(g.current={x:S.clientX,y:S.clientY})}),onPointerMove:Z(e.onPointerMove,S=>{if(!g.current)return;const R=S.clientX-g.current.x,N=S.clientY-g.current.y,M=!!_.current,T=["left","right"].includes(m.swipeDirection),k=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,$=T?k(0,R):0,F=T?0:k(0,N),z=S.pointerType==="touch"?10:2,V={x:$,y:F},U={originalEvent:S,delta:V};M?(_.current=V,Zl(MT,f,U,{discrete:!1})):Mv(V,m.swipeDirection,z)?(_.current=V,Zl(RT,u,U,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(R)>z||Math.abs(N)>z)&&(g.current=null)}),onPointerUp:Z(e.onPointerUp,S=>{const R=_.current,N=S.target;if(N.hasPointerCapture(S.pointerId)&&N.releasePointerCapture(S.pointerId),_.current=null,g.current=null,R){const M=S.currentTarget,T={originalEvent:S,delta:R};Mv(R,m.swipeDirection,m.swipeThreshold)?Zl(OT,h,T,{discrete:!0}):Zl(IT,p,T,{discrete:!0}),M.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),FT=e=>{const{__scopeToast:t,children:n,...r}=e,s=od(fl,t),[o,i]=v.useState(!1),[a,l]=v.useState(!1);return UT(()=>i(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(dl,{asChild:!0,children:d.jsx(sd,{...r,children:o&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},zT="ToastTitle",j1=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.jsx(ce.div,{...r,ref:t})});j1.displayName=zT;var BT="ToastDescription",P1=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.jsx(ce.div,{...r,ref:t})});P1.displayName=BT;var T1="ToastAction",A1=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?d.jsx(M1,{altText:n,asChild:!0,children:d.jsx(lg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${T1}\`. Expected non-empty \`string\`.`),null)});A1.displayName=T1;var R1="ToastClose",lg=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=$T(R1,n);return d.jsx(M1,{asChild:!0,children:d.jsx(ce.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,s.onClose)})})});lg.displayName=R1;var M1=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return d.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function I1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),HT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...I1(r))}}),t}function Zl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?og(s,o):s.dispatchEvent(o)}var Mv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function UT(e=()=>{}){const t=kt(e);et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function HT(e){return e.nodeType===e.ELEMENT_NODE}function VT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $f(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var WT=S1,O1=k1,D1=N1,$1=j1,L1=P1,F1=A1,z1=lg;function B1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=B1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function U1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=B1(e))&&(r&&(r+=" "),r+=t);return r}const Iv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ov=U1,hl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ov(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const p=Iv(u)||Iv(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(w=>{let[m,b]=w;return Array.isArray(b)?b.includes({...o,...a}[m]):{...o,...a}[m]===b})?[...c,f,p]:c},[]);return Ov(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>v.createElement("svg",{ref:l,...KT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:H1("lucide",s),...a},[...i.map(([c,u])=>v.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const n=v.forwardRef(({className:r,...s},o)=>v.createElement(YT,{ref:o,iconNode:t,className:H1(`lucide-${GT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ye("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ye("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ye("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ye("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ye("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ye("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ye("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=ye("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ye("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dg="-",dA=e=>{const t=hA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(dg);return a[0]===""&&a.length!==1&&a.shift(),J1(a,t)||fA(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},J1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?J1(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(dg);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Dv=/^\[(.+)\]$/,fA=e=>{if(Dv.test(e)){const t=Dv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},hA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return mA(Object.entries(e.classGroups),n).forEach(([o,i])=>{pp(i,r,o,t)}),r},pp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:$v(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(pA(s)){pp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{pp(i,$v(t,o),n,r)})})},$v=(e,t)=>{let n=e;return t.split(dg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pA=e=>e.isThemeGetter,mA=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,gA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Z1="!",vA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,u=0,f;for(let b=0;b<a.length;b++){let y=a[b];if(c===0){if(y===s&&(r||a.slice(b,b+o)===t)){l.push(a.slice(u,b)),u=b+o;continue}if(y==="/"){f=b;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?a:a.substring(u),h=p.startsWith(Z1),w=h?p.substring(1):p,m=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},yA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},xA=e=>({cache:gA(e.cacheSize),parseClassName:vA(e),...dA(e)}),wA=/\s+/,bA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(wA);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(c);let w=!!h,m=r(w?p.substring(0,h):p);if(!m){if(!w){a=c+(a.length>0?" "+a:a);continue}if(m=r(p),!m){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=yA(u).join(":"),y=f?b+Z1:b,x=y+m;if(o.includes(x))continue;o.push(x);const g=s(m,w);for(let _=0;_<g.length;++_){const E=g[_];o.push(y+E)}a=c+(a.length>0?" "+a:a)}return a};function _A(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=e_(t))&&(r&&(r+=" "),r+=n);return r}const e_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=e_(e[r]))&&(n&&(n+=" "),n+=t);return n};function SA(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((u,f)=>f(u),e());return n=xA(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=bA(l,n);return s(l,u),u}return function(){return o(_A.apply(null,arguments))}}const Pe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},t_=/^\[(?:([a-z-]+):)?(.+)\]$/i,EA=/^\d+\/\d+$/,kA=new Set(["px","full","screen"]),CA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gn=e=>Oo(e)||kA.has(e)||EA.test(e),Er=e=>_i(e,"length",LA),Oo=e=>!!e&&!Number.isNaN(Number(e)),Ff=e=>_i(e,"number",Oo),Ui=e=>!!e&&Number.isInteger(Number(e)),AA=e=>e.endsWith("%")&&Oo(e.slice(0,-1)),ue=e=>t_.test(e),kr=e=>CA.test(e),RA=new Set(["length","size","percentage"]),MA=e=>_i(e,RA,n_),IA=e=>_i(e,"position",n_),OA=new Set(["image","url"]),DA=e=>_i(e,OA,zA),$A=e=>_i(e,"",FA),Hi=()=>!0,_i=(e,t,n)=>{const r=t_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},LA=e=>NA.test(e)&&!jA.test(e),n_=()=>!1,FA=e=>PA.test(e),zA=e=>TA.test(e),BA=()=>{const e=Pe("colors"),t=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),o=Pe("borderRadius"),i=Pe("borderSpacing"),a=Pe("borderWidth"),l=Pe("contrast"),c=Pe("grayscale"),u=Pe("hueRotate"),f=Pe("invert"),p=Pe("gap"),h=Pe("gradientColorStops"),w=Pe("gradientColorStopPositions"),m=Pe("inset"),b=Pe("margin"),y=Pe("opacity"),x=Pe("padding"),g=Pe("saturate"),_=Pe("scale"),E=Pe("sepia"),j=Pe("skew"),C=Pe("space"),P=Pe("translate"),I=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ue,t],A=()=>[ue,t],D=()=>["",Gn,Er],S=()=>["auto",Oo,ue],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",ue],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Oo,ue];return{cacheSize:500,separator:":",theme:{colors:[Hi],spacing:[Gn,Er],blur:["none","",kr,ue],brightness:F(),borderColor:[e],borderRadius:["none","","full",kr,ue],borderSpacing:A(),borderWidth:D(),contrast:F(),grayscale:k(),hueRotate:F(),invert:k(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[AA,Er],inset:L(),margin:L(),opacity:F(),padding:A(),saturate:F(),scale:F(),sepia:k(),skew:F(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),ue]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ui,ue]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Ui,ue]}],"grid-cols":[{"grid-cols":[Hi]}],"col-start-end":[{col:["auto",{span:["full",Ui,ue]},ue]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Hi]}],"row-start-end":[{row:["auto",{span:[Ui,ue]},ue]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[kr]},kr]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kr,Er]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ff]}],"font-family":[{font:[Hi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Oo,Ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gn,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gn,Er]}],"underline-offset":[{"underline-offset":["auto",Gn,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),IA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:N()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[Gn,ue]}],"outline-w":[{outline:[Gn,Er]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Gn,Er]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,$A]}],"shadow-color":[{shadow:[Hi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",kr,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ui,ue]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gn,Er,Ff]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UA=SA(BA);function ie(...e){return UA(U1(e))}const HA=WT,r_=v.forwardRef(({className:e,...t},n)=>d.jsx(O1,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));r_.displayName=O1.displayName;const VA=hl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),s_=v.forwardRef(({className:e,variant:t,...n},r)=>d.jsx(D1,{ref:r,className:ie(VA({variant:t}),e),...n}));s_.displayName=D1.displayName;const WA=v.forwardRef(({className:e,...t},n)=>d.jsx(F1,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));WA.displayName=F1.displayName;const o_=v.forwardRef(({className:e,...t},n)=>d.jsx(z1,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(pl,{className:"h-4 w-4"})}));o_.displayName=z1.displayName;const i_=v.forwardRef(({className:e,...t},n)=>d.jsx($1,{ref:n,className:ie("text-sm font-semibold",e),...t}));i_.displayName=$1.displayName;const a_=v.forwardRef(({className:e,...t},n)=>d.jsx(L1,{ref:n,className:ie("text-sm opacity-90",e),...t}));a_.displayName=L1.displayName;function GA(){const{toasts:e}=eT();return d.jsxs(HA,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return d.jsxs(s_,{...o,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(i_,{children:n}),r&&d.jsx(a_,{children:r})]}),s,d.jsx(o_,{})]},t)}),d.jsx(r_,{})]})}var mu=["light","dark"],fg="(prefers-color-scheme: dark)",KA=typeof window>"u",hg=v.createContext(void 0),YA={setTheme:e=>{},themes:[]},l_=()=>{var e;return(e=v.useContext(hg))!=null?e:YA},qA=e=>v.useContext(hg)?e.children:v.createElement(QA,{...e}),XA=["light","dark"],QA=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=XA,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{let[f,p]=v.useState(()=>Lv(s,i)),[h,w]=v.useState(()=>Lv(s)),m=l?Object.values(l):o,b=v.useCallback(_=>{let E=_;if(!E)return;_==="system"&&n&&(E=Fv());let j=l?l[E]:E,C=t?ZA():null,P=document.documentElement;if(a==="class"?(P.classList.remove(...m),j&&P.classList.add(j)):j?P.setAttribute(a,j):P.removeAttribute(a),r){let I=mu.includes(i)?i:null,O=mu.includes(E)?E:I;P.style.colorScheme=O}C==null||C()},[]),y=v.useCallback(_=>{let E=typeof _=="function"?_(_):_;p(E);try{localStorage.setItem(s,E)}catch{}},[e]),x=v.useCallback(_=>{let E=Fv(_);w(E),f==="system"&&n&&!e&&b("system")},[f,e]);v.useEffect(()=>{let _=window.matchMedia(fg);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),v.useEffect(()=>{let _=E=>{if(E.key!==s)return;let j=E.newValue||i;y(j)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),v.useEffect(()=>{b(e??f)},[e,f]);let g=v.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:n?[...o,"system"]:o,systemTheme:n?h:void 0}),[f,y,e,h,n,o]);return v.createElement(hg.Provider,{value:g},v.createElement(JA,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:l,children:c,attrs:m,nonce:u}),c)},JA=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?mu.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,m=!1,b=!0)=>{let y=i?i[w]:w,x=m?w+"|| ''":`'${y}'`,g="";return s&&b&&!m&&mu.includes(w)&&(g+=`d.style.colorScheme = '${w}';`),n==="class"?m||y?g+=`c.add(${x})`:g+="null":y&&(g+=`d[s](n,${x})`),g},h=e?`!function(){${u}${p(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${fg}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})}),Lv=(e,t)=>{if(KA)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},ZA=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Fv=e=>(e||(e=window.matchMedia(fg)),e.matches?"dark":"light"),eR=e=>{switch(e){case"success":return rR;case"info":return oR;case"warning":return sR;case"error":return iR;default:return null}},tR=Array(12).fill(0),nR=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},tR.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),rR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lR=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},mp=1,cR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mp++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],X.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(dR(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:c,description:u})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||mp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vt=new cR,uR=(e,t)=>{let n=(t==null?void 0:t.id)||mp++;return vt.addToast({title:e,...t,id:n}),n},dR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fR=uR,hR=()=>vt.toasts,pR=()=>vt.getActiveToasts(),st=Object.assign(fR,{success:vt.success,info:vt.info,warning:vt.warning,error:vt.error,custom:vt.custom,message:vt.message,promise:vt.promise,dismiss:vt.dismiss,loading:vt.loading},{getHistory:hR,getToasts:pR});function mR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}mR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ec(e){return e.label!==void 0}var gR=3,vR="32px",yR="16px",zv=4e3,xR=356,wR=14,bR=20,_R=200;function tn(...e){return e.filter(Boolean).join(" ")}function SR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ER=e=>{var t,n,r,s,o,i,a,l,c,u,f;let{invert:p,toast:h,unstyled:w,interacting:m,setHeights:b,visibleToasts:y,heights:x,index:g,toasts:_,expanded:E,removeToast:j,defaultRichColors:C,closeButton:P,style:I,cancelButtonStyle:O,actionButtonStyle:L,className:A="",descriptionClassName:D="",duration:S,position:R,gap:N,loadingIcon:M,expandByDefault:T,classNames:k,icons:$,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:z}=e,[V,U]=X.useState(null),[K,Y]=X.useState(null),[B,W]=X.useState(!1),[J,ee]=X.useState(!1),[Q,H]=X.useState(!1),[re,se]=X.useState(!1),[xe,pe]=X.useState(!1),[mt,Hn]=X.useState(0),[bn,yr]=X.useState(0),Vn=X.useRef(h.duration||S||zv),xr=X.useRef(null),Ct=X.useRef(null),Ti=g===0,wr=g+1<=y,Ve=h.type,Zt=h.dismissible!==!1,tf=h.className||"",Ai=h.descriptionClassName||"",so=X.useMemo(()=>x.findIndex(ae=>ae.toastId===h.id)||0,[x,h.id]),nf=X.useMemo(()=>{var ae;return(ae=h.closeButton)!=null?ae:P},[h.closeButton,P]),jl=X.useMemo(()=>h.duration||S||zv,[h.duration,S]),Ri=X.useRef(0),br=X.useRef(0),Pl=X.useRef(0),_r=X.useRef(null),[rf,sf]=R.split("-"),Tl=X.useMemo(()=>x.reduce((ae,_e,ke)=>ke>=so?ae:ae+_e.height,0),[x,so]),Al=lR(),of=h.invert||p,Mi=Ve==="loading";br.current=X.useMemo(()=>so*N+Tl,[so,Tl]),X.useEffect(()=>{Vn.current=jl},[jl]),X.useEffect(()=>{W(!0)},[]),X.useEffect(()=>{let ae=Ct.current;if(ae){let _e=ae.getBoundingClientRect().height;return yr(_e),b(ke=>[{toastId:h.id,height:_e,position:h.position},...ke]),()=>b(ke=>ke.filter(Nt=>Nt.toastId!==h.id))}},[b,h.id]),X.useLayoutEffect(()=>{if(!B)return;let ae=Ct.current,_e=ae.style.height;ae.style.height="auto";let ke=ae.getBoundingClientRect().height;ae.style.height=_e,yr(ke),b(Nt=>Nt.find(jt=>jt.toastId===h.id)?Nt.map(jt=>jt.toastId===h.id?{...jt,height:ke}:jt):[{toastId:h.id,height:ke,position:h.position},...Nt])},[B,h.title,h.description,b,h.id]);let _n=X.useCallback(()=>{ee(!0),Hn(br.current),b(ae=>ae.filter(_e=>_e.toastId!==h.id)),setTimeout(()=>{j(h)},_R)},[h,j,b,br]);X.useEffect(()=>{if(h.promise&&Ve==="loading"||h.duration===1/0||h.type==="loading")return;let ae;return E||m||z&&Al?(()=>{if(Pl.current<Ri.current){let _e=new Date().getTime()-Ri.current;Vn.current=Vn.current-_e}Pl.current=new Date().getTime()})():Vn.current!==1/0&&(Ri.current=new Date().getTime(),ae=setTimeout(()=>{var _e;(_e=h.onAutoClose)==null||_e.call(h,h),_n()},Vn.current)),()=>clearTimeout(ae)},[E,m,h,Ve,z,Al,_n]),X.useEffect(()=>{h.delete&&_n()},[_n,h.delete]);function Rl(){var ae,_e,ke;return $!=null&&$.loading?X.createElement("div",{className:tn(k==null?void 0:k.loader,(ae=h==null?void 0:h.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":Ve==="loading"},$.loading):M?X.createElement("div",{className:tn(k==null?void 0:k.loader,(_e=h==null?void 0:h.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Ve==="loading"},M):X.createElement(nR,{className:tn(k==null?void 0:k.loader,(ke=h==null?void 0:h.classNames)==null?void 0:ke.loader),visible:Ve==="loading"})}return X.createElement("li",{tabIndex:0,ref:Ct,className:tn(A,tf,k==null?void 0:k.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[Ve],(n=h==null?void 0:h.classNames)==null?void 0:n[Ve]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":B,"data-promise":!!h.promise,"data-swiped":xe,"data-removed":J,"data-visible":wr,"data-y-position":rf,"data-x-position":sf,"data-index":g,"data-front":Ti,"data-swiping":Q,"data-dismissible":Zt,"data-type":Ve,"data-invert":of,"data-swipe-out":re,"data-swipe-direction":K,"data-expanded":!!(E||T&&B),style:{"--index":g,"--toasts-before":g,"--z-index":_.length-g,"--offset":`${J?mt:br.current}px`,"--initial-height":T?"auto":`${bn}px`,...I,...h.style},onDragEnd:()=>{H(!1),U(null),_r.current=null},onPointerDown:ae=>{Mi||!Zt||(xr.current=new Date,Hn(br.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(H(!0),_r.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,_e,ke,Nt;if(re||!Zt)return;_r.current=null;let jt=Number(((ae=Ct.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sn=Number(((_e=Ct.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wn=new Date().getTime()-((ke=xr.current)==null?void 0:ke.getTime()),Pt=V==="x"?jt:Sn,En=Math.abs(Pt)/Wn;if(Math.abs(Pt)>=bR||En>.11){Hn(br.current),(Nt=h.onDismiss)==null||Nt.call(h,h),Y(V==="x"?jt>0?"right":"left":Sn>0?"down":"up"),_n(),se(!0),pe(!1);return}H(!1),U(null)},onPointerMove:ae=>{var _e,ke,Nt,jt;if(!_r.current||!Zt||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let Sn=ae.clientY-_r.current.y,Wn=ae.clientX-_r.current.x,Pt=(ke=e.swipeDirections)!=null?ke:SR(R);!V&&(Math.abs(Wn)>1||Math.abs(Sn)>1)&&U(Math.abs(Wn)>Math.abs(Sn)?"x":"y");let En={x:0,y:0};V==="y"?(Pt.includes("top")||Pt.includes("bottom"))&&(Pt.includes("top")&&Sn<0||Pt.includes("bottom")&&Sn>0)&&(En.y=Sn):V==="x"&&(Pt.includes("left")||Pt.includes("right"))&&(Pt.includes("left")&&Wn<0||Pt.includes("right")&&Wn>0)&&(En.x=Wn),(Math.abs(En.x)>0||Math.abs(En.y)>0)&&pe(!0),(Nt=Ct.current)==null||Nt.style.setProperty("--swipe-amount-x",`${En.x}px`),(jt=Ct.current)==null||jt.style.setProperty("--swipe-amount-y",`${En.y}px`)}},nf&&!h.jsx?X.createElement("button",{"aria-label":F,"data-disabled":Mi,"data-close-button":!0,onClick:Mi||!Zt?()=>{}:()=>{var ae;_n(),(ae=h.onDismiss)==null||ae.call(h,h)},className:tn(k==null?void 0:k.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(o=$==null?void 0:$.close)!=null?o:aR):null,h.jsx||v.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:X.createElement(X.Fragment,null,Ve||h.icon||h.promise?X.createElement("div",{"data-icon":"",className:tn(k==null?void 0:k.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Rl():null,h.type!=="loading"?h.icon||($==null?void 0:$[Ve])||eR(Ve):null):null,X.createElement("div",{"data-content":"",className:tn(k==null?void 0:k.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},X.createElement("div",{"data-title":"",className:tn(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?X.createElement("div",{"data-description":"",className:tn(D,Ai,k==null?void 0:k.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),v.isValidElement(h.cancel)?h.cancel:h.cancel&&ec(h.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ae=>{var _e,ke;ec(h.cancel)&&Zt&&((ke=(_e=h.cancel).onClick)==null||ke.call(_e,ae),_n())},className:tn(k==null?void 0:k.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,v.isValidElement(h.action)?h.action:h.action&&ec(h.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:ae=>{var _e,ke;ec(h.action)&&((ke=(_e=h.action).onClick)==null||ke.call(_e,ae),!ae.defaultPrevented&&_n())},className:tn(k==null?void 0:k.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Bv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kR(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?yR:vR;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${i}-${c}`]=a:n[`${i}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var CR=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:p,style:h,visibleToasts:w=gR,toastOptions:m,dir:b=Bv(),gap:y=wR,loadingIcon:x,icons:g,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E}=e,[j,C]=X.useState([]),P=X.useMemo(()=>Array.from(new Set([r].concat(j.filter(z=>z.position).map(z=>z.position)))),[j,r]),[I,O]=X.useState([]),[L,A]=X.useState(!1),[D,S]=X.useState(!1),[R,N]=X.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=X.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=X.useRef(null),$=X.useRef(!1),F=X.useCallback(z=>{C(V=>{var U;return(U=V.find(K=>K.id===z.id))!=null&&U.delete||vt.dismiss(z.id),V.filter(({id:K})=>K!==z.id)})},[]);return X.useEffect(()=>vt.subscribe(z=>{if(z.dismiss){C(V=>V.map(U=>U.id===z.id?{...U,delete:!0}:U));return}setTimeout(()=>{m1.flushSync(()=>{C(V=>{let U=V.findIndex(K=>K.id===z.id);return U!==-1?[...V.slice(0,U),{...V[U],...z},...V.slice(U+1)]:[z,...V]})})})}),[]),X.useEffect(()=>{if(u!=="system"){N(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?N("dark"):N("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:V})=>{N(V?"dark":"light")})}catch{z.addListener(({matches:U})=>{try{N(U?"dark":"light")}catch(K){console.error(K)}})}},[u]),X.useEffect(()=>{j.length<=1&&A(!1)},[j]),X.useEffect(()=>{let z=V=>{var U,K;s.every(Y=>V[Y]||V.code===Y)&&(A(!0),(U=M.current)==null||U.focus()),V.code==="Escape"&&(document.activeElement===M.current||(K=M.current)!=null&&K.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),X.useEffect(()=>{if(M.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,$.current=!1)}},[M.current]),X.createElement("section",{ref:t,"aria-label":`${_} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((z,V)=>{var U;let[K,Y]=z.split("-");return j.length?X.createElement("ol",{key:z,dir:b==="auto"?Bv():b,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":K,"data-lifted":L&&j.length>1&&!o,"data-x-position":Y,style:{"--front-toast-height":`${((U=I[0])==null?void 0:U.height)||0}px`,"--width":`${xR}px`,"--gap":`${y}px`,...h,...kR(l,c)},onBlur:B=>{$.current&&!B.currentTarget.contains(B.relatedTarget)&&($.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||$.current||($.current=!0,k.current=B.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{D||A(!1)},onDragEnd:()=>A(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||S(!0)},onPointerUp:()=>S(!1)},j.filter(B=>!B.position&&V===0||B.position===z).map((B,W)=>{var J,ee;return X.createElement(ER,{key:B.id,icons:g,index:W,toast:B,defaultRichColors:f,duration:(J=m==null?void 0:m.duration)!=null?J:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ee=m==null?void 0:m.closeButton)!=null?ee:i,interacting:D,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:j.filter(Q=>Q.position==B.position),heights:I.filter(Q=>Q.position==B.position),setHeights:O,expandByDefault:o,gap:y,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const NR=({...e})=>{const{theme:t="system"}=l_();return d.jsx(CR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var jR=pm[" useId ".trim().toString()]||(()=>{}),PR=0;function rr(e){const[t,n]=v.useState(jR());return et(()=>{n(r=>r??String(PR++))},[e]),t?`radix-${t}`:""}const TR=["top","right","bottom","left"],os=Math.min,Mt=Math.max,gu=Math.round,tc=Math.floor,Dn=e=>({x:e,y:e}),AR={left:"right",right:"left",bottom:"top",top:"bottom"},RR={start:"end",end:"start"};function gp(e,t,n){return Mt(e,os(t,n))}function dr(e,t){return typeof e=="function"?e(t):e}function fr(e){return e.split("-")[0]}function Si(e){return e.split("-")[1]}function pg(e){return e==="x"?"y":"x"}function mg(e){return e==="y"?"height":"width"}function sr(e){return["top","bottom"].includes(fr(e))?"y":"x"}function gg(e){return pg(sr(e))}function MR(e,t,n){n===void 0&&(n=!1);const r=Si(e),s=gg(e),o=mg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vu(i)),[i,vu(i)]}function IR(e){const t=vu(e);return[vp(e),t,vp(t)]}function vp(e){return e.replace(/start|end/g,t=>RR[t])}function OR(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function DR(e,t,n,r){const s=Si(e);let o=OR(fr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(vp)))),o}function vu(e){return e.replace(/left|right|bottom|top/g,t=>AR[t])}function $R(e){return{top:0,right:0,bottom:0,left:0,...e}}function c_(e){return typeof e!="number"?$R(e):{top:e,right:e,bottom:e,left:e}}function yu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Uv(e,t,n){let{reference:r,floating:s}=e;const o=sr(t),i=gg(t),a=mg(i),l=fr(t),c=o==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Si(t)){case"start":h[i]-=p*(n&&c?-1:1);break;case"end":h[i]+=p*(n&&c?-1:1);break}return h}const LR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=Uv(c,r,l),p=r,h={},w=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x,y:g,data:_,reset:E}=await y({x:u,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});u=x??u,f=g??f,h={...h,[b]:{...h[b],..._}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:u,y:f}=Uv(c,p,l)),m=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:h}};async function Oa(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=dr(t,e),w=c_(h),b=a[p?f==="floating"?"reference":"floating":f],y=yu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},E=yu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:g,strategy:l}):x);return{top:(y.top-E.top+w.top)/_.y,bottom:(E.bottom-y.bottom+w.bottom)/_.y,left:(y.left-E.left+w.left)/_.x,right:(E.right-y.right+w.right)/_.x}}const FR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=dr(e,t)||{};if(c==null)return{};const f=c_(u),p={x:n,y:r},h=gg(s),w=mg(h),m=await i.getDimensions(c),b=h==="y",y=b?"top":"left",x=b?"bottom":"right",g=b?"clientHeight":"clientWidth",_=o.reference[w]+o.reference[h]-p[h]-o.floating[w],E=p[h]-o.reference[h],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=j?j[g]:0;(!C||!await(i.isElement==null?void 0:i.isElement(j)))&&(C=a.floating[g]||o.floating[w]);const P=_/2-E/2,I=C/2-m[w]/2-1,O=os(f[y],I),L=os(f[x],I),A=O,D=C-m[w]-L,S=C/2-m[w]/2+P,R=gp(A,S,D),N=!l.arrow&&Si(s)!=null&&S!==R&&o.reference[w]/2-(S<A?O:L)-m[w]/2<0,M=N?S<A?S-A:S-D:0;return{[h]:p[h]+M,data:{[h]:R,centerOffset:S-R-M,...N&&{alignmentOffset:M}},reset:N}}}),zR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,...b}=dr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=fr(s),x=sr(a),g=fr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=p||(g||!m?[vu(a)]:IR(a)),j=w!=="none";!p&&j&&E.push(...DR(a,m,w,_));const C=[a,...E],P=await Oa(t,b),I=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(P[y]),f){const R=MR(s,i,_);I.push(P[R[0]],P[R[1]])}if(O=[...O,{placement:s,overflows:I}],!I.every(R=>R<=0)){var L,A;const R=(((L=o.flip)==null?void 0:L.index)||0)+1,N=C[R];if(N){var D;const T=f==="alignment"?x!==sr(N):!1,k=((D=O[0])==null?void 0:D.overflows[0])>0;if(!T||k)return{data:{index:R,overflows:O},reset:{placement:N}}}let M=(A=O.filter(T=>T.overflows[0]<=0).sort((T,k)=>T.overflows[1]-k.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(h){case"bestFit":{var S;const T=(S=O.filter(k=>{if(j){const $=sr(k.placement);return $===x||$==="y"}return!0}).map(k=>[k.placement,k.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((k,$)=>k[1]-$[1])[0])==null?void 0:S[0];T&&(M=T);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Hv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vv(e){return TR.some(t=>e[t]>=0)}const BR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=dr(e,t);switch(r){case"referenceHidden":{const o=await Oa(t,{...s,elementContext:"reference"}),i=Hv(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Vv(i)}}}case"escaped":{const o=await Oa(t,{...s,altBoundary:!0}),i=Hv(o,n.floating);return{data:{escapedOffsets:i,escaped:Vv(i)}}}default:return{}}}}};async function UR(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=fr(n),a=Si(n),l=sr(n)==="y",c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,f=dr(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(h=a==="end"?w*-1:w),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}const HR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await UR(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},VR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...l}=dr(e,t),c={x:n,y:r},u=await Oa(t,l),f=sr(fr(s)),p=pg(f);let h=c[p],w=c[f];if(o){const b=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=h+u[b],g=h-u[y];h=gp(x,h,g)}if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=w+u[b],g=w-u[y];w=gp(x,w,g)}const m=a.fn({...t,[p]:h,[f]:w});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:o,[f]:i}}}}}},WR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=dr(e,t),u={x:n,y:r},f=sr(s),p=pg(f);let h=u[p],w=u[f];const m=dr(a,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const g=p==="y"?"height":"width",_=o.reference[p]-o.floating[g]+b.mainAxis,E=o.reference[p]+o.reference[g]-b.mainAxis;h<_?h=_:h>E&&(h=E)}if(c){var y,x;const g=p==="y"?"width":"height",_=["top","left"].includes(fr(s)),E=o.reference[f]-o.floating[g]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:b.crossAxis),j=o.reference[f]+o.reference[g]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?b.crossAxis:0);w<E?w=E:w>j&&(w=j)}return{[p]:h,[f]:w}}}},GR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=dr(e,t),u=await Oa(t,c),f=fr(s),p=Si(s),h=sr(s)==="y",{width:w,height:m}=o.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,b=p==="end"?"top":"bottom");const x=m-u.top-u.bottom,g=w-u.left-u.right,_=os(m-u[b],x),E=os(w-u[y],g),j=!t.middlewareData.shift;let C=_,P=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),j&&!p){const O=Mt(u.left,0),L=Mt(u.right,0),A=Mt(u.top,0),D=Mt(u.bottom,0);h?P=w-2*(O!==0||L!==0?O+L:Mt(u.left,u.right)):C=m-2*(A!==0||D!==0?A+D:Mt(u.top,u.bottom))}await l({...t,availableWidth:P,availableHeight:C});const I=await i.getDimensions(a.floating);return w!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function ad(){return typeof window<"u"}function Ei(e){return u_(e)?(e.nodeName||"").toLowerCase():"#document"}function Lt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bn(e){var t;return(t=(u_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function u_(e){return ad()?e instanceof Node||e instanceof Lt(e).Node:!1}function vn(e){return ad()?e instanceof Element||e instanceof Lt(e).Element:!1}function Ln(e){return ad()?e instanceof HTMLElement||e instanceof Lt(e).HTMLElement:!1}function Wv(e){return!ad()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lt(e).ShadowRoot}function ml(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function KR(e){return["table","td","th"].includes(Ei(e))}function ld(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vg(e){const t=yg(),n=vn(e)?yn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YR(e){let t=is(e);for(;Ln(t)&&!oi(t);){if(vg(t))return t;if(ld(t))return null;t=is(t)}return null}function yg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oi(e){return["html","body","#document"].includes(Ei(e))}function yn(e){return Lt(e).getComputedStyle(e)}function cd(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function is(e){if(Ei(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wv(e)&&e.host||Bn(e);return Wv(t)?t.host:t}function d_(e){const t=is(e);return oi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&ml(t)?t:d_(t)}function Da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=d_(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Lt(s);if(o){const a=yp(i);return t.concat(i,i.visualViewport||[],ml(s)?s:[],a&&n?Da(a):[])}return t.concat(s,Da(s,[],n))}function yp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function f_(e){const t=yn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ln(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=gu(n)!==o||gu(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function xg(e){return vn(e)?e:e.contextElement}function Do(e){const t=xg(e);if(!Ln(t))return Dn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=f_(t);let i=(o?gu(n.width):n.width)/r,a=(o?gu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const qR=Dn(0);function h_(e){const t=Lt(e);return!yg()||!t.visualViewport?qR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Lt(e)?!1:t}function Hs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=xg(e);let i=Dn(1);t&&(r?vn(r)&&(i=Do(r)):i=Do(e));const a=XR(o,n,r)?h_(o):Dn(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const p=Lt(o),h=r&&vn(r)?Lt(r):r;let w=p,m=yp(w);for(;m&&r&&h!==w;){const b=Do(m),y=m.getBoundingClientRect(),x=yn(m),g=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*b.x,_=y.top+(m.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,f*=b.y,l+=g,c+=_,w=Lt(m),m=yp(w)}}return yu({width:u,height:f,x:l,y:c})}function wg(e,t){const n=cd(e).scrollLeft;return t?t.left+n:Hs(Bn(e)).left+n}function p_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:wg(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function QR(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Bn(r),a=t?ld(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Dn(1);const u=Dn(0),f=Ln(r);if((f||!f&&!o)&&((Ei(r)!=="body"||ml(i))&&(l=cd(r)),Ln(r))){const h=Hs(r);c=Do(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const p=i&&!f&&!o?p_(i,l,!0):Dn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function JR(e){return Array.from(e.getClientRects())}function ZR(e){const t=Bn(e),n=cd(e),r=e.ownerDocument.body,s=Mt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Mt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+wg(e);const a=-n.scrollTop;return yn(r).direction==="rtl"&&(i+=Mt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function eM(e,t){const n=Lt(e),r=Bn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=yg();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function tM(e,t){const n=Hs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ln(e)?Do(e):Dn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function Gv(e,t,n){let r;if(t==="viewport")r=eM(e,n);else if(t==="document")r=ZR(Bn(e));else if(vn(t))r=tM(t,n);else{const s=h_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return yu(r)}function m_(e,t){const n=is(e);return n===t||!vn(n)||oi(n)?!1:yn(n).position==="fixed"||m_(n,t)}function nM(e,t){const n=t.get(e);if(n)return n;let r=Da(e,[],!1).filter(a=>vn(a)&&Ei(a)!=="body"),s=null;const o=yn(e).position==="fixed";let i=o?is(e):e;for(;vn(i)&&!oi(i);){const a=yn(i),l=vg(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ml(i)&&!l&&m_(e,i))?r=r.filter(u=>u!==i):s=a,i=is(i)}return t.set(e,r),r}function rM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?ld(t)?[]:nM(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const f=Gv(t,u,s);return c.top=Mt(f.top,c.top),c.right=os(f.right,c.right),c.bottom=os(f.bottom,c.bottom),c.left=Mt(f.left,c.left),c},Gv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sM(e){const{width:t,height:n}=f_(e);return{width:t,height:n}}function oM(e,t,n){const r=Ln(t),s=Bn(t),o=n==="fixed",i=Hs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Dn(0);function c(){l.x=wg(s)}if(r||!r&&!o)if((Ei(t)!=="body"||ml(s))&&(a=cd(t)),r){const h=Hs(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&c();o&&!r&&s&&c();const u=s&&!r&&!o?p_(s,a):Dn(0),f=i.left+a.scrollLeft-l.x-u.x,p=i.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:i.width,height:i.height}}function zf(e){return yn(e).position==="static"}function Kv(e,t){if(!Ln(e)||yn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Bn(e)===n&&(n=n.ownerDocument.body),n}function g_(e,t){const n=Lt(e);if(ld(e))return n;if(!Ln(e)){let s=is(e);for(;s&&!oi(s);){if(vn(s)&&!zf(s))return s;s=is(s)}return n}let r=Kv(e,t);for(;r&&KR(r)&&zf(r);)r=Kv(r,t);return r&&oi(r)&&zf(r)&&!vg(r)?n:r||YR(e)||n}const iM=async function(e){const t=this.getOffsetParent||g_,n=this.getDimensions,r=await n(e.floating);return{reference:oM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aM(e){return yn(e).direction==="rtl"}const lM={convertOffsetParentRelativeRectToViewportRelativeRect:QR,getDocumentElement:Bn,getClippingRect:rM,getOffsetParent:g_,getElementRects:iM,getClientRects:JR,getDimensions:sM,getScale:Do,isElement:vn,isRTL:aM};function v_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cM(e,t){let n=null,r;const s=Bn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=c;if(a||t(),!p||!h)return;const w=tc(f),m=tc(s.clientWidth-(u+p)),b=tc(s.clientHeight-(f+h)),y=tc(u),g={rootMargin:-w+"px "+-m+"px "+-b+"px "+-y+"px",threshold:Mt(0,os(1,l))||1};let _=!0;function E(j){const C=j[0].intersectionRatio;if(C!==l){if(!_)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!v_(c,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(E,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,g)}n.observe(e)}return i(!0),o}function uM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=xg(e),u=s||o?[...c?Da(c):[],...Da(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&a?cM(c,n):null;let p=-1,h=null;i&&(h=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var g;(g=h)==null||g.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let w,m=l?Hs(e):null;l&&b();function b(){const y=Hs(e);m&&!v_(m,y)&&n(),m=y,w=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(w)}}const dM=HR,fM=VR,hM=zR,pM=GR,mM=BR,Yv=FR,gM=WR,vM=(e,t,n)=>{const r=new Map,s={platform:lM,...n},o={...s.platform,_c:r};return LR(e,t,{...s,platform:o})};var $c=typeof document<"u"?v.useLayoutEffect:v.useEffect;function xu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!xu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function y_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qv(e,t){const n=y_(e);return Math.round(t*n)/n}function Bf(e){const t=v.useRef(e);return $c(()=>{t.current=e}),t}function yM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=v.useState(r);xu(p,r)||h(r);const[w,m]=v.useState(null),[b,y]=v.useState(null),x=v.useCallback(T=>{T!==j.current&&(j.current=T,m(T))},[]),g=v.useCallback(T=>{T!==C.current&&(C.current=T,y(T))},[]),_=o||w,E=i||b,j=v.useRef(null),C=v.useRef(null),P=v.useRef(u),I=l!=null,O=Bf(l),L=Bf(s),A=Bf(c),D=v.useCallback(()=>{if(!j.current||!C.current)return;const T={placement:t,strategy:n,middleware:p};L.current&&(T.platform=L.current),vM(j.current,C.current,T).then(k=>{const $={...k,isPositioned:A.current!==!1};S.current&&!xu(P.current,$)&&(P.current=$,Qs.flushSync(()=>{f($)}))})},[p,t,n,L,A]);$c(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[c]);const S=v.useRef(!1);$c(()=>(S.current=!0,()=>{S.current=!1}),[]),$c(()=>{if(_&&(j.current=_),E&&(C.current=E),_&&E){if(O.current)return O.current(_,E,D);D()}},[_,E,D,O,I]);const R=v.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:g}),[x,g]),N=v.useMemo(()=>({reference:_,floating:E}),[_,E]),M=v.useMemo(()=>{const T={position:n,left:0,top:0};if(!N.floating)return T;const k=qv(N.floating,u.x),$=qv(N.floating,u.y);return a?{...T,transform:"translate("+k+"px, "+$+"px)",...y_(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:$}},[n,a,N.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:D,refs:R,elements:N,floatingStyles:M}),[u,D,R,N,M])}const xM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Yv({element:r.current,padding:s}).fn(n):{}:r?Yv({element:r,padding:s}).fn(n):{}}}},wM=(e,t)=>({...dM(e),options:[e,t]}),bM=(e,t)=>({...fM(e),options:[e,t]}),_M=(e,t)=>({...gM(e),options:[e,t]}),SM=(e,t)=>({...hM(e),options:[e,t]}),EM=(e,t)=>({...pM(e),options:[e,t]}),kM=(e,t)=>({...mM(e),options:[e,t]}),CM=(e,t)=>({...xM(e),options:[e,t]});var NM="Arrow",x_=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return d.jsx(ce.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});x_.displayName=NM;var jM=x_;function PM(e){const[t,n]=v.useState(void 0);return et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bg="Popper",[w_,ki]=gr(bg),[TM,b_]=w_(bg),__=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return d.jsx(TM,{scope:t,anchor:r,onAnchorChange:s,children:n})};__.displayName=bg;var S_="PopperAnchor",E_=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=b_(S_,n),i=v.useRef(null),a=be(t,i);return v.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:d.jsx(ce.div,{...s,ref:a})});E_.displayName=S_;var _g="PopperContent",[AM,RM]=w_(_g),k_=v.forwardRef((e,t)=>{var B,W,J,ee,Q,H;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:w,...m}=e,b=b_(_g,n),[y,x]=v.useState(null),g=be(t,re=>x(re)),[_,E]=v.useState(null),j=PM(_),C=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,I=r+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],A=L.length>0,D={padding:O,boundary:L.filter(IM),altBoundary:A},{refs:S,floatingStyles:R,placement:N,isPositioned:M,middlewareData:T}=yM({strategy:"fixed",placement:I,whileElementsMounted:(...re)=>uM(...re,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[wM({mainAxis:s+P,alignmentAxis:i}),l&&bM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_M():void 0,...D}),l&&SM({...D}),EM({...D,apply:({elements:re,rects:se,availableWidth:xe,availableHeight:pe})=>{const{width:mt,height:Hn}=se.reference,bn=re.floating.style;bn.setProperty("--radix-popper-available-width",`${xe}px`),bn.setProperty("--radix-popper-available-height",`${pe}px`),bn.setProperty("--radix-popper-anchor-width",`${mt}px`),bn.setProperty("--radix-popper-anchor-height",`${Hn}px`)}}),_&&CM({element:_,padding:a}),OM({arrowWidth:C,arrowHeight:P}),p&&kM({strategy:"referenceHidden",...D})]}),[k,$]=j_(N),F=kt(w);et(()=>{M&&(F==null||F())},[M,F]);const z=(B=T.arrow)==null?void 0:B.x,V=(W=T.arrow)==null?void 0:W.y,U=((J=T.arrow)==null?void 0:J.centerOffset)!==0,[K,Y]=v.useState();return et(()=>{y&&Y(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:M?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ee=T.transformOrigin)==null?void 0:ee.x,(Q=T.transformOrigin)==null?void 0:Q.y].join(" "),...((H=T.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(AM,{scope:n,placedSide:k,onArrowChange:E,arrowX:z,arrowY:V,shouldHideArrow:U,children:d.jsx(ce.div,{"data-side":k,"data-align":$,...m,ref:g,style:{...m.style,animation:M?void 0:"none"}})})})});k_.displayName=_g;var C_="PopperArrow",MM={top:"bottom",right:"left",bottom:"top",left:"right"},N_=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=RM(C_,r),i=MM[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(jM,{...s,ref:n,style:{...s.style,display:"block"}})})});N_.displayName=C_;function IM(e){return e!==null}var OM=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=j_(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,h=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let w="",m="";return c==="bottom"?(w=i?f:`${p}px`,m=`${-l}px`):c==="top"?(w=i?f:`${p}px`,m=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,m=i?f:`${h}px`):c==="left"&&(w=`${r.floating.width+l}px`,m=i?f:`${h}px`),{data:{x:w,y:m}}}});function j_(e){const[t,n="center"]=e.split("-");return[t,n]}var P_=__,Sg=E_,Eg=k_,kg=N_,[ud,$9]=gr("Tooltip",[ki]),Cg=ki(),T_="TooltipProvider",DM=700,Xv="tooltip.open",[$M,A_]=ud(T_),R_=e=>{const{__scopeTooltip:t,delayDuration:n=DM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx($M,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};R_.displayName=T_;var M_="Tooltip",[L9,dd]=ud(M_),xp="TooltipTrigger",LM=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=dd(xp,n),o=A_(xp,n),i=Cg(n),a=v.useRef(null),l=be(t,a,s.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(Sg,{asChild:!0,...i,children:d.jsx(ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});LM.displayName=xp;var FM="TooltipPortal",[F9,zM]=ud(FM,{forceMount:void 0}),ii="TooltipContent",I_=v.forwardRef((e,t)=>{const n=zM(ii,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=dd(ii,e.__scopeTooltip);return d.jsx(zn,{present:r||i.open,children:i.disableHoverableContent?d.jsx(O_,{side:s,...o,ref:t}):d.jsx(BM,{side:s,...o,ref:t})})}),BM=v.forwardRef((e,t)=>{const n=dd(ii,e.__scopeTooltip),r=A_(ii,e.__scopeTooltip),s=v.useRef(null),o=be(t,s),[i,a]=v.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:f}=r,p=v.useCallback(()=>{a(null),f(!1)},[f]),h=v.useCallback((w,m)=>{const b=w.currentTarget,y={x:w.clientX,y:w.clientY},x=GM(y,b.getBoundingClientRect()),g=KM(y,x),_=YM(m.getBoundingClientRect()),E=XM([...g,..._]);a(E),f(!0)},[f]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&u){const w=b=>h(b,u),m=b=>h(b,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",m)}}},[l,u,h,p]),v.useEffect(()=>{if(i){const w=m=>{const b=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(b))||(u==null?void 0:u.contains(b)),g=!qM(y,i);x?p():g&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,i,c,p]),d.jsx(O_,{...e,ref:o})}),[UM,HM]=ud(M_,{isInside:!1}),VM=oT("TooltipContent"),O_=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=dd(ii,n),c=Cg(n),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(Xv,u),()=>document.removeEventListener(Xv,u)),[u]),v.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(bi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(Eg,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(VM,{children:r}),d.jsx(UM,{scope:n,isInside:!0,children:d.jsx(NT,{id:l.contentId,role:"tooltip",children:s||r})})]})})});I_.displayName=ii;var D_="TooltipArrow",WM=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Cg(n);return HM(D_,n).isInside?null:d.jsx(kg,{...s,...r,ref:t})});WM.displayName=D_;function GM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function KM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function YM(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function qM(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(s=!s)}return s}function XM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QM(t)}function QM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var JM=R_,$_=I_;const ZM=JM,eI=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx($_,{ref:r,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));eI.displayName=$_.displayName;var fd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hd=typeof window>"u"||"Deno"in globalThis;function sn(){}function tI(e,t){return typeof e=="function"?e(t):e}function nI(e){return typeof e=="number"&&e>=0&&e!==1/0}function rI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qv(e,t){return typeof e=="function"?e(t):e}function sI(e,t){return typeof e=="function"?e(t):e}function Jv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Ng(i,t.options))return!1}else if(!La(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Zv(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if($a(t.options.mutationKey)!==$a(o))return!1}else if(!La(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ng(e,t){return((t==null?void 0:t.queryKeyHashFn)||$a)(e)}function $a(e){return JSON.stringify(e,(t,n)=>wp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function La(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>La(e[n],t[n])):!1}function L_(e,t){if(e===t)return e;const n=ey(e)&&ey(t);if(n||wp(e)&&wp(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(a[u]=void 0,l++):(a[u]=L_(e[u],t[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return s===i&&l===s?e:a}return t}function ey(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wp(e){if(!ty(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ty(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ty(e){return Object.prototype.toString.call(e)==="[object Object]"}function oI(e){return new Promise(t=>{setTimeout(t,e)})}function iI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L_(e,t):t}function aI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function lI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var jg=Symbol();function F_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ks,zr,Uo,qx,cI=(qx=class extends fd{constructor(){super();we(this,ks);we(this,zr);we(this,Uo);le(this,Uo,t=>{if(!hd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,zr)||this.setEventListener(G(this,Uo))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,zr))==null||t.call(this),le(this,zr,void 0))}setEventListener(t){var n;le(this,Uo,t),(n=G(this,zr))==null||n.call(this),le(this,zr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){G(this,ks)!==t&&(le(this,ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof G(this,ks)=="boolean"?G(this,ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ks=new WeakMap,zr=new WeakMap,Uo=new WeakMap,qx),z_=new cI,Ho,Br,Vo,Xx,uI=(Xx=class extends fd{constructor(){super();we(this,Ho,!0);we(this,Br);we(this,Vo);le(this,Vo,t=>{if(!hd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,Br)||this.setEventListener(G(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Br))==null||t.call(this),le(this,Br,void 0))}setEventListener(t){var n;le(this,Vo,t),(n=G(this,Br))==null||n.call(this),le(this,Br,t(this.setOnline.bind(this)))}setOnline(t){G(this,Ho)!==t&&(le(this,Ho,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return G(this,Ho)}},Ho=new WeakMap,Br=new WeakMap,Vo=new WeakMap,Xx),wu=new uI;function dI(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function fI(e){return Math.min(1e3*2**e,3e4)}function B_(e){return(e??"online")==="online"?wu.isOnline():!0}var U_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Uf(e){return e instanceof U_}function H_(e){let t=!1,n=0,r=!1,s;const o=dI(),i=m=>{var b;r||(p(new U_(m)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>z_.isFocused()&&(e.networkMode==="always"||wu.isOnline())&&e.canRun(),u=()=>B_(e.networkMode)&&e.canRun(),f=m=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,m),s==null||s(),o.resolve(m))},p=m=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,m),s==null||s(),o.reject(m))},h=()=>new Promise(m=>{var b;s=y=>{(r||c())&&m(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),w=()=>{if(r)return;let m;const b=n===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var j;if(r)return;const x=e.retry??(hd?0:3),g=e.retryDelay??fI,_=typeof g=="function"?g(n,y):g,E=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!E){p(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),oI(_).then(()=>c()?void 0:h()).then(()=>{t?p(y):w()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?w():h().then(w),o)}}var hI=e=>setTimeout(e,0);function pI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=hI;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ut=pI(),Cs,Qx,V_=(Qx=class{constructor(){we(this,Cs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nI(this.gcTime)&&le(this,Cs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hd?1/0:5*60*1e3))}clearGcTimeout(){G(this,Cs)&&(clearTimeout(G(this,Cs)),le(this,Cs,void 0))}},Cs=new WeakMap,Qx),Wo,Go,Ht,Ns,ot,sl,js,on,Yn,Jx,mI=(Jx=class extends V_{constructor(t){super();we(this,on);we(this,Wo);we(this,Go);we(this,Ht);we(this,Ns);we(this,ot);we(this,sl);we(this,js);le(this,js,!1),le(this,sl,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Ns,t.client),le(this,Ht,G(this,Ns).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,Wo,vI(this.options)),this.state=t.state??G(this,Wo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,ot))==null?void 0:t.promise}setOptions(t){this.options={...G(this,sl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Ht).remove(this)}setData(t,n){const r=iI(this.state.data,t,this.options);return tt(this,on,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){tt(this,on,Yn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=G(this,ot))==null?void 0:r.promise;return(s=G(this,ot))==null||s.cancel(t),n?n.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Wo))}isActive(){return this.observers.some(t=>sI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,ot))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,ot))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,Ht).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(G(this,ot)&&(G(this,js)?G(this,ot).cancel({revert:!0}):G(this,ot).cancelRetry()),this.scheduleGc()),G(this,Ht).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,on,Yn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(G(this,ot))return G(this,ot).continueRetry(),G(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(le(this,js,!0),r.signal)})},o=()=>{const f=F_(this.options,n),p={client:G(this,Ns),queryKey:this.queryKey,meta:this.meta};return s(p),le(this,js,!1),this.options.persister?this.options.persister(f,p,this):f(p)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:G(this,Ns),state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),le(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&tt(this,on,Yn).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const a=f=>{var p,h,w,m;Uf(f)&&f.silent||tt(this,on,Yn).call(this,{type:"error",error:f}),Uf(f)||((h=(p=G(this,Ht).config).onError)==null||h.call(p,f,this),(m=(w=G(this,Ht).config).onSettled)==null||m.call(w,this.state.data,f,this)),this.scheduleGc()};return le(this,ot,H_({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,h,w,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(h=(p=G(this,Ht).config).onSuccess)==null||h.call(p,f,this),(m=(w=G(this,Ht).config).onSettled)==null||m.call(w,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{tt(this,on,Yn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{tt(this,on,Yn).call(this,{type:"pause"})},onContinue:()=>{tt(this,on,Yn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),G(this,ot).start()}},Wo=new WeakMap,Go=new WeakMap,Ht=new WeakMap,Ns=new WeakMap,ot=new WeakMap,sl=new WeakMap,js=new WeakMap,on=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Uf(s)&&s.revert&&G(this,Go)?{...G(this,Go),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),G(this,Ht).notify({query:this,type:"updated",action:t})})},Jx);function gI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:B_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var jn,Zx,yI=(Zx=class extends fd{constructor(t={}){super();we(this,jn);this.config=t,le(this,jn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Ng(s,n);let i=this.get(o);return i||(i=new mI({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){G(this,jn).has(t.queryHash)||(G(this,jn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=G(this,jn).get(t.queryHash);n&&(t.destroy(),n===t&&G(this,jn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,jn).get(t)}getAll(){return[...G(this,jn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Jv(t,r)):n}notify(t){ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jn=new WeakMap,Zx),Pn,lt,Ps,Tn,jr,ew,xI=(ew=class extends V_{constructor(t){super();we(this,Tn);we(this,Pn);we(this,lt);we(this,Ps);this.mutationId=t.mutationId,le(this,lt,t.mutationCache),le(this,Pn,[]),this.state=t.state||wI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,Pn).includes(t)||(G(this,Pn).push(t),this.clearGcTimeout(),G(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,Pn,G(this,Pn).filter(n=>n!==t)),this.scheduleGc(),G(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,Pn).length||(this.state.status==="pending"?this.scheduleGc():G(this,lt).remove(this))}continue(){var t;return((t=G(this,Ps))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,u,f,p,h,w,m,b,y,x,g,_,E,j,C,P;const n=()=>{tt(this,Tn,jr).call(this,{type:"continue"})};le(this,Ps,H_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{tt(this,Tn,jr).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{tt(this,Tn,jr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,lt).canRun(this)}));const r=this.state.status==="pending",s=!G(this,Ps).canStart();try{if(r)n();else{tt(this,Tn,jr).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=G(this,lt).config).onMutate)==null?void 0:i.call(o,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&tt(this,Tn,jr).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const I=await G(this,Ps).start();return await((u=(c=G(this,lt).config).onSuccess)==null?void 0:u.call(c,I,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,t,this.state.context)),await((w=(h=G(this,lt).config).onSettled)==null?void 0:w.call(h,I,null,this.state.variables,this.state.context,this)),await((b=(m=this.options).onSettled)==null?void 0:b.call(m,I,null,t,this.state.context)),tt(this,Tn,jr).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(y=G(this,lt).config).onError)==null?void 0:x.call(y,I,t,this.state.context,this)),await((_=(g=this.options).onError)==null?void 0:_.call(g,I,t,this.state.context)),await((j=(E=G(this,lt).config).onSettled)==null?void 0:j.call(E,void 0,I,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,I,t,this.state.context)),I}finally{tt(this,Tn,jr).call(this,{type:"error",error:I})}}finally{G(this,lt).runNext(this)}}},Pn=new WeakMap,lt=new WeakMap,Ps=new WeakMap,Tn=new WeakSet,jr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ut.batch(()=>{G(this,Pn).forEach(r=>{r.onMutationUpdate(t)}),G(this,lt).notify({mutation:this,type:"updated",action:t})})},ew);function wI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jn,an,ol,tw,bI=(tw=class extends fd{constructor(t={}){super();we(this,Jn);we(this,an);we(this,ol);this.config=t,le(this,Jn,new Set),le(this,an,new Map),le(this,ol,0)}build(t,n,r){const s=new xI({mutationCache:this,mutationId:++Il(this,ol)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){G(this,Jn).add(t);const n=nc(t);if(typeof n=="string"){const r=G(this,an).get(n);r?r.push(t):G(this,an).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,Jn).delete(t)){const n=nc(t);if(typeof n=="string"){const r=G(this,an).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&G(this,an).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=nc(t);if(typeof n=="string"){const r=G(this,an).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=nc(t);if(typeof n=="string"){const s=(r=G(this,an).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ut.batch(()=>{G(this,Jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,Jn).clear(),G(this,an).clear()})}getAll(){return Array.from(G(this,Jn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zv(n,r))}findAll(t={}){return this.getAll().filter(n=>Zv(t,n))}notify(t){ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ut.batch(()=>Promise.all(t.map(n=>n.continue().catch(sn))))}},Jn=new WeakMap,an=new WeakMap,ol=new WeakMap,tw);function nc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ny(e){return{onFetch:(t,n)=>{var u,f,p,h,w;const r=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const b=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=F_(t.options,t.fetchOptions),x=async(g,_,E)=>{if(m)return Promise.reject();if(_==null&&g.pages.length)return Promise.resolve(g);const j={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};b(j);const C=await y(j),{maxPages:P}=t.options,I=E?lI:aI;return{pages:I(g.pages,C,P),pageParams:I(g.pageParams,_,P)}};if(s&&o.length){const g=s==="backward",_=g?_I:ry,E={pages:o,pageParams:i},j=_(r,E);a=await x(E,j,g)}else{const g=e??o.length;do{const _=l===0?i[0]??r.initialPageParam:ry(r,a);if(l>0&&_==null)break;a=await x(a,_),l++}while(l<g)}return a};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function ry(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _I(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var $e,Ur,Hr,Ko,Yo,Vr,qo,Xo,nw,SI=(nw=class{constructor(e={}){we(this,$e);we(this,Ur);we(this,Hr);we(this,Ko);we(this,Yo);we(this,Vr);we(this,qo);we(this,Xo);le(this,$e,e.queryCache||new yI),le(this,Ur,e.mutationCache||new bI),le(this,Hr,e.defaultOptions||{}),le(this,Ko,new Map),le(this,Yo,new Map),le(this,Vr,0)}mount(){Il(this,Vr)._++,G(this,Vr)===1&&(le(this,qo,z_.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,$e).onFocus())})),le(this,Xo,wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,$e).onOnline())})))}unmount(){var e,t;Il(this,Vr)._--,G(this,Vr)===0&&((e=G(this,qo))==null||e.call(this),le(this,qo,void 0),(t=G(this,Xo))==null||t.call(this),le(this,Xo,void 0))}isFetching(e){return G(this,$e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,Ur).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,$e).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=G(this,$e).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return G(this,$e).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=G(this,$e).get(r.queryHash),o=s==null?void 0:s.state.data,i=tI(t,o);if(i!==void 0)return G(this,$e).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ut.batch(()=>G(this,$e).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,$e).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=G(this,$e);ut.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=G(this,$e);return ut.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ut.batch(()=>G(this,$e).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(sn).catch(sn)}invalidateQueries(e,t={}){return ut.batch(()=>(G(this,$e).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ut.batch(()=>G(this,$e).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(sn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=G(this,$e).build(this,t);return n.isStaleByTime(Qv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sn).catch(sn)}fetchInfiniteQuery(e){return e.behavior=ny(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sn).catch(sn)}ensureInfiniteQueryData(e){return e.behavior=ny(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wu.isOnline()?G(this,Ur).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,$e)}getMutationCache(){return G(this,Ur)}getDefaultOptions(){return G(this,Hr)}setDefaultOptions(e){le(this,Hr,e)}setQueryDefaults(e,t){G(this,Ko).set($a(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Ko).values()],n={};return t.forEach(r=>{La(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){G(this,Yo).set($a(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,Yo).values()],n={};return t.forEach(r=>{La(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Hr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ng(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Hr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,$e).clear(),G(this,Ur).clear()}},$e=new WeakMap,Ur=new WeakMap,Hr=new WeakMap,Ko=new WeakMap,Yo=new WeakMap,Vr=new WeakMap,qo=new WeakMap,Xo=new WeakMap,nw),EI=v.createContext(void 0),kI=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(EI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}var Kr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kr||(Kr={}));const sy="popstate";function CI(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:a="",hash:l=""}=Js(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),bp("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:bu(o))}function r(s,o){Pg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return jI(t,n,r,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NI(){return Math.random().toString(36).substr(2,8)}function oy(e,t){return{usr:e.state,key:e.key,idx:t}}function bp(e,t,n,r){return n===void 0&&(n=null),Fa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Js(t):t,{state:n,key:t&&t.key||r||NI()})}function bu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Kr.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(Fa({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function f(){a=Kr.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:m.location,delta:y})}function p(b,y){a=Kr.Push;let x=bp(m.location,b,y);n&&n(x,b),c=u()+1;let g=oy(x,c),_=m.createHref(x);try{i.pushState(g,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}o&&l&&l({action:a,location:m.location,delta:1})}function h(b,y){a=Kr.Replace;let x=bp(m.location,b,y);n&&n(x,b),c=u();let g=oy(x,c),_=m.createHref(x);i.replaceState(g,"",_),o&&l&&l({action:a,location:m.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:bu(b);return x=x.replace(/ $/,"%20"),Ue(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return a},get location(){return e(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(sy,f),l=b,()=>{s.removeEventListener(sy,f),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(b){return i.go(b)}};return m}var iy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iy||(iy={}));function PI(e,t,n){return n===void 0&&(n="/"),TI(e,t,n)}function TI(e,t,n,r){let s=typeof t=="string"?Js(t):t,o=Tg(s.pathname||"/",n);if(o==null)return null;let i=W_(e);AI(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=HI(o);a=zI(i[l],c)}return a}function W_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ns([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W_(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:LI(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of G_(o.path))s(o,i,l)}),t}function G_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=G_(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function AI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RI=/^:[\w-]+$/,MI=3,II=2,OI=1,DI=10,$I=-2,ay=e=>e==="*";function LI(e,t){let n=e.split("/"),r=n.length;return n.some(ay)&&(r+=$I),t&&(r+=II),n.filter(s=>!ay(s)).reduce((s,o)=>s+(RI.test(o)?MI:o===""?OI:DI),r)}function FI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function zI(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=BI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ns([o,f.pathname]),pathnameBase:KI(ns([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=ns([o,f.pathnameBase]))}return i}function BI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=UI(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:p,isOptional:h}=u;if(p==="*"){let m=a[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const w=a[f];return h&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function UI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function HI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function VI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Js(e):e;return{pathname:n?n.startsWith("/")?n:WI(n,t):t,search:YI(r),hash:qI(s)}}function WI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function K_(e,t){let n=GI(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y_(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Js(e):(s=Fa({},e),Ue(!s.pathname||!s.pathname.includes("?"),Hf("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),Hf("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),Hf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=VI(s,a),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ns=e=>e.join("/").replace(/\/\/+/g,"/"),KI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const q_=["post","put","patch","delete"];new Set(q_);const QI=["get",...q_];new Set(QI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},za.apply(this,arguments)}const Ag=v.createContext(null),JI=v.createContext(null),Zs=v.createContext(null),pd=v.createContext(null),eo=v.createContext({outlet:null,matches:[],isDataRoute:!1}),X_=v.createContext(null);function ZI(e,t){let{relative:n}=t===void 0?{}:t;gl()||Ue(!1);let{basename:r,navigator:s}=v.useContext(Zs),{hash:o,pathname:i,search:a}=J_(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:ns([r,i])),s.createHref({pathname:l,search:a,hash:o})}function gl(){return v.useContext(pd)!=null}function vl(){return gl()||Ue(!1),v.useContext(pd).location}function Q_(e){v.useContext(Zs).static||v.useLayoutEffect(e)}function eO(){let{isDataRoute:e}=v.useContext(eo);return e?hO():tO()}function tO(){gl()||Ue(!1);let e=v.useContext(Ag),{basename:t,future:n,navigator:r}=v.useContext(Zs),{matches:s}=v.useContext(eo),{pathname:o}=vl(),i=JSON.stringify(K_(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return Q_(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Y_(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ns([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,o,e])}function J_(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Zs),{matches:s}=v.useContext(eo),{pathname:o}=vl(),i=JSON.stringify(K_(s,r.v7_relativeSplatPath));return v.useMemo(()=>Y_(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function nO(e,t){return rO(e,t)}function rO(e,t,n,r){gl()||Ue(!1);let{navigator:s}=v.useContext(Zs),{matches:o}=v.useContext(eo),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=vl(),u;if(t){var f;let b=typeof t=="string"?Js(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Ue(!1),u=b}else u=c;let p=u.pathname||"/",h=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=PI(e,{pathname:h}),m=lO(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ns([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ns([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&m?v.createElement(pd.Provider,{value:{location:za({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Kr.Pop}},m):m}function sO(){let e=fO(),t=XI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const oO=v.createElement(sO,null);class iO extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(eo.Provider,{value:this.props.routeContext},v.createElement(X_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aO(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Ag);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(eo.Provider,{value:t},r)}function lO(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Ue(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:h}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,p)=>{let h,w=!1,m=null,b=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||oO,l&&(c<0&&p===0?(pO("route-fallback"),w=!0,b=null):c===p&&(w=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),x=()=>{let g;return h?g=m:w?g=b:f.route.Component?g=v.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=u,v.createElement(aO,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(iO,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Z_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Z_||{}),eS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eS||{});function cO(e){let t=v.useContext(Ag);return t||Ue(!1),t}function uO(e){let t=v.useContext(JI);return t||Ue(!1),t}function dO(e){let t=v.useContext(eo);return t||Ue(!1),t}function tS(e){let t=dO(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function fO(){var e;let t=v.useContext(X_),n=uO(),r=tS();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function hO(){let{router:e}=cO(Z_.UseNavigateStable),t=tS(eS.UseNavigateStable),n=v.useRef(!1);return Q_(()=>{n.current=!0}),v.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,za({fromRouteId:t},o)))},[e,t])}const ly={};function pO(e,t,n){ly[e]||(ly[e]=!0)}function mO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qi(e){Ue(!1)}function gO(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Kr.Pop,navigator:o,static:i=!1,future:a}=e;gl()&&Ue(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:o,static:i,future:za({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Js(r));let{pathname:u="/",search:f="",hash:p="",state:h=null,key:w="default"}=r,m=v.useMemo(()=>{let b=Tg(u,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:h,key:w},navigationType:s}},[l,u,f,p,h,w,s]);return m==null?null:v.createElement(Zs.Provider,{value:c},v.createElement(pd.Provider,{children:n,value:m}))}function vO(e){let{children:t,location:n}=e;return nO(_p(t),n)}new Promise(()=>{});function _p(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let o=[...t,s];if(r.type===v.Fragment){n.push.apply(n,_p(r.props.children,o));return}r.type!==Qi&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=_p(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(this,arguments)}function yO(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function xO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wO(e,t){return e.button===0&&(!t||t==="_self")&&!xO(e)}const bO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_O="6";try{window.__reactRouterVersion=_O}catch{}const SO="startTransition",cy=pm[SO];function EO(e){let{basename:t,children:n,future:r,window:s}=e,o=v.useRef();o.current==null&&(o.current=CI({window:s,v5Compat:!0}));let i=o.current,[a,l]=v.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=v.useCallback(f=>{c&&cy?cy(()=>l(f)):l(f)},[l,c]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.useEffect(()=>mO(r),[r]),v.createElement(gO,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,p=yO(t,bO),{basename:h}=v.useContext(Zs),w,m=!1;if(typeof c=="string"&&CO.test(c)&&(w=c,kO))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),E=Tg(_.pathname,h);_.origin===g.origin&&E!=null?c=E+_.search+_.hash:m=!0}catch{}let b=ZI(c,{relative:s}),y=NO(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:f});function x(g){r&&r(g),g.defaultPrevented||y(g)}return v.createElement("a",Sp({},p,{href:w||b,onClick:m||o?r:x,ref:n,target:l}))});var uy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uy||(uy={}));var dy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));function NO(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=eO(),c=vl(),u=J_(e,{relative:i});return v.useCallback(f=>{if(wO(f,n)){f.preventDefault();let p=r!==void 0?r:bu(c)===bu(u);l(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,u,r,s,n,e,o,i,a])}const jO=hl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?rT:"button";return d.jsx(i,{className:ie(jO({variant:t,size:n,className:e})),ref:o,...s})});Se.displayName="Button";var PO=v.createContext(void 0);function Rg(e){const t=v.useContext(PO);return e||t||"ltr"}var Vf=0;function Mg(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fy()),document.body.insertAdjacentElement("beforeend",e[1]??fy()),Vf++,()=>{Vf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vf--}},[])}function fy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wf="focusScope.autoFocusOnMount",Gf="focusScope.autoFocusOnUnmount",hy={bubbles:!1,cancelable:!0},TO="FocusScope",md=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=v.useState(null),c=kt(s),u=kt(o),f=v.useRef(null),p=be(t,m=>l(m)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let m=function(g){if(h.paused||!a)return;const _=g.target;a.contains(_)?f.current=_:Pr(f.current,{select:!0})},b=function(g){if(h.paused||!a)return;const _=g.relatedTarget;_!==null&&(a.contains(_)||Pr(f.current,{select:!0}))},y=function(g){if(document.activeElement===document.body)for(const E of g)E.removedNodes.length>0&&Pr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,h.paused]),v.useEffect(()=>{if(a){my.add(h);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Wf,hy);a.addEventListener(Wf,c),a.dispatchEvent(y),y.defaultPrevented||(AO(DO(nS(a)),{select:!0}),document.activeElement===m&&Pr(a))}return()=>{a.removeEventListener(Wf,c),setTimeout(()=>{const y=new CustomEvent(Gf,hy);a.addEventListener(Gf,u),a.dispatchEvent(y),y.defaultPrevented||Pr(m??document.body,{select:!0}),a.removeEventListener(Gf,u),my.remove(h)},0)}}},[a,c,u,h]);const w=v.useCallback(m=>{if(!n&&!r||h.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(b&&y){const x=m.currentTarget,[g,_]=RO(x);g&&_?!m.shiftKey&&y===_?(m.preventDefault(),n&&Pr(g,{select:!0})):m.shiftKey&&y===g&&(m.preventDefault(),n&&Pr(_,{select:!0})):y===x&&m.preventDefault()}},[n,r,h.paused]);return d.jsx(ce.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});md.displayName=TO;function AO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Pr(r,{select:t}),document.activeElement!==n)return}function RO(e){const t=nS(e),n=py(t,e),r=py(t.reverse(),e);return[n,r]}function nS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function py(e,t){for(const n of e)if(!MO(n,{upTo:t}))return n}function MO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IO(e){return e instanceof HTMLInputElement&&"select"in e}function Pr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&IO(e)&&t&&e.select()}}var my=OO();function OO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=gy(e,t),e.unshift(t)},remove(t){var n;e=gy(e,t),(n=e[0])==null||n.resume()}}}function gy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function DO(e){return e.filter(t=>t.tagName!=="A")}var Kf="rovingFocusGroup.onEntryFocus",$O={bubbles:!1,cancelable:!0},yl="RovingFocusGroup",[Ep,rS,LO]=rd(yl),[FO,sS]=gr(yl,[LO]),[zO,BO]=FO(yl),oS=v.forwardRef((e,t)=>d.jsx(Ep.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Ep.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(UO,{...e,ref:t})})}));oS.displayName=yl;var UO=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,p=v.useRef(null),h=be(t,p),w=Rg(o),[m,b]=si({prop:i,defaultProp:a??null,onChange:l,caller:yl}),[y,x]=v.useState(!1),g=kt(c),_=rS(n),E=v.useRef(!1),[j,C]=v.useState(0);return v.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Kf,g),()=>P.removeEventListener(Kf,g)},[g]),d.jsx(zO,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(P=>b(P),[b]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>C(P=>P-1),[]),children:d.jsx(ce.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{E.current=!0}),onFocus:Z(e.onFocus,P=>{const I=!E.current;if(P.target===P.currentTarget&&I&&!y){const O=new CustomEvent(Kf,$O);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=_().filter(N=>N.focusable),A=L.find(N=>N.active),D=L.find(N=>N.id===m),R=[A,D,...L].filter(Boolean).map(N=>N.ref.current);lS(R,u)}}E.current=!1}),onBlur:Z(e.onBlur,()=>x(!1))})})}),iS="RovingFocusGroupItem",aS=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=rr(),c=o||l,u=BO(iS,n),f=u.currentTabStopId===c,p=rS(n),{onFocusableItemAdd:h,onFocusableItemRemove:w,currentTabStopId:m}=u;return v.useEffect(()=>{if(r)return h(),()=>w()},[r,h,w]),d.jsx(Ep.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(ce.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,b=>{r?u.onItemFocus(c):b.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=WO(b,u.orientation,u.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")g.reverse();else if(y==="prev"||y==="next"){y==="prev"&&g.reverse();const _=g.indexOf(b.currentTarget);g=u.loop?GO(g,_+1):g.slice(_+1)}setTimeout(()=>lS(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:m!=null}):i})})});aS.displayName=iS;var HO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WO(e,t,n){const r=VO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HO[r]}function lS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function GO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var KO=oS,YO=aS,qO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},io=new WeakMap,rc=new WeakMap,sc={},Yf=0,cS=function(e){return e&&(e.host||cS(e.parentNode))},XO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},QO=function(e,t,n,r){var s=XO(t,Array.isArray(e)?e:[e]);sc[n]||(sc[n]=new WeakMap);var o=sc[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var h=p.getAttribute(r),w=h!==null&&h!=="false",m=(io.get(p)||0)+1,b=(o.get(p)||0)+1;io.set(p,m),o.set(p,b),i.push(p),m===1&&w&&rc.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return u(t),a.clear(),Yf++,function(){i.forEach(function(f){var p=io.get(f)-1,h=o.get(f)-1;io.set(f,p),o.set(f,h),p||(rc.has(f)||f.removeAttribute(r),rc.delete(f)),h||f.removeAttribute(n)}),Yf--,Yf||(io=new WeakMap,io=new WeakMap,rc=new WeakMap,sc={})}},Ig=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=qO(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),QO(r,s,n,"aria-hidden")):function(){return null}},Rn=function(){return Rn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Rn.apply(this,arguments)};function uS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function JO(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Lc="right-scroll-bar-position",Fc="width-before-scroll-bar",ZO="with-scroll-bars-hidden",eD="--removed-body-scroll-bar-size";function qf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tD(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var nD=typeof window<"u"?v.useLayoutEffect:v.useEffect,vy=new WeakMap;function rD(e,t){var n=tD(null,function(r){return e.forEach(function(s){return qf(s,r)})});return nD(function(){var r=vy.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||qf(a,null)}),o.forEach(function(a){s.has(a)||qf(a,i)})}vy.set(n,e)},[e]),n}function sD(e){return e}function oD(e,t){t===void 0&&(t=sD);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),n}}}};return s}function iD(e){e===void 0&&(e={});var t=oD(null);return t.options=Rn({async:!0,ssr:!1},e),t}var dS=function(e){var t=e.sideCar,n=uS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Rn({},n))};dS.isSideCarExport=!0;function aD(e,t){return e.useMedium(t),dS}var fS=iD(),Xf=function(){},gd=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Xf,onWheelCapture:Xf,onTouchMoveCapture:Xf}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,w=e.noIsolation,m=e.inert,b=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,g=e.gapMode,_=uS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,j=rD([n,t]),C=Rn(Rn({},_),s);return v.createElement(v.Fragment,null,u&&v.createElement(E,{sideCar:fS,removeScrollBar:c,shards:f,noRelative:h,noIsolation:w,inert:m,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:g}),i?v.cloneElement(v.Children.only(a),Rn(Rn({},C),{ref:j})):v.createElement(x,Rn({},C,{className:l,ref:j}),a))});gd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gd.classNames={fullWidth:Fc,zeroRight:Lc};var lD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lD();return t&&e.setAttribute("nonce",t),e}function uD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cD())&&(uD(t,n),dD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hD=function(){var e=fD();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hS=function(){var e=hD(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},pD={left:0,top:0,right:0,gap:0},Qf=function(e){return parseInt(e||"",10)||0},mD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Qf(n),Qf(r),Qf(s)]},gD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pD;var t=mD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},vD=hS(),$o="data-scroll-locked",yD=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($o,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($o,`] {
    `).concat(eD,": ").concat(a,`px;
  }
`)},yy=function(){var e=parseInt(document.body.getAttribute($o)||"0",10);return isFinite(e)?e:0},xD=function(){v.useEffect(function(){return document.body.setAttribute($o,(yy()+1).toString()),function(){var e=yy()-1;e<=0?document.body.removeAttribute($o):document.body.setAttribute($o,e.toString())}},[])},wD=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;xD();var o=v.useMemo(function(){return gD(s)},[s]);return v.createElement(vD,{styles:yD(o,!t,s,n?"":"!important")})},kp=!1;if(typeof window<"u")try{var oc=Object.defineProperty({},"passive",{get:function(){return kp=!0,!0}});window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{kp=!1}var ao=kp?{passive:!1}:!1,bD=function(e){return e.tagName==="TEXTAREA"},pS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!bD(e)&&n[t]==="visible")},_D=function(e){return pS(e,"overflowY")},SD=function(e){return pS(e,"overflowX")},xy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mS(e,r);if(s){var o=gS(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ED=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},kD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mS=function(e,t){return e==="v"?_D(t):SD(t)},gS=function(e,t){return e==="v"?ED(t):kD(t)},CD=function(e,t){return e==="h"&&t==="rtl"?-1:1},ND=function(e,t,n,r,s){var o=CD(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,u=i>0,f=0,p=0;do{var h=gS(e,a),w=h[0],m=h[1],b=h[2],y=m-b-o*w;(w||y)&&mS(e,a)&&(f+=y,p+=w),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},ic=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wy=function(e){return[e.deltaX,e.deltaY]},by=function(e){return e&&"current"in e?e.current:e},jD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TD=0,lo=[];function AD(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(TD++)[0],o=v.useState(hS)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=JO([e.lockRef.current],(e.shards||[]).map(by),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=ic(m),x=n.current,g="deltaX"in m?m.deltaX:x[0]-y[0],_="deltaY"in m?m.deltaY:x[1]-y[1],E,j=m.target,C=Math.abs(g)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&j.type==="range")return!1;var P=xy(C,j);if(!P)return!0;if(P?E=C:(E=C==="v"?"h":"v",P=xy(C,j)),!P)return!1;if(!r.current&&"changedTouches"in m&&(g||_)&&(r.current=E),!E)return!0;var I=r.current||E;return ND(I,b,m,I==="h"?g:_)},[]),l=v.useCallback(function(m){var b=m;if(!(!lo.length||lo[lo.length-1]!==o)){var y="deltaY"in b?wy(b):ic(b),x=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&jD(E.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var g=(i.current.shards||[]).map(by).filter(Boolean).filter(function(E){return E.contains(b.target)}),_=g.length>0?a(b,g[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),c=v.useCallback(function(m,b,y,x){var g={name:m,delta:b,target:y,should:x,shadowParent:RD(y)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(_){return _!==g})},1)},[]),u=v.useCallback(function(m){n.current=ic(m),r.current=void 0},[]),f=v.useCallback(function(m){c(m.type,wy(m),m.target,a(m,e.lockRef.current))},[]),p=v.useCallback(function(m){c(m.type,ic(m),m.target,a(m,e.lockRef.current))},[]);v.useEffect(function(){return lo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ao),document.addEventListener("touchmove",l,ao),document.addEventListener("touchstart",u,ao),function(){lo=lo.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,ao),document.removeEventListener("touchmove",l,ao),document.removeEventListener("touchstart",u,ao)}},[]);var h=e.removeScrollBar,w=e.inert;return v.createElement(v.Fragment,null,w?v.createElement(o,{styles:PD(s)}):null,h?v.createElement(wD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const MD=aD(fS,AD);var vd=v.forwardRef(function(e,t){return v.createElement(gd,Rn({},e,{ref:t,sideCar:MD}))});vd.classNames=gd.classNames;var Cp=["Enter"," "],ID=["ArrowDown","PageUp","Home"],vS=["ArrowUp","PageDown","End"],OD=[...ID,...vS],DD={ltr:[...Cp,"ArrowRight"],rtl:[...Cp,"ArrowLeft"]},$D={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xl="Menu",[Ba,LD,FD]=rd(xl),[to,yS]=gr(xl,[FD,ki,sS]),yd=ki(),xS=sS(),[zD,no]=to(xl),[BD,wl]=to(xl),wS=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=yd(t),[l,c]=v.useState(null),u=v.useRef(!1),f=kt(o),p=Rg(s);return v.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(P_,{...a,children:d.jsx(zD,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:d.jsx(BD,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:p,modal:i,children:r})})})};wS.displayName=xl;var UD="MenuAnchor",Og=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yd(n);return d.jsx(Sg,{...s,...r,ref:t})});Og.displayName=UD;var Dg="MenuPortal",[HD,bS]=to(Dg,{forceMount:void 0}),_S=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=no(Dg,t);return d.jsx(HD,{scope:t,forceMount:n,children:d.jsx(zn,{present:n||o.open,children:d.jsx(dl,{asChild:!0,container:s,children:r})})})};_S.displayName=Dg;var qt="MenuContent",[VD,$g]=to(qt),SS=v.forwardRef((e,t)=>{const n=bS(qt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=no(qt,e.__scopeMenu),i=wl(qt,e.__scopeMenu);return d.jsx(Ba.Provider,{scope:e.__scopeMenu,children:d.jsx(zn,{present:r||o.open,children:d.jsx(Ba.Slot,{scope:e.__scopeMenu,children:i.modal?d.jsx(WD,{...s,ref:t}):d.jsx(GD,{...s,ref:t})})})})}),WD=v.forwardRef((e,t)=>{const n=no(qt,e.__scopeMenu),r=v.useRef(null),s=be(t,r);return v.useEffect(()=>{const o=r.current;if(o)return Ig(o)},[]),d.jsx(Lg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),GD=v.forwardRef((e,t)=>{const n=no(qt,e.__scopeMenu);return d.jsx(Lg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),KD=Bs("MenuContent.ScrollLock"),Lg=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:w,...m}=e,b=no(qt,n),y=wl(qt,n),x=yd(n),g=xS(n),_=LD(n),[E,j]=v.useState(null),C=v.useRef(null),P=be(t,C,b.onContentChange),I=v.useRef(0),O=v.useRef(""),L=v.useRef(0),A=v.useRef(null),D=v.useRef("right"),S=v.useRef(0),R=w?vd:v.Fragment,N=w?{as:KD,allowPinchZoom:!0}:void 0,M=k=>{var B,W;const $=O.current+k,F=_().filter(J=>!J.disabled),z=document.activeElement,V=(B=F.find(J=>J.ref.current===z))==null?void 0:B.textValue,U=F.map(J=>J.textValue),K=o$(U,$,V),Y=(W=F.find(J=>J.textValue===K))==null?void 0:W.ref.current;(function J(ee){O.current=ee,window.clearTimeout(I.current),ee!==""&&(I.current=window.setTimeout(()=>J(""),1e3))})($),Y&&setTimeout(()=>Y.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),Mg();const T=v.useCallback(k=>{var F,z;return D.current===((F=A.current)==null?void 0:F.side)&&a$(k,(z=A.current)==null?void 0:z.area)},[]);return d.jsx(VD,{scope:n,searchRef:O,onItemEnter:v.useCallback(k=>{T(k)&&k.preventDefault()},[T]),onItemLeave:v.useCallback(k=>{var $;T(k)||(($=C.current)==null||$.focus(),j(null))},[T]),onTriggerLeave:v.useCallback(k=>{T(k)&&k.preventDefault()},[T]),pointerGraceTimerRef:L,onPointerGraceIntentChange:v.useCallback(k=>{A.current=k},[]),children:d.jsx(R,{...N,children:d.jsx(md,{asChild:!0,trapped:s,onMountAutoFocus:Z(o,k=>{var $;k.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:d.jsx(bi,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:d.jsx(KO,{asChild:!0,...g,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:j,onEntryFocus:Z(l,k=>{y.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Eg,{role:"menu","aria-orientation":"vertical","data-state":FS(b.open),"data-radix-menu-content":"",dir:y.dir,...x,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:Z(m.onKeyDown,k=>{const F=k.target.closest("[data-radix-menu-content]")===k.currentTarget,z=k.ctrlKey||k.altKey||k.metaKey,V=k.key.length===1;F&&(k.key==="Tab"&&k.preventDefault(),!z&&V&&M(k.key));const U=C.current;if(k.target!==U||!OD.includes(k.key))return;k.preventDefault();const Y=_().filter(B=>!B.disabled).map(B=>B.ref.current);vS.includes(k.key)&&Y.reverse(),r$(Y)}),onBlur:Z(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(I.current),O.current="")}),onPointerMove:Z(e.onPointerMove,Ua(k=>{const $=k.target,F=S.current!==k.clientX;if(k.currentTarget.contains($)&&F){const z=k.clientX>S.current?"right":"left";D.current=z,S.current=k.clientX}}))})})})})})})});SS.displayName=qt;var YD="MenuGroup",Fg=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.jsx(ce.div,{role:"group",...r,ref:t})});Fg.displayName=YD;var qD="MenuLabel",ES=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.jsx(ce.div,{...r,ref:t})});ES.displayName=qD;var _u="MenuItem",_y="menu.itemSelect",xd=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=v.useRef(null),i=wl(_u,e.__scopeMenu),a=$g(_u,e.__scopeMenu),l=be(t,o),c=v.useRef(!1),u=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(_y,{bubbles:!0,cancelable:!0});f.addEventListener(_y,h=>r==null?void 0:r(h),{once:!0}),og(f,p),p.defaultPrevented?c.current=!1:i.onClose()}};return d.jsx(kS,{...s,ref:l,disabled:n,onClick:Z(e.onClick,u),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),c.current=!0},onPointerUp:Z(e.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Z(e.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Cp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xd.displayName=_u;var kS=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=$g(_u,n),a=xS(n),l=v.useRef(null),c=be(t,l),[u,f]=v.useState(!1),[p,h]=v.useState("");return v.useEffect(()=>{const w=l.current;w&&h((w.textContent??"").trim())},[o.children]),d.jsx(Ba.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(YO,{asChild:!0,...a,focusable:!r,children:d.jsx(ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:Z(e.onPointerMove,Ua(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Ua(w=>i.onItemLeave(w))),onFocus:Z(e.onFocus,()=>f(!0)),onBlur:Z(e.onBlur,()=>f(!1))})})})}),XD="MenuCheckboxItem",CS=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return d.jsx(AS,{scope:e.__scopeMenu,checked:n,children:d.jsx(xd,{role:"menuitemcheckbox","aria-checked":Su(n)?"mixed":n,...s,ref:t,"data-state":Bg(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Su(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CS.displayName=XD;var NS="MenuRadioGroup",[QD,JD]=to(NS,{value:void 0,onValueChange:()=>{}}),jS=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=kt(r);return d.jsx(QD,{scope:e.__scopeMenu,value:n,onValueChange:o,children:d.jsx(Fg,{...s,ref:t})})});jS.displayName=NS;var PS="MenuRadioItem",TS=v.forwardRef((e,t)=>{const{value:n,...r}=e,s=JD(PS,e.__scopeMenu),o=n===s.value;return d.jsx(AS,{scope:e.__scopeMenu,checked:o,children:d.jsx(xd,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Bg(o),onSelect:Z(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});TS.displayName=PS;var zg="MenuItemIndicator",[AS,ZD]=to(zg,{checked:!1}),RS=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=ZD(zg,n);return d.jsx(zn,{present:r||Su(o.checked)||o.checked===!0,children:d.jsx(ce.span,{...s,ref:t,"data-state":Bg(o.checked)})})});RS.displayName=zg;var e$="MenuSeparator",MS=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.jsx(ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});MS.displayName=e$;var t$="MenuArrow",IS=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=yd(n);return d.jsx(kg,{...s,...r,ref:t})});IS.displayName=t$;var n$="MenuSub",[z9,OS]=to(n$),Ji="MenuSubTrigger",DS=v.forwardRef((e,t)=>{const n=no(Ji,e.__scopeMenu),r=wl(Ji,e.__scopeMenu),s=OS(Ji,e.__scopeMenu),o=$g(Ji,e.__scopeMenu),i=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),d.jsx(Og,{asChild:!0,...c,children:d.jsx(kS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":FS(n.open),...e,ref:nd(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Ua(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(e.onPointerLeave,Ua(f=>{var h,w;u();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const m=(w=n.content)==null?void 0:w.dataset.side,b=m==="right",y=b?-5:5,x=p[b?"left":"right"],g=p[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:p.top},{x:g,y:p.top},{x:g,y:p.bottom},{x,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,f=>{var h;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||DD[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});DS.displayName=Ji;var $S="MenuSubContent",LS=v.forwardRef((e,t)=>{const n=bS(qt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=no(qt,e.__scopeMenu),i=wl(qt,e.__scopeMenu),a=OS($S,e.__scopeMenu),l=v.useRef(null),c=be(t,l);return d.jsx(Ba.Provider,{scope:e.__scopeMenu,children:d.jsx(zn,{present:r||o.open,children:d.jsx(Ba.Slot,{scope:e.__scopeMenu,children:d.jsx(Lg,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:Z(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),p=$D[i.dir].includes(u.key);f&&p&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});LS.displayName=$S;function FS(e){return e?"open":"closed"}function Su(e){return e==="indeterminate"}function Bg(e){return Su(e)?"indeterminate":e?"checked":"unchecked"}function r$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function s$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function o$(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=s$(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function i$(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(s=!s)}return s}function a$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return i$(n,t)}function Ua(e){return t=>t.pointerType==="mouse"?e(t):void 0}var l$=wS,c$=Og,u$=_S,d$=SS,f$=Fg,h$=ES,p$=xd,m$=CS,g$=jS,v$=TS,y$=RS,x$=MS,w$=IS,b$=DS,_$=LS,wd="DropdownMenu",[S$,B9]=gr(wd,[yS]),pt=yS(),[E$,zS]=S$(wd),BS=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=pt(t),c=v.useRef(null),[u,f]=si({prop:s,defaultProp:o??!1,onChange:i,caller:wd});return d.jsx(E$,{scope:t,triggerId:rr(),triggerRef:c,contentId:rr(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),modal:a,children:d.jsx(l$,{...l,open:u,onOpenChange:f,dir:r,modal:a,children:n})})};BS.displayName=wd;var US="DropdownMenuTrigger",HS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=zS(US,n),i=pt(n);return d.jsx(c$,{asChild:!0,...i,children:d.jsx(ce.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:nd(t,o.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});HS.displayName=US;var k$="DropdownMenuPortal",VS=e=>{const{__scopeDropdownMenu:t,...n}=e,r=pt(t);return d.jsx(u$,{...r,...n})};VS.displayName=k$;var WS="DropdownMenuContent",GS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zS(WS,n),o=pt(n),i=v.useRef(!1);return d.jsx(d$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GS.displayName=WS;var C$="DropdownMenuGroup",N$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(f$,{...s,...r,ref:t})});N$.displayName=C$;var j$="DropdownMenuLabel",KS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(h$,{...s,...r,ref:t})});KS.displayName=j$;var P$="DropdownMenuItem",YS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(p$,{...s,...r,ref:t})});YS.displayName=P$;var T$="DropdownMenuCheckboxItem",qS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(m$,{...s,...r,ref:t})});qS.displayName=T$;var A$="DropdownMenuRadioGroup",R$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(g$,{...s,...r,ref:t})});R$.displayName=A$;var M$="DropdownMenuRadioItem",XS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(v$,{...s,...r,ref:t})});XS.displayName=M$;var I$="DropdownMenuItemIndicator",QS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(y$,{...s,...r,ref:t})});QS.displayName=I$;var O$="DropdownMenuSeparator",JS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(x$,{...s,...r,ref:t})});JS.displayName=O$;var D$="DropdownMenuArrow",$$=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(w$,{...s,...r,ref:t})});$$.displayName=D$;var L$="DropdownMenuSubTrigger",ZS=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(b$,{...s,...r,ref:t})});ZS.displayName=L$;var F$="DropdownMenuSubContent",eE=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=pt(n);return d.jsx(_$,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eE.displayName=F$;var z$=BS,B$=HS,U$=VS,tE=GS,nE=KS,rE=YS,sE=qS,oE=XS,iE=QS,aE=JS,lE=ZS,cE=eE;const H$=z$,V$=B$,W$=v.forwardRef(({className:e,inset:t,children:n,...r},s)=>d.jsxs(lE,{ref:s,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,d.jsx(G1,{className:"ml-auto h-4 w-4"})]}));W$.displayName=lE.displayName;const G$=v.forwardRef(({className:e,...t},n)=>d.jsx(cE,{ref:n,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));G$.displayName=cE.displayName;const uE=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx(U$,{children:d.jsx(tE,{ref:r,sideOffset:t,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));uE.displayName=tE.displayName;const zc=v.forwardRef(({className:e,inset:t,...n},r)=>d.jsx(rE,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));zc.displayName=rE.displayName;const K$=v.forwardRef(({className:e,children:t,checked:n,...r},s)=>d.jsxs(sE,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(iE,{children:d.jsx(V1,{className:"h-4 w-4"})})}),t]}));K$.displayName=sE.displayName;const Y$=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(oE,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(iE,{children:d.jsx(QT,{className:"h-2 w-2 fill-current"})})}),t]}));Y$.displayName=oE.displayName;const q$=v.forwardRef(({className:e,inset:t,...n},r)=>d.jsx(nE,{ref:r,className:ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));q$.displayName=nE.displayName;const X$=v.forwardRef(({className:e,...t},n)=>d.jsx(aE,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));X$.displayName=aE.displayName;function Eu(){const{setTheme:e,theme:t}=l_();return d.jsxs(H$,{children:[d.jsx(V$,{asChild:!0,children:d.jsxs(Se,{variant:"outline",size:"icon",children:[t==="light"&&d.jsx(cA,{className:"h-[1.2rem] w-[1.2rem]"}),t==="dark"&&d.jsx(nA,{className:"h-[1.2rem] w-[1.2rem]"}),t==="system"&&d.jsx(tA,{className:"h-[1.2rem] w-[1.2rem]"}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),d.jsxs(uE,{align:"end",children:[d.jsx(zc,{onClick:()=>e("light"),children:"Light"}),d.jsx(zc,{onClick:()=>e("dark"),children:"Dark"}),d.jsx(zc,{onClick:()=>e("system"),children:"System"})]})]})}function hr(e){return Array.isArray?Array.isArray(e):hE(e)==="[object Array]"}function Q$(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function J$(e){return e==null?"":Q$(e)}function Mn(e){return typeof e=="string"}function dE(e){return typeof e=="number"}function Z$(e){return e===!0||e===!1||e4(e)&&hE(e)=="[object Boolean]"}function fE(e){return typeof e=="object"}function e4(e){return fE(e)&&e!==null}function It(e){return e!=null}function Jf(e){return!e.trim().length}function hE(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const t4="Incorrect 'index' type",n4=e=>`Invalid value for key ${e}`,r4=e=>`Pattern length exceeds max of ${e}.`,s4=e=>`Missing ${e} property in key`,o4=e=>`Property 'weight' in key '${e}' must be a positive integer`,Sy=Object.prototype.hasOwnProperty;class i4{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=pE(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function pE(e){let t=null,n=null,r=null,s=1,o=null;if(Mn(e)||hr(e))r=e,t=Ey(e),n=Np(e);else{if(!Sy.call(e,"name"))throw new Error(s4("name"));const i=e.name;if(r=i,Sy.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(o4(i));t=Ey(i),n=Np(i),o=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:o}}function Ey(e){return hr(e)?e:e.split(".")}function Np(e){return hr(e)?e.join("."):e}function a4(e,t){let n=[],r=!1;const s=(o,i,a)=>{if(It(o))if(!i[a])n.push(o);else{let l=i[a];const c=o[l];if(!It(c))return;if(a===i.length-1&&(Mn(c)||dE(c)||Z$(c)))n.push(J$(c));else if(hr(c)){r=!0;for(let u=0,f=c.length;u<f;u+=1)s(c[u],i,a+1)}else i.length&&s(c,i,a+1)}};return s(e,Mn(t)?t.split("."):t,0),r?n:n[0]}const l4={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},c4={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},u4={location:0,threshold:.6,distance:100},d4={useExtendedSearch:!1,getFn:a4,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var oe={...c4,...l4,...u4,...d4};const f4=/[^ ]+/g;function h4(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const o=s.match(f4).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}class Ug{constructor({getFn:t=oe.getFn,fieldNormWeight:n=oe.fieldNormWeight}={}){this.norm=h4(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Mn(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Mn(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!It(t)||Jf(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,o)=>{let i=s.getFn?s.getFn(t):this.getFn(t,s.path);if(It(i)){if(hr(i)){let a=[];const l=[{nestedArrIndex:-1,value:i}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(It(u))if(Mn(u)&&!Jf(u)){let f={v:u,i:c,n:this.norm.get(u)};a.push(f)}else hr(u)&&u.forEach((f,p)=>{l.push({nestedArrIndex:p,value:f})})}r.$[o]=a}else if(Mn(i)&&!Jf(i)){let a={v:i,n:this.norm.get(i)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function mE(e,t,{getFn:n=oe.getFn,fieldNormWeight:r=oe.fieldNormWeight}={}){const s=new Ug({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(pE)),s.setSources(t),s.create(),s}function p4(e,{getFn:t=oe.getFn,fieldNormWeight:n=oe.fieldNormWeight}={}){const{keys:r,records:s}=e,o=new Ug({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(s),o}function ac(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=oe.distance,ignoreLocation:o=oe.ignoreLocation}={}){const i=t/e.length;if(o)return i;const a=Math.abs(r-n);return s?i+a/s:a?1:i}function m4(e=[],t=oe.minMatchCharLength){let n=[],r=-1,s=-1,o=0;for(let i=e.length;o<i;o+=1){let a=e[o];a&&r===-1?r=o:!a&&r!==-1&&(s=o-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const xs=32;function g4(e,t,n,{location:r=oe.location,distance:s=oe.distance,threshold:o=oe.threshold,findAllMatches:i=oe.findAllMatches,minMatchCharLength:a=oe.minMatchCharLength,includeMatches:l=oe.includeMatches,ignoreLocation:c=oe.ignoreLocation}={}){if(t.length>xs)throw new Error(r4(xs));const u=t.length,f=e.length,p=Math.max(0,Math.min(r,f));let h=o,w=p;const m=a>1||l,b=m?Array(f):[];let y;for(;(y=e.indexOf(t,w))>-1;){let C=ac(t,{currentLocation:y,expectedLocation:p,distance:s,ignoreLocation:c});if(h=Math.min(C,h),w=y+u,m){let P=0;for(;P<u;)b[y+P]=1,P+=1}}w=-1;let x=[],g=1,_=u+f;const E=1<<u-1;for(let C=0;C<u;C+=1){let P=0,I=_;for(;P<I;)ac(t,{errors:C,currentLocation:p+I,expectedLocation:p,distance:s,ignoreLocation:c})<=h?P=I:_=I,I=Math.floor((_-P)/2+P);_=I;let O=Math.max(1,p-I+1),L=i?f:Math.min(p+I,f)+u,A=Array(L+2);A[L+1]=(1<<C)-1;for(let S=L;S>=O;S-=1){let R=S-1,N=n[e.charAt(R)];if(m&&(b[R]=+!!N),A[S]=(A[S+1]<<1|1)&N,C&&(A[S]|=(x[S+1]|x[S])<<1|1|x[S+1]),A[S]&E&&(g=ac(t,{errors:C,currentLocation:R,expectedLocation:p,distance:s,ignoreLocation:c}),g<=h)){if(h=g,w=R,w<=p)break;O=Math.max(1,2*p-w)}}if(ac(t,{errors:C+1,currentLocation:p,expectedLocation:p,distance:s,ignoreLocation:c})>h)break;x=A}const j={isMatch:w>=0,score:Math.max(.001,g)};if(m){const C=m4(b,a);C.length?l&&(j.indices=C):j.isMatch=!1}return j}function v4(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}const ku=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class gE{constructor(t,{location:n=oe.location,threshold:r=oe.threshold,distance:s=oe.distance,includeMatches:o=oe.includeMatches,findAllMatches:i=oe.findAllMatches,minMatchCharLength:a=oe.minMatchCharLength,isCaseSensitive:l=oe.isCaseSensitive,ignoreDiacritics:c=oe.ignoreDiacritics,ignoreLocation:u=oe.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u},t=l?t:t.toLowerCase(),t=c?ku(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,w)=>{this.chunks.push({pattern:h,alphabet:v4(h),startIndex:w})},p=this.pattern.length;if(p>xs){let h=0;const w=p%xs,m=p-w;for(;h<m;)f(this.pattern.substr(h,xs),h),h+=xs;if(w){const b=p-xs;f(this.pattern.substr(b),b)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(t=n?t:t.toLowerCase(),t=r?ku(t):t,this.pattern===t){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,t.length-1]]),m}const{location:o,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:u}=this.options;let f=[],p=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:b,startIndex:y})=>{const{isMatch:x,score:g,indices:_}=g4(t,m,b,{location:o+y,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:s,ignoreLocation:u});x&&(h=!0),p+=g,x&&_&&(f=[...f,..._])});let w={isMatch:h,score:h?p/this.chunks.length:1};return h&&s&&(w.indices=f),w}}class us{constructor(t){this.pattern=t}static isMultiMatch(t){return ky(t,this.multiRegex)}static isSingleMatch(t){return ky(t,this.singleRegex)}search(){}}function ky(e,t){const n=e.match(t);return n?n[1]:null}class y4 extends us{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class x4 extends us{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class w4 extends us{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class b4 extends us{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class _4 extends us{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class S4 extends us{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class vE extends us{constructor(t,{location:n=oe.location,threshold:r=oe.threshold,distance:s=oe.distance,includeMatches:o=oe.includeMatches,findAllMatches:i=oe.findAllMatches,minMatchCharLength:a=oe.minMatchCharLength,isCaseSensitive:l=oe.isCaseSensitive,ignoreDiacritics:c=oe.ignoreDiacritics,ignoreLocation:u=oe.ignoreLocation}={}){super(t),this._bitapSearch=new gE(t,{location:n,threshold:r,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class yE extends us{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,s.push([r,n-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const jp=[y4,yE,w4,b4,S4,_4,x4,vE],Cy=jp.length,E4=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,k4="|";function C4(e,t={}){return e.split(k4).map(n=>{let r=n.trim().split(E4).filter(o=>o&&!!o.trim()),s=[];for(let o=0,i=r.length;o<i;o+=1){const a=r[o];let l=!1,c=-1;for(;!l&&++c<Cy;){const u=jp[c];let f=u.isMultiMatch(a);f&&(s.push(new u(f,t)),l=!0)}if(!l)for(c=-1;++c<Cy;){const u=jp[c];let f=u.isSingleMatch(a);if(f){s.push(new u(f,t));break}}}return s})}const N4=new Set([vE.type,yE.type]);class j4{constructor(t,{isCaseSensitive:n=oe.isCaseSensitive,ignoreDiacritics:r=oe.ignoreDiacritics,includeMatches:s=oe.includeMatches,minMatchCharLength:o=oe.minMatchCharLength,ignoreLocation:i=oe.ignoreLocation,findAllMatches:a=oe.findAllMatches,location:l=oe.location,threshold:c=oe.threshold,distance:u=oe.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:l,threshold:c,distance:u},t=n?t:t.toLowerCase(),t=r?ku(t):t,this.pattern=t,this.query=C4(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:o}=this.options;t=s?t:t.toLowerCase(),t=o?ku(t):t;let i=0,a=[],l=0;for(let c=0,u=n.length;c<u;c+=1){const f=n[c];a.length=0,i=0;for(let p=0,h=f.length;p<h;p+=1){const w=f[p],{isMatch:m,indices:b,score:y}=w.search(t);if(m){if(i+=1,l+=y,r){const x=w.constructor.type;N4.has(x)?a=[...a,...b]:a.push(b)}}else{l=0,i=0,a.length=0;break}}if(i){let p={isMatch:!0,score:l/i};return r&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const Pp=[];function P4(...e){Pp.push(...e)}function Tp(e,t){for(let n=0,r=Pp.length;n<r;n+=1){let s=Pp[n];if(s.condition(e,t))return new s(e,t)}return new gE(e,t)}const Cu={AND:"$and",OR:"$or"},Ap={PATH:"$path",PATTERN:"$val"},Rp=e=>!!(e[Cu.AND]||e[Cu.OR]),T4=e=>!!e[Ap.PATH],A4=e=>!hr(e)&&fE(e)&&!Rp(e),Ny=e=>({[Cu.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function xE(e,t,{auto:n=!0}={}){const r=s=>{let o=Object.keys(s);const i=T4(s);if(!i&&o.length>1&&!Rp(s))return r(Ny(s));if(A4(s)){const l=i?s[Ap.PATH]:o[0],c=i?s[Ap.PATTERN]:s[l];if(!Mn(c))throw new Error(n4(l));const u={keyId:Np(l),pattern:c};return n&&(u.searcher=Tp(c,t)),u}let a={children:[],operator:o[0]};return o.forEach(l=>{const c=s[l];hr(c)&&c.forEach(u=>{a.children.push(r(u))})}),a};return Rp(e)||(e=Ny(e)),r(e)}function R4(e,{ignoreFieldNorm:t=oe.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:o,score:i})=>{const a=s?s.weight:null;r*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(t?1:o))}),n.score=r})}function M4(e,t){const n=e.matches;t.matches=[],It(n)&&n.forEach(r=>{if(!It(r.indices)||!r.indices.length)return;const{indices:s,value:o}=r;let i={indices:s,value:o};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),t.matches.push(i)})}function I4(e,t){t.score=e.score}function O4(e,t,{includeMatches:n=oe.includeMatches,includeScore:r=oe.includeScore}={}){const s=[];return n&&s.push(M4),r&&s.push(I4),e.map(o=>{const{idx:i}=o,a={item:t[i],refIndex:i};return s.length&&s.forEach(l=>{l(o,a)}),a})}class Ci{constructor(t,n={},r){this.options={...oe,...n},this.options.useExtendedSearch,this._keyStore=new i4(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Ug))throw new Error(t4);this._myIndex=n||mE(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){It(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,s-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let l=Mn(t)?Mn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return R4(l,{ignoreFieldNorm:a}),o&&l.sort(i),dE(n)&&n>-1&&(l=l.slice(0,n)),O4(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=Tp(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:o,i,n:a})=>{if(!It(o))return;const{isMatch:l,score:c,indices:u}=n.searchIn(o);l&&s.push({item:o,idx:i,matches:[{score:c,value:o,norm:a,indices:u}]})}),s}_searchLogical(t){const n=xE(t,this.options),r=(a,l,c)=>{if(!a.children){const{keyId:f,searcher:p}=a,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:p});return h&&h.length?[{idx:c,item:l,matches:h}]:[]}const u=[];for(let f=0,p=a.children.length;f<p;f+=1){const h=a.children[f],w=r(h,l,c);if(w.length)u.push(...w);else if(a.operator===Cu.AND)return[]}return u},s=this._myIndex.records,o={},i=[];return s.forEach(({$:a,i:l})=>{if(It(a)){let c=r(n,a,l);c.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},i.push(o[l])),c.forEach(({matches:u})=>{o[l].matches.push(...u)}))}}),i}_searchObjectList(t){const n=Tp(t,this.options),{keys:r,records:s}=this._myIndex,o=[];return s.forEach(({$:i,i:a})=>{if(!It(i))return;let l=[];r.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:i[u],searcher:n}))}),l.length&&o.push({idx:a,item:i,matches:l})}),o}_findMatches({key:t,value:n,searcher:r}){if(!It(n))return[];let s=[];if(hr(n))n.forEach(({v:o,i,n:a})=>{if(!It(o))return;const{isMatch:l,score:c,indices:u}=r.searchIn(o);l&&s.push({score:c,key:t,value:o,idx:i,norm:a,indices:u})});else{const{v:o,n:i}=n,{isMatch:a,score:l,indices:c}=r.searchIn(o);a&&s.push({score:l,key:t,value:o,norm:i,indices:c})}return s}}Ci.version="7.1.0";Ci.createIndex=mE;Ci.parseIndex=p4;Ci.config=oe;Ci.parseQuery=xE;P4(j4);const me=v.forwardRef(({className:e,type:t,...n},r)=>d.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));me.displayName="Input";const ai=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ai.displayName="Card";const bd=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));bd.displayName="CardHeader";const _d=v.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));_d.displayName="CardTitle";const D4=v.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));D4.displayName="CardDescription";const Sd=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));Sd.displayName="CardContent";const $4=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));$4.displayName="CardFooter";const lc=(e,t,n=1)=>{if(!t.find(a=>a.id===e))return[];const s=[],o=[{memberId:e,generation:n}],i=new Set;for(;o.length>0;){const{memberId:a,generation:l}=o.pop();if(i.has(a))continue;i.add(a);const c=t.find(u=>u.id===a);if(c){s.push({...c,generation:l});const u=t.filter(f=>{var p;return(p=f.parents)==null?void 0:p.includes(a)});for(const f of u)i.has(f.id)||o.push({memberId:f.id,generation:l+1})}}return s},L4=(e,t,n=1)=>{const r=[],s=new Map(t.map(c=>[c.id,c])),o=s.get(e);if(!o)return[];const i=[{member:o,generation:n}],a=new Set;let l=0;for(;l<i.length;){const{member:c,generation:u}=i[l++];a.has(c.id)||(r.push({...c,generation:u}),a.add(c.id),c.parents&&c.parents.forEach(f=>{const p=s.get(f);p&&!a.has(f)&&i.push({member:p,generation:u+1})}))}return r},wE=({focusedMemberId:e,members:t,onSelectMember:n,className:r=""})=>{if(!e)return d.jsx("div",{className:`h-6 ${r}`});if(!new Map(t.map(a=>[a.id,a])).get(e))return d.jsx("div",{className:`h-6 ${r}`});const i=L4(e,t,1).reverse();return d.jsx("nav",{"aria-label":"breadcrumb",className:`flex items-center space-x-1 text-sm text-muted-foreground ${r}`,children:i.map((a,l)=>d.jsxs(X.Fragment,{children:[l>0&&d.jsx(G1,{className:"w-4 h-4"}),d.jsx("button",{onClick:()=>n(a.id),className:`hover:underline ${a.id===e?"font-semibold text-primary":""}`,disabled:a.id===e,children:a.name})]},a.id))})},F4=({members:e,onMemberSelect:t,searchQuery:n,onSearchQueryChange:r,focusedMemberId:s,onResetFocus:o,onHoverMember:i,viewMode:a,setViewMode:l,lineageDirection:c,setLineageDirection:u,isSidebarOpen:f,onToggleSidebar:p})=>{const[h,w]=v.useState(!1),m=v.useRef(null),b=v.useMemo(()=>new Ci(e,{keys:["name","birthDate","occupation","mobileNumber"],includeScore:!0,threshold:.4}),[e]),y=v.useMemo(()=>n?b.search(n).map(_=>_.item).slice(0,7):[],[n,b]);v.useEffect(()=>{function g(_){m.current&&!m.current.contains(_.target)&&w(!1)}return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[m]);const x=g=>{t(g.id),r(g.name),w(!1),i(null)};return d.jsxs(ai,{className:"w-full h-full flex flex-col",children:[d.jsxs(bd,{className:"pb-2 pt-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx(_d,{className:"text-lg",children:"Family Tree Controls"}),d.jsx(Se,{variant:"ghost",size:"icon",onClick:p,className:"ml-auto",children:f?d.jsx(rA,{className:"h-5 w-5"}):d.jsx(sA,{className:"h-5 w-5"})})]}),s&&d.jsx(wE,{focusedMemberId:s,members:e,onSelectMember:t,className:"mb-2 pt-1"}),d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Focus Tools"}),s&&d.jsx(Se,{variant:"outline",size:"sm",onClick:o,children:"Reset Focus"})]}),d.jsx("div",{className:"mt-1 space-y-1 text-xs text-muted-foreground",children:n&&!h&&d.jsxs("p",{className:"text-amber-600 dark:text-amber-400",children:['Search Active: "',n,'"']})}),d.jsxs("div",{className:"space-y-2 pt-2",children:[d.jsx("div",{className:"text-sm font-medium",children:"View Mode"}),d.jsxs("div",{className:"flex space-x-1",children:[d.jsx(Se,{onClick:()=>l("FullTree"),variant:a==="FullTree"?"secondary":"outline",size:"sm",className:"flex-1",children:"Full Tree"}),d.jsx(Se,{onClick:()=>l("PersonView"),variant:a==="PersonView"?"secondary":"outline",disabled:!s,size:"sm",className:"flex-1",children:"Person"}),d.jsx(Se,{onClick:()=>l("LineageView"),variant:a==="LineageView"?"secondary":"outline",disabled:!s,size:"sm",className:"flex-1",children:"Lineage"})]}),a==="LineageView"&&s&&d.jsxs("div",{className:"flex space-x-1 pt-1",children:[d.jsx(Se,{onClick:()=>u("Ancestors"),variant:c==="Ancestors"?"secondary":"outline",size:"xs",className:"flex-1",children:"Ancestors"}),d.jsx(Se,{onClick:()=>u("Descendants"),variant:c==="Descendants"?"secondary":"outline",size:"xs",className:"flex-1",children:"Descendants"})]})]})]}),d.jsxs("div",{ref:m,className:"relative p-4 pt-2",children:[d.jsx(me,{type:"text",placeholder:"Type name to search...","aria-label":"Search family members by name, birth date, or occupation",value:n,onChange:g=>{r(g.target.value),g.target.value?w(!0):w(!1)},onFocus:()=>{n&&y.length>0&&w(!0)},className:"mb-1"}),h&&n&&y.length>0&&d.jsxs(ai,{className:"absolute z-10 w-[calc(100%-2rem)] top-full mt-1 max-h-80 overflow-y-auto shadow-lg border",children:[" ",d.jsxs(Sd,{className:"p-0",children:[" ",y.map(g=>{const _=g.birthDate?new Date(g.birthDate).getFullYear():"N/A";return d.jsxs("div",{onClick:()=>x(g),onMouseEnter:()=>i(g.id),onMouseLeave:()=>i(null),className:"flex items-center p-3 hover:bg-accent hover:text-accent-foreground cursor-pointer border-b last:border-b-0",children:[g.photo?d.jsx("img",{src:g.photo,alt:g.name,className:"w-10 h-10 rounded-full object-cover mr-3"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center mr-3 flex-shrink-0",children:d.jsx(id,{className:`w-5 h-5 ${g.gender==="male"?"text-blue-600":"text-rose-600"}`})}),d.jsxs("div",{className:"truncate",children:[" ",d.jsx("div",{className:"font-medium text-sm truncate",children:g.name}),d.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Born: ",_]})]})]},g.id)})]})]})]}),!n&&!h&&d.jsx("div",{className:"flex-grow flex items-center justify-center p-4 text-sm text-muted-foreground",children:"Start typing to search members..."}),n&&!y.length&&!h&&d.jsx("div",{className:"flex-grow flex items-center justify-center p-4 text-sm text-muted-foreground",children:"No members found. Try a different search."})]})};function He(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=He(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var z4={value:()=>{}};function Ed(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bc(n)}function Bc(e){this._=e}function B4(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bc.prototype=Ed.prototype={constructor:Bc,on:function(e,t){var n=this._,r=B4(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=U4(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=jy(n[s],e.name,t);else if(t==null)for(s in n)n[s]=jy(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bc(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function U4(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function jy(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=z4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Mp="http://www.w3.org/1999/xhtml";const Py={svg:"http://www.w3.org/2000/svg",xhtml:Mp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Py.hasOwnProperty(t)?{space:Py[t],local:e}:e}function H4(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Mp&&t.documentElement.namespaceURI===Mp?t.createElement(e):t.createElementNS(n,e)}}function V4(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function bE(e){var t=kd(e);return(t.local?V4:H4)(t)}function W4(){}function Hg(e){return e==null?W4:function(){return this.querySelector(e)}}function G4(e){typeof e!="function"&&(e=Hg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),l,c,u=0;u<i;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new zt(r,this._parents)}function K4(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y4(){return[]}function _E(e){return e==null?Y4:function(){return this.querySelectorAll(e)}}function q4(e){return function(){return K4(e.apply(this,arguments))}}function X4(e){typeof e=="function"?e=q4(e):e=_E(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),s.push(l));return new zt(r,s)}function SE(e){return function(){return this.matches(e)}}function EE(e){return function(t){return t.matches(e)}}var Q4=Array.prototype.find;function J4(e){return function(){return Q4.call(this.children,e)}}function Z4(){return this.firstElementChild}function eL(e){return this.select(e==null?Z4:J4(typeof e=="function"?e:EE(e)))}var tL=Array.prototype.filter;function nL(){return Array.from(this.children)}function rL(e){return function(){return tL.call(this.children,e)}}function sL(e){return this.selectAll(e==null?nL:rL(typeof e=="function"?e:EE(e)))}function oL(e){typeof e!="function"&&(e=SE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new zt(r,this._parents)}function kE(e){return new Array(e.length)}function iL(){return new zt(this._enter||this._groups.map(kE),this._parents)}function Nu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Nu.prototype={constructor:Nu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function aL(e){return function(){return e}}function lL(e,t,n,r,s,o){for(var i=0,a,l=t.length,c=o.length;i<c;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new Nu(e,o[i]);for(;i<l;++i)(a=t[i])&&(s[i]=a)}function cL(e,t,n,r,s,o,i){var a,l,c=new Map,u=t.length,f=o.length,p=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(p[a]=h=i.call(l,l.__data__,a,t)+"",c.has(h)?s[a]=l:c.set(h,l));for(a=0;a<f;++a)h=i.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new Nu(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(p[a])===l&&(s[a]=l)}function uL(e){return e.__data__}function dL(e,t){if(!arguments.length)return Array.from(this,uL);var n=t?cL:lL,r=this._parents,s=this._groups;typeof e!="function"&&(e=aL(e));for(var o=s.length,i=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=s[c],p=f.length,h=fL(e.call(u,u&&u.__data__,c,r)),w=h.length,m=a[c]=new Array(w),b=i[c]=new Array(w),y=l[c]=new Array(p);n(u,f,m,b,y,h,t);for(var x=0,g=0,_,E;x<w;++x)if(_=m[x]){for(x>=g&&(g=x+1);!(E=b[g])&&++g<w;);_._next=E||null}}return i=new zt(i,r),i._enter=a,i._exit=l,i}function fL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hL(){return new zt(this._exit||this._groups.map(kE),this._parents)}function pL(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function mL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,i=Math.min(s,o),a=new Array(s),l=0;l<i;++l)for(var c=n[l],u=r[l],f=c.length,p=a[l]=new Array(f),h,w=0;w<f;++w)(h=c[w]||u[w])&&(p[w]=h);for(;l<s;++l)a[l]=n[l];return new zt(a,this._parents)}function gL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function vL(e){e||(e=yL);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,l=s[o]=new Array(a),c,u=0;u<a;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new zt(s,this._parents).order()}function yL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wL(){return Array.from(this)}function bL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function _L(){let e=0;for(const t of this)++e;return e}function SL(){return!this.node()}function EL(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function kL(e){return function(){this.removeAttribute(e)}}function CL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NL(e,t){return function(){this.setAttribute(e,t)}}function jL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function PL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function TL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function AL(e,t){var n=kd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?CL:kL:typeof t=="function"?n.local?TL:PL:n.local?jL:NL)(n,t))}function CE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function RL(e){return function(){this.style.removeProperty(e)}}function ML(e,t,n){return function(){this.style.setProperty(e,t,n)}}function IL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function OL(e,t,n){return arguments.length>1?this.each((t==null?RL:typeof t=="function"?IL:ML)(e,t,n??"")):li(this.node(),e)}function li(e,t){return e.style.getPropertyValue(t)||CE(e).getComputedStyle(e,null).getPropertyValue(t)}function DL(e){return function(){delete this[e]}}function $L(e,t){return function(){this[e]=t}}function LL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function FL(e,t){return arguments.length>1?this.each((t==null?DL:typeof t=="function"?LL:$L)(e,t)):this.node()[e]}function NE(e){return e.trim().split(/^|\s+/)}function Vg(e){return e.classList||new jE(e)}function jE(e){this._node=e,this._names=NE(e.getAttribute("class")||"")}jE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function PE(e,t){for(var n=Vg(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function TE(e,t){for(var n=Vg(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function zL(e){return function(){PE(this,e)}}function BL(e){return function(){TE(this,e)}}function UL(e,t){return function(){(t.apply(this,arguments)?PE:TE)(this,e)}}function HL(e,t){var n=NE(e+"");if(arguments.length<2){for(var r=Vg(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?UL:t?zL:BL)(n,t))}function VL(){this.textContent=""}function WL(e){return function(){this.textContent=e}}function GL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function KL(e){return arguments.length?this.each(e==null?VL:(typeof e=="function"?GL:WL)(e)):this.node().textContent}function YL(){this.innerHTML=""}function qL(e){return function(){this.innerHTML=e}}function XL(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function QL(e){return arguments.length?this.each(e==null?YL:(typeof e=="function"?XL:qL)(e)):this.node().innerHTML}function JL(){this.nextSibling&&this.parentNode.appendChild(this)}function ZL(){return this.each(JL)}function e3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t3(){return this.each(e3)}function n3(e){var t=typeof e=="function"?e:bE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function r3(){return null}function s3(e,t){var n=typeof e=="function"?e:bE(e),r=t==null?r3:typeof t=="function"?t:Hg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function o3(){var e=this.parentNode;e&&e.removeChild(this)}function i3(){return this.each(o3)}function a3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function l3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function c3(e){return this.select(e?l3:a3)}function u3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function d3(e){return function(t){e.call(this,t,this.__data__)}}function f3(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function h3(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function p3(e,t,n){return function(){var r=this.__on,s,o=d3(t);if(r){for(var i=0,a=r.length;i<a;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function m3(e,t,n){var r=f3(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(s=0,u=a[l];s<o;++s)if((i=r[s]).type===u.type&&i.name===u.name)return u.value}return}for(a=t?p3:h3,s=0;s<o;++s)this.each(a(r[s],t,n));return this}function AE(e,t,n){var r=CE(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function g3(e,t){return function(){return AE(this,e,t)}}function v3(e,t){return function(){return AE(this,e,t.apply(this,arguments))}}function y3(e,t){return this.each((typeof t=="function"?v3:g3)(e,t))}function*x3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,i;s<o;++s)(i=r[s])&&(yield i)}var RE=[null];function zt(e,t){this._groups=e,this._parents=t}function bl(){return new zt([[document.documentElement]],RE)}function w3(){return this}zt.prototype=bl.prototype={constructor:zt,select:G4,selectAll:X4,selectChild:eL,selectChildren:sL,filter:oL,data:dL,enter:iL,exit:hL,join:pL,merge:mL,selection:w3,order:gL,sort:vL,call:xL,nodes:wL,node:bL,size:_L,empty:SL,each:EL,attr:AL,style:OL,property:FL,classed:HL,text:KL,html:QL,raise:ZL,lower:t3,append:n3,insert:s3,remove:i3,clone:c3,datum:u3,on:m3,dispatch:y3,[Symbol.iterator]:x3};function Ot(e){return typeof e=="string"?new zt([[document.querySelector(e)]],[document.documentElement]):new zt([[e]],RE)}function b3(e){let t;for(;t=e.sourceEvent;)e=t;return e}function cn(e,t){if(e=b3(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const _3={passive:!1},Ha={capture:!0,passive:!1};function Zf(e){e.stopImmediatePropagation()}function Lo(e){e.preventDefault(),e.stopImmediatePropagation()}function ME(e){var t=e.document.documentElement,n=Ot(e).on("dragstart.drag",Lo,Ha);"onselectstart"in t?n.on("selectstart.drag",Lo,Ha):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function IE(e,t){var n=e.document.documentElement,r=Ot(e).on("dragstart.drag",null);t&&(r.on("click.drag",Lo,Ha),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cc=e=>()=>e;function Ip(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:i,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Ip.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function S3(e){return!e.ctrlKey&&!e.button}function E3(){return this.parentNode}function k3(e,t){return t??{x:e.x,y:e.y}}function C3(){return navigator.maxTouchPoints||"ontouchstart"in this}function OE(){var e=S3,t=E3,n=k3,r=C3,s={},o=Ed("start","drag","end"),i=0,a,l,c,u,f=0;function p(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",b).on("touchmove.drag",y,_3).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,E){if(!(u||!e.call(this,_,E))){var j=g(this,t.call(this,_,E),_,E,"mouse");j&&(Ot(_.view).on("mousemove.drag",w,Ha).on("mouseup.drag",m,Ha),ME(_.view),Zf(_),c=!1,a=_.clientX,l=_.clientY,j("start",_))}}function w(_){if(Lo(_),!c){var E=_.clientX-a,j=_.clientY-l;c=E*E+j*j>f}s.mouse("drag",_)}function m(_){Ot(_.view).on("mousemove.drag mouseup.drag",null),IE(_.view,c),Lo(_),s.mouse("end",_)}function b(_,E){if(e.call(this,_,E)){var j=_.changedTouches,C=t.call(this,_,E),P=j.length,I,O;for(I=0;I<P;++I)(O=g(this,C,_,E,j[I].identifier,j[I]))&&(Zf(_),O("start",_,j[I]))}}function y(_){var E=_.changedTouches,j=E.length,C,P;for(C=0;C<j;++C)(P=s[E[C].identifier])&&(Lo(_),P("drag",_,E[C]))}function x(_){var E=_.changedTouches,j=E.length,C,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<j;++C)(P=s[E[C].identifier])&&(Zf(_),P("end",_,E[C]))}function g(_,E,j,C,P,I){var O=o.copy(),L=cn(I||j,E),A,D,S;if((S=n.call(_,new Ip("beforestart",{sourceEvent:j,target:p,identifier:P,active:i,x:L[0],y:L[1],dx:0,dy:0,dispatch:O}),C))!=null)return A=S.x-L[0]||0,D=S.y-L[1]||0,function R(N,M,T){var k=L,$;switch(N){case"start":s[P]=R,$=i++;break;case"end":delete s[P],--i;case"drag":L=cn(T||M,E),$=i;break}O.call(N,_,new Ip(N,{sourceEvent:M,subject:S,target:p,identifier:P,active:$,x:L[0]+A,y:L[1]+D,dx:L[0]-k[0],dy:L[1]-k[1],dispatch:O}),C)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:cc(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:cc(_),p):t},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:cc(_),p):n},p.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:cc(!!_),p):r},p.on=function(){var _=o.on.apply(o,arguments);return _===o?p:_},p.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,p):Math.sqrt(f)},p}function Wg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function DE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _l(){}var Va=.7,ju=1/Va,Fo="\\s*([+-]?\\d+)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N3=/^#([0-9a-f]{3,8})$/,j3=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),P3=new RegExp(`^rgb\\(${$n},${$n},${$n}\\)$`),T3=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${Wa}\\)$`),A3=new RegExp(`^rgba\\(${$n},${$n},${$n},${Wa}\\)$`),R3=new RegExp(`^hsl\\(${Wa},${$n},${$n}\\)$`),M3=new RegExp(`^hsla\\(${Wa},${$n},${$n},${Wa}\\)$`),Ty={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wg(_l,Ga,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ay,formatHex:Ay,formatHex8:I3,formatHsl:O3,formatRgb:Ry,toString:Ry});function Ay(){return this.rgb().formatHex()}function I3(){return this.rgb().formatHex8()}function O3(){return $E(this).formatHsl()}function Ry(){return this.rgb().formatRgb()}function Ga(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=N3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?My(t):n===3?new bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?uc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?uc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=j3.exec(e))?new bt(t[1],t[2],t[3],1):(t=P3.exec(e))?new bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T3.exec(e))?uc(t[1],t[2],t[3],t[4]):(t=A3.exec(e))?uc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R3.exec(e))?Dy(t[1],t[2]/100,t[3]/100,1):(t=M3.exec(e))?Dy(t[1],t[2]/100,t[3]/100,t[4]):Ty.hasOwnProperty(e)?My(Ty[e]):e==="transparent"?new bt(NaN,NaN,NaN,0):null}function My(e){return new bt(e>>16&255,e>>8&255,e&255,1)}function uc(e,t,n,r){return r<=0&&(e=t=n=NaN),new bt(e,t,n,r)}function D3(e){return e instanceof _l||(e=Ga(e)),e?(e=e.rgb(),new bt(e.r,e.g,e.b,e.opacity)):new bt}function Op(e,t,n,r){return arguments.length===1?D3(e):new bt(e,t,n,r??1)}function bt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wg(bt,Op,DE(_l,{brighter(e){return e=e==null?ju:Math.pow(ju,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Va:Math.pow(Va,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bt(Ms(this.r),Ms(this.g),Ms(this.b),Pu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Iy,formatHex:Iy,formatHex8:$3,formatRgb:Oy,toString:Oy}));function Iy(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}`}function $3(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}${Es((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oy(){const e=Pu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ms(this.r)}, ${Ms(this.g)}, ${Ms(this.b)}${e===1?")":`, ${e})`}`}function Pu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Es(e){return e=Ms(e),(e<16?"0":"")+e.toString(16)}function Dy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,n,r)}function $E(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof _l||(e=Ga(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,l=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=l<.5?o+s:2-o-s,i*=60):a=l>0&&l<1?0:i,new fn(i,a,l,e.opacity)}function L3(e,t,n,r){return arguments.length===1?$E(e):new fn(e,t,n,r??1)}function fn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wg(fn,L3,DE(_l,{brighter(e){return e=e==null?ju:Math.pow(ju,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Va:Math.pow(Va,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new bt(eh(e>=240?e-240:e+120,s,r),eh(e,s,r),eh(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new fn($y(this.h),dc(this.s),dc(this.l),Pu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pu(this.opacity);return`${e===1?"hsl(":"hsla("}${$y(this.h)}, ${dc(this.s)*100}%, ${dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $y(e){return e=(e||0)%360,e<0?e+360:e}function dc(e){return Math.max(0,Math.min(1,e||0))}function eh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const LE=e=>()=>e;function F3(e,t){return function(n){return e+n*t}}function z3(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function B3(e){return(e=+e)==1?FE:function(t,n){return n-t?z3(t,n,e):LE(isNaN(t)?n:t)}}function FE(e,t){var n=t-e;return n?F3(e,n):LE(isNaN(e)?t:e)}const Ly=function e(t){var n=B3(t);function r(s,o){var i=n((s=Op(s)).r,(o=Op(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),c=FE(s.opacity,o.opacity);return function(u){return s.r=i(u),s.g=a(u),s.b=l(u),s.opacity=c(u),s+""}}return r.gamma=e,r}(1);function Ir(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Dp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,th=new RegExp(Dp.source,"g");function U3(e){return function(){return e}}function H3(e){return function(t){return e(t)+""}}function V3(e,t){var n=Dp.lastIndex=th.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Dp.exec(e))&&(s=th.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:Ir(r,s)})),n=th.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?H3(l[0].x):U3(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var Fy=180/Math.PI,$p={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zE(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Fy,skewX:Math.atan(l)*Fy,scaleX:i,scaleY:a}}var fc;function W3(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$p:zE(t.a,t.b,t.c,t.d,t.e,t.f)}function G3(e){return e==null||(fc||(fc=document.createElementNS("http://www.w3.org/2000/svg","g")),fc.setAttribute("transform",e),!(e=fc.transform.baseVal.consolidate()))?$p:(e=e.matrix,zE(e.a,e.b,e.c,e.d,e.e,e.f))}function BE(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function o(c,u,f,p,h,w){if(c!==f||u!==p){var m=h.push("translate(",null,t,null,n);w.push({i:m-4,x:Ir(c,f)},{i:m-2,x:Ir(u,p)})}else(f||p)&&h.push("translate("+f+t+p+n)}function i(c,u,f,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Ir(c,u)})):u&&f.push(s(f)+"rotate("+u+r)}function a(c,u,f,p){c!==u?p.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Ir(c,u)}):u&&f.push(s(f)+"skewX("+u+r)}function l(c,u,f,p,h,w){if(c!==f||u!==p){var m=h.push(s(h)+"scale(",null,",",null,")");w.push({i:m-4,x:Ir(c,f)},{i:m-2,x:Ir(u,p)})}else(f!==1||p!==1)&&h.push(s(h)+"scale("+f+","+p+")")}return function(c,u){var f=[],p=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,p),i(c.rotate,u.rotate,f,p),a(c.skewX,u.skewX,f,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,p),c=u=null,function(h){for(var w=-1,m=p.length,b;++w<m;)f[(b=p[w]).i]=b.x(h);return f.join("")}}}var K3=BE(W3,"px, ","px)","deg)"),Y3=BE(G3,", ",")",")"),q3=1e-12;function zy(e){return((e=Math.exp(e))+1/e)/2}function X3(e){return((e=Math.exp(e))-1/e)/2}function Q3(e){return((e=Math.exp(2*e))-1)/(e+1)}const J3=function e(t,n,r){function s(o,i){var a=o[0],l=o[1],c=o[2],u=i[0],f=i[1],p=i[2],h=u-a,w=f-l,m=h*h+w*w,b,y;if(m<q3)y=Math.log(p/c)/t,b=function(C){return[a+C*h,l+C*w,c*Math.exp(t*C*y)]};else{var x=Math.sqrt(m),g=(p*p-c*c+r*m)/(2*c*n*x),_=(p*p-c*c-r*m)/(2*p*n*x),E=Math.log(Math.sqrt(g*g+1)-g),j=Math.log(Math.sqrt(_*_+1)-_);y=(j-E)/t,b=function(C){var P=C*y,I=zy(E),O=c/(n*x)*(I*Q3(t*P+E)-X3(E));return[a+O*h,l+O*w,c*I/zy(t*P+E)]}}return b.duration=y*1e3*t/Math.SQRT2,b}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s}(Math.SQRT2,2,4);var ci=0,Zi=0,Vi=0,UE=1e3,Tu,ea,Au=0,Vs=0,Cd=0,Ka=typeof performance=="object"&&performance.now?performance:Date,HE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gg(){return Vs||(HE(Z3),Vs=Ka.now()+Cd)}function Z3(){Vs=0}function Ru(){this._call=this._time=this._next=null}Ru.prototype=VE.prototype={constructor:Ru,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Gg():+n)+(t==null?0:+t),!this._next&&ea!==this&&(ea?ea._next=this:Tu=this,ea=this),this._call=e,this._time=n,Lp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lp())}};function VE(e,t,n){var r=new Ru;return r.restart(e,t,n),r}function e5(){Gg(),++ci;for(var e=Tu,t;e;)(t=Vs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ci}function By(){Vs=(Au=Ka.now())+Cd,ci=Zi=0;try{e5()}finally{ci=0,n5(),Vs=0}}function t5(){var e=Ka.now(),t=e-Au;t>UE&&(Cd-=t,Au=e)}function n5(){for(var e,t=Tu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tu=n);ea=e,Lp(r)}function Lp(e){if(!ci){Zi&&(Zi=clearTimeout(Zi));var t=e-Vs;t>24?(e<1/0&&(Zi=setTimeout(By,e-Ka.now()-Cd)),Vi&&(Vi=clearInterval(Vi))):(Vi||(Au=Ka.now(),Vi=setInterval(t5,UE)),ci=1,HE(By))}}function Uy(e,t,n){var r=new Ru;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var r5=Ed("start","end","cancel","interrupt"),s5=[],WE=0,Hy=1,Fp=2,Uc=3,Vy=4,zp=5,Hc=6;function Nd(e,t,n,r,s,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;o5(e,n,{name:t,index:r,group:s,on:r5,tween:s5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:WE})}function Kg(e,t){var n=xn(e,t);if(n.state>WE)throw new Error("too late; already scheduled");return n}function Un(e,t){var n=xn(e,t);if(n.state>Uc)throw new Error("too late; already running");return n}function xn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function o5(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=VE(o,0,n.time);function o(c){n.state=Hy,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var u,f,p,h;if(n.state!==Hy)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Uc)return Uy(i);h.state===Vy?(h.state=Hc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=Hc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Uy(function(){n.state===Uc&&(n.state=Vy,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Fp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fp){for(n.state=Uc,s=new Array(p=n.tween.length),u=0,f=-1;u<p;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=h);s.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=zp,1),f=-1,p=s.length;++f<p;)s[f].call(e,u);n.state===zp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Hc,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Vc(e,t){var n=e.__transition,r,s,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}s=r.state>Fp&&r.state<zp,r.state=Hc,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function i5(e){return this.each(function(){Vc(this,e)})}function a5(e,t){var n,r;return function(){var s=Un(this,e),o=s.tween;if(o!==n){r=n=o;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function l5(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Un(this,e),i=o.tween;if(i!==r){s=(r=i).slice();for(var a={name:t,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}o.tween=s}}function c5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=xn(this.node(),n).tween,s=0,o=r.length,i;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((t==null?a5:l5)(n,e,t))}function Yg(e,t,n){var r=e._id;return e.each(function(){var s=Un(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return xn(s,r).value[t]}}function GE(e,t){var n;return(typeof t=="number"?Ir:t instanceof Ga?Ly:(n=Ga(t))?(t=n,Ly):V3)(e,t)}function u5(e){return function(){this.removeAttribute(e)}}function d5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function f5(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function h5(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function p5(e,t,n){var r,s,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a)))}}function m5(e,t,n){var r,s,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a)))}}function g5(e,t){var n=kd(e),r=n==="transform"?Y3:GE;return this.attrTween(e,typeof t=="function"?(n.local?m5:p5)(n,r,Yg(this,"attr."+e,t)):t==null?(n.local?d5:u5)(n):(n.local?h5:f5)(n,r,t))}function v5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function y5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function x5(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&y5(e,o)),n}return s._value=t,s}function w5(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&v5(e,o)),n}return s._value=t,s}function b5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=kd(e);return this.tween(n,(r.local?x5:w5)(r,t))}function _5(e,t){return function(){Kg(this,e).delay=+t.apply(this,arguments)}}function S5(e,t){return t=+t,function(){Kg(this,e).delay=t}}function E5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_5:S5)(t,e)):xn(this.node(),t).delay}function k5(e,t){return function(){Un(this,e).duration=+t.apply(this,arguments)}}function C5(e,t){return t=+t,function(){Un(this,e).duration=t}}function N5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k5:C5)(t,e)):xn(this.node(),t).duration}function j5(e,t){if(typeof t!="function")throw new Error;return function(){Un(this,e).ease=t}}function P5(e){var t=this._id;return arguments.length?this.each(j5(t,e)):xn(this.node(),t).ease}function T5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Un(this,e).ease=n}}function A5(e){if(typeof e!="function")throw new Error;return this.each(T5(this._id,e))}function R5(e){typeof e!="function"&&(e=SE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new pr(r,this._parents,this._name,this._id)}function M5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,f=i[a]=new Array(u),p,h=0;h<u;++h)(p=l[h]||c[h])&&(f[h]=p);for(;a<r;++a)i[a]=t[a];return new pr(i,this._parents,this._name,this._id)}function I5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function O5(e,t,n){var r,s,o=I5(t)?Kg:Un;return function(){var i=o(this,e),a=i.on;a!==r&&(s=(r=a).copy()).on(t,n),i.on=s}}function D5(e,t){var n=this._id;return arguments.length<2?xn(this.node(),n).on.on(e):this.each(O5(n,e,t))}function $5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L5(){return this.on("end.remove",$5(this._id))}function F5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hg(e));for(var r=this._groups,s=r.length,o=new Array(s),i=0;i<s;++i)for(var a=r[i],l=a.length,c=o[i]=new Array(l),u,f,p=0;p<l;++p)(u=a[p])&&(f=e.call(u,u.__data__,p,a))&&("__data__"in u&&(f.__data__=u.__data__),c[p]=f,Nd(c[p],t,n,p,c,xn(u,n)));return new pr(o,this._parents,t,n)}function z5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_E(e));for(var r=this._groups,s=r.length,o=[],i=[],a=0;a<s;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var p=e.call(u,u.__data__,f,l),h,w=xn(u,n),m=0,b=p.length;m<b;++m)(h=p[m])&&Nd(h,t,n,m,p,w);o.push(p),i.push(u)}return new pr(o,i,t,n)}var B5=bl.prototype.constructor;function U5(){return new B5(this._groups,this._parents)}function H5(e,t){var n,r,s;return function(){var o=li(this,e),i=(this.style.removeProperty(e),li(this,e));return o===i?null:o===n&&i===r?s:s=t(n=o,r=i)}}function KE(e){return function(){this.style.removeProperty(e)}}function V5(e,t,n){var r,s=n+"",o;return function(){var i=li(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}function W5(e,t,n){var r,s,o;return function(){var i=li(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),li(this,e))),i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a))}}function G5(e,t){var n,r,s,o="style."+t,i="end."+o,a;return function(){var l=Un(this,e),c=l.on,u=l.value[o]==null?a||(a=KE(t)):void 0;(c!==n||s!==u)&&(r=(n=c).copy()).on(i,s=u),l.on=r}}function K5(e,t,n){var r=(e+="")=="transform"?K3:GE;return t==null?this.styleTween(e,H5(e,r)).on("end.style."+e,KE(e)):typeof t=="function"?this.styleTween(e,W5(e,r,Yg(this,"style."+e,t))).each(G5(this._id,e)):this.styleTween(e,V5(e,r,t),n).on("end.style."+e,null)}function Y5(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function q5(e,t,n){var r,s;function o(){var i=t.apply(this,arguments);return i!==s&&(r=(s=i)&&Y5(e,i,n)),r}return o._value=t,o}function X5(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,q5(e,t,n??""))}function Q5(e){return function(){this.textContent=e}}function J5(e){return function(){var t=e(this);this.textContent=t??""}}function Z5(e){return this.tween("text",typeof e=="function"?J5(Yg(this,"text",e)):Q5(e==null?"":e+""))}function eF(e){return function(t){this.textContent=e.call(this,t)}}function tF(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&eF(s)),t}return r._value=e,r}function nF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tF(e))}function rF(){for(var e=this._name,t=this._id,n=YE(),r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var u=xn(l,t);Nd(l,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new pr(r,this._parents,e,n)}function sF(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,i){var a={value:i},l={value:function(){--s===0&&o()}};n.each(function(){var c=Un(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&o()})}var oF=0;function pr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function YE(){return++oF}var Kn=bl.prototype;pr.prototype={constructor:pr,select:F5,selectAll:z5,selectChild:Kn.selectChild,selectChildren:Kn.selectChildren,filter:R5,merge:M5,selection:U5,transition:rF,call:Kn.call,nodes:Kn.nodes,node:Kn.node,size:Kn.size,empty:Kn.empty,each:Kn.each,on:D5,attr:g5,attrTween:b5,style:K5,styleTween:X5,text:Z5,textTween:nF,remove:L5,tween:c5,delay:E5,duration:N5,ease:P5,easeVarying:A5,end:sF,[Symbol.iterator]:Kn[Symbol.iterator]};function iF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var aF={time:null,delay:0,duration:250,ease:iF};function lF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function cF(e){var t,n;e instanceof pr?(t=e._id,e=e._name):(t=YE(),(n=aF).time=Gg(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&Nd(l,e,t,c,i,n||lF(l,t));return new pr(r,this._parents,e,t)}bl.prototype.interrupt=i5;bl.prototype.transition=cF;const hc=e=>()=>e;function uF(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function tr(e,t,n){this.k=e,this.x=t,this.y=n}tr.prototype={constructor:tr,scale:function(e){return e===1?this:new tr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new tr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jd=new tr(1,0,0);qE.prototype=tr.prototype;function qE(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jd;return e.__zoom}function nh(e){e.stopImmediatePropagation()}function Wi(e){e.preventDefault(),e.stopImmediatePropagation()}function dF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function fF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wy(){return this.__zoom||jd}function hF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pF(){return navigator.maxTouchPoints||"ontouchstart"in this}function mF(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function XE(){var e=dF,t=fF,n=mF,r=hF,s=pF,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=J3,c=Ed("start","zoom","end"),u,f,p,h=500,w=150,m=0,b=10;function y(S){S.property("__zoom",Wy).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(S,R,N,M){var T=S.selection?S.selection():S;T.property("__zoom",Wy),S!==T?E(S,R,N,M):T.interrupt().each(function(){j(this,arguments).event(M).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},y.scaleBy=function(S,R,N,M){y.scaleTo(S,function(){var T=this.__zoom.k,k=typeof R=="function"?R.apply(this,arguments):R;return T*k},N,M)},y.scaleTo=function(S,R,N,M){y.transform(S,function(){var T=t.apply(this,arguments),k=this.__zoom,$=N==null?_(T):typeof N=="function"?N.apply(this,arguments):N,F=k.invert($),z=typeof R=="function"?R.apply(this,arguments):R;return n(g(x(k,z),$,F),T,i)},N,M)},y.translateBy=function(S,R,N,M){y.transform(S,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),i)},null,M)},y.translateTo=function(S,R,N,M,T){y.transform(S,function(){var k=t.apply(this,arguments),$=this.__zoom,F=M==null?_(k):typeof M=="function"?M.apply(this,arguments):M;return n(jd.translate(F[0],F[1]).scale($.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof N=="function"?-N.apply(this,arguments):-N),k,i)},M,T)};function x(S,R){return R=Math.max(o[0],Math.min(o[1],R)),R===S.k?S:new tr(R,S.x,S.y)}function g(S,R,N){var M=R[0]-N[0]*S.k,T=R[1]-N[1]*S.k;return M===S.x&&T===S.y?S:new tr(S.k,M,T)}function _(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function E(S,R,N,M){S.on("start.zoom",function(){j(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(M).end()}).tween("zoom",function(){var T=this,k=arguments,$=j(T,k).event(M),F=t.apply(T,k),z=N==null?_(F):typeof N=="function"?N.apply(T,k):N,V=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),U=T.__zoom,K=typeof R=="function"?R.apply(T,k):R,Y=l(U.invert(z).concat(V/U.k),K.invert(z).concat(V/K.k));return function(B){if(B===1)B=K;else{var W=Y(B),J=V/W[2];B=new tr(J,z[0]-W[0]*J,z[1]-W[1]*J)}$.zoom(null,B)}})}function j(S,R,N){return!N&&S.__zooming||new C(S,R)}function C(S,R){this.that=S,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,R),this.taps=0}C.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,R){return this.mouse&&S!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var R=Ot(this.that).datum();c.call(S,this.that,new uF(S,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),R)}};function P(S,...R){if(!e.apply(this,arguments))return;var N=j(this,R).event(S),M=this.__zoom,T=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),k=cn(S);if(N.wheel)(N.mouse[0][0]!==k[0]||N.mouse[0][1]!==k[1])&&(N.mouse[1]=M.invert(N.mouse[0]=k)),clearTimeout(N.wheel);else{if(M.k===T)return;N.mouse=[k,M.invert(k)],Vc(this),N.start()}Wi(S),N.wheel=setTimeout($,w),N.zoom("mouse",n(g(x(M,T),N.mouse[0],N.mouse[1]),N.extent,i));function $(){N.wheel=null,N.end()}}function I(S,...R){if(p||!e.apply(this,arguments))return;var N=S.currentTarget,M=j(this,R,!0).event(S),T=Ot(S.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",V,!0),k=cn(S,N),$=S.clientX,F=S.clientY;ME(S.view),nh(S),M.mouse=[k,this.__zoom.invert(k)],Vc(this),M.start();function z(U){if(Wi(U),!M.moved){var K=U.clientX-$,Y=U.clientY-F;M.moved=K*K+Y*Y>m}M.event(U).zoom("mouse",n(g(M.that.__zoom,M.mouse[0]=cn(U,N),M.mouse[1]),M.extent,i))}function V(U){T.on("mousemove.zoom mouseup.zoom",null),IE(U.view,M.moved),Wi(U),M.event(U).end()}}function O(S,...R){if(e.apply(this,arguments)){var N=this.__zoom,M=cn(S.changedTouches?S.changedTouches[0]:S,this),T=N.invert(M),k=N.k*(S.shiftKey?.5:2),$=n(g(x(N,k),M,T),t.apply(this,R),i);Wi(S),a>0?Ot(this).transition().duration(a).call(E,$,M,S):Ot(this).call(y.transform,$,M,S)}}function L(S,...R){if(e.apply(this,arguments)){var N=S.touches,M=N.length,T=j(this,R,S.changedTouches.length===M).event(S),k,$,F,z;for(nh(S),$=0;$<M;++$)F=N[$],z=cn(F,this),z=[z,this.__zoom.invert(z),F.identifier],T.touch0?!T.touch1&&T.touch0[2]!==z[2]&&(T.touch1=z,T.taps=0):(T.touch0=z,k=!0,T.taps=1+!!u);u&&(u=clearTimeout(u)),k&&(T.taps<2&&(f=z[0],u=setTimeout(function(){u=null},h)),Vc(this),T.start())}}function A(S,...R){if(this.__zooming){var N=j(this,R).event(S),M=S.changedTouches,T=M.length,k,$,F,z;for(Wi(S),k=0;k<T;++k)$=M[k],F=cn($,this),N.touch0&&N.touch0[2]===$.identifier?N.touch0[0]=F:N.touch1&&N.touch1[2]===$.identifier&&(N.touch1[0]=F);if($=N.that.__zoom,N.touch1){var V=N.touch0[0],U=N.touch0[1],K=N.touch1[0],Y=N.touch1[1],B=(B=K[0]-V[0])*B+(B=K[1]-V[1])*B,W=(W=Y[0]-U[0])*W+(W=Y[1]-U[1])*W;$=x($,Math.sqrt(B/W)),F=[(V[0]+K[0])/2,(V[1]+K[1])/2],z=[(U[0]+Y[0])/2,(U[1]+Y[1])/2]}else if(N.touch0)F=N.touch0[0],z=N.touch0[1];else return;N.zoom("touch",n(g($,F,z),N.extent,i))}}function D(S,...R){if(this.__zooming){var N=j(this,R).event(S),M=S.changedTouches,T=M.length,k,$;for(nh(S),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),k=0;k<T;++k)$=M[k],N.touch0&&N.touch0[2]===$.identifier?delete N.touch0:N.touch1&&N.touch1[2]===$.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&($=cn($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<b)){var F=Ot(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:hc(+S),y):r},y.filter=function(S){return arguments.length?(e=typeof S=="function"?S:hc(!!S),y):e},y.touchable=function(S){return arguments.length?(s=typeof S=="function"?S:hc(!!S),y):s},y.extent=function(S){return arguments.length?(t=typeof S=="function"?S:hc([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),y):t},y.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],y):[o[0],o[1]]},y.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(S){return arguments.length?(n=S,y):n},y.duration=function(S){return arguments.length?(a=+S,y):a},y.interpolate=function(S){return arguments.length?(l=S,y):l},y.on=function(){var S=c.on.apply(c,arguments);return S===c?y:S},y.clickDistance=function(S){return arguments.length?(m=(S=+S)*S,y):Math.sqrt(m)},y.tapDistance=function(S){return arguments.length?(b=+S,y):b},y}const Fn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ya=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],QE=["Enter"," ","Escape"];var ui;(function(e){e.Strict="strict",e.Loose="loose"})(ui||(ui={}));var Is;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Is||(Is={}));var qa;(function(e){e.Partial="partial",e.Full="full"})(qa||(qa={}));const JE={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Lr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Lr||(Lr={}));var Xa;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Xa||(Xa={}));var ne;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ne||(ne={}));const Gy={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top};function ZE(e){return e===null?null:e?"valid":"invalid"}const ek=e=>"id"in e&&"source"in e&&"target"in e,gF=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),qg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Sl=(e,t=[0,0])=>{const{width:n,height:r}=vr(e),s=e.origin??t,o=n*s[0],i=r*s[1];return{x:e.position.x-o,y:e.position.y-i}},vF=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const o=typeof s=="string";let i=!t.nodeLookup&&!o?s:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(s):qg(s)?s:t.nodeLookup.get(s.id));const a=i?Mu(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Pd(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Td(n)},El=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const s=Mu(r);n=Pd(n,s)}}),Td(n)},tk=(e,t,[n,r,s]=[0,0,1],o=!1,i=!1)=>{const a={...kl(t,[n,r,s]),width:t.width/s,height:t.height/s},l=[];for(const c of e.values()){const{measured:u,selectable:f=!0,hidden:p=!1}=c;if(i&&!f||p)continue;const h=u.width??c.width??c.initialWidth??null,w=u.height??c.height??c.initialHeight??null,m=Qa(a,fi(c)),b=(h??0)*(w??0),y=o&&m>0;(!c.internals.handleBounds||y||m>=b||c.dragging)&&l.push(c)}return l},yF=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function xF(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function wF({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const a=xF(e,i),l=El(a),c=Xg(l,t,n,(i==null?void 0:i.minZoom)??s,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await r.setViewport(c,{duration:i==null?void 0:i.duration}),Promise.resolve(!0)}function nk({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:o}){const i=n.get(e),a=i.parentId?n.get(i.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=i.origin??r;let f=s;if(i.extent==="parent"&&!i.expandParent)if(!a)o==null||o("005",Fn.error005());else{const h=a.measured.width,w=a.measured.height;h&&w&&(f=[[l,c],[l+h,c+w]])}else a&&hi(i.extent)&&(f=[[i.extent[0][0]+l,i.extent[0][1]+c],[i.extent[1][0]+l,i.extent[1][1]+c]]);const p=hi(f)?Ws(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",Fn.error015())),{position:{x:p.x-l+(i.measured.width??0)*u[0],y:p.y-c+(i.measured.height??0)*u[1]},positionAbsolute:p}}async function bF({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const o=new Set(e.map(p=>p.id)),i=[];for(const p of n){if(p.deletable===!1)continue;const h=o.has(p.id),w=!h&&p.parentId&&i.find(m=>m.id===p.parentId);(h||w)&&i.push(p)}const a=new Set(t.map(p=>p.id)),l=r.filter(p=>p.deletable!==!1),u=yF(i,l);for(const p of l)a.has(p.id)&&!u.find(w=>w.id===p.id)&&u.push(p);if(!s)return{edges:u,nodes:i};const f=await s({nodes:i,edges:u});return typeof f=="boolean"?f?{edges:u,nodes:i}:{edges:[],nodes:[]}:f}const di=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ws=(e={x:0,y:0},t,n)=>({x:di(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:di(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function rk(e,t,n){const{width:r,height:s}=vr(n),{x:o,y:i}=n.internals.positionAbsolute;return Ws(e,[[o,i],[o+r,i+s]],t)}const Ky=(e,t,n)=>e<t?di(Math.abs(e-t),1,t)/t:e>n?-di(Math.abs(e-n),1,t)/t:0,sk=(e,t,n=15,r=40)=>{const s=Ky(e.x,r,t.width-r)*n,o=Ky(e.y,r,t.height-r)*n;return[s,o]},Pd=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Bp=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Td=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),fi=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=qg(e)?e.internals.positionAbsolute:Sl(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Mu=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=qg(e)?e.internals.positionAbsolute:Sl(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},ok=(e,t)=>Td(Pd(Bp(e),Bp(t))),Qa=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Yy=e=>hn(e.width)&&hn(e.height)&&hn(e.x)&&hn(e.y),hn=e=>!isNaN(e)&&isFinite(e),_F=(e,t)=>{},Ad=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),kl=({x:e,y:t},[n,r,s],o=!1,i=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return o?Ad(a,i):a},Iu=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function co(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function SF(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=co(e,n),s=co(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=co(e.top??e.y??0,n),s=co(e.bottom??e.y??0,n),o=co(e.left??e.x??0,t),i=co(e.right??e.x??0,t);return{top:r,right:i,bottom:s,left:o,x:o+i,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function EF(e,t,n,r,s,o){const{x:i,y:a}=Iu(e,[t,n,r]),{x:l,y:c}=Iu({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=s-l,f=o-c;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(f)}}const Xg=(e,t,n,r,s,o)=>{const i=SF(o,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,c=Math.min(a,l),u=di(c,r,s),f=e.x+e.width/2,p=e.y+e.height/2,h=t/2-f*u,w=n/2-p*u,m=EF(e,h,w,u,t,n),b={left:Math.min(m.left-i.left,0),top:Math.min(m.top-i.top,0),right:Math.min(m.right-i.right,0),bottom:Math.min(m.bottom-i.bottom,0)};return{x:h-b.left+b.right,y:w-b.top+b.bottom,zoom:u}},Ou=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function hi(e){return e!==void 0&&e!=="parent"}function vr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function ik(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function ak(e,t={width:0,height:0},n,r,s){const o={...e},i=r.get(n);if(i){const a=i.origin||s;o.x+=i.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function qy(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function kF(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function ha(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:o,y:i}=or(e),a=kl({x:o-((s==null?void 0:s.left)??0),y:i-((s==null?void 0:s.top)??0)},r),{x:l,y:c}=n?Ad(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const Qg=e=>({width:e.offsetWidth,height:e.offsetHeight}),lk=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},CF=["INPUT","SELECT","TEXTAREA"];function ck(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:CF.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const uk=e=>"clientX"in e,or=(e,t)=>{var o,i;const n=uk(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Xy=(e,t,n,r,s)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Qg(i)}})};function dk({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:a}){const l=e*.125+s*.375+i*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),f=Math.abs(c-t);return[l,c,u,f]}function pc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Qy({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case ne.Left:return[t-pc(t-r,o),n];case ne.Right:return[t+pc(r-t,o),n];case ne.Top:return[t,n-pc(n-s,o)];case ne.Bottom:return[t,n+pc(s-n,o)]}}function fk({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:s,targetPosition:o=ne.Top,curvature:i=.25}){const[a,l]=Qy({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}),[c,u]=Qy({pos:o,x1:r,y1:s,x2:e,y2:t,c:i}),[f,p,h,w]=dk({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${s}`,f,p,h,w]}function hk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[o,a,s,i]}function NF({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1}){if(!s)return r;const o=n||t.selected||e.selected,i=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(o?i:0)}function jF({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const o=Pd(Mu(e),Mu(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return Qa(i,Td(o))>0}const PF=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,TF=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),pk=(e,t)=>{if(!e.source||!e.target)return t;let n;return ek(e)?n={...e}:n={...e,id:PF(e)},TF(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function mk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,i,a]=hk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,i,a]}const Jy={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}},AF=({source:e,sourcePosition:t=ne.Bottom,target:n})=>t===ne.Left||t===ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Zy=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function RF({source:e,sourcePosition:t=ne.Bottom,target:n,targetPosition:r=ne.Top,center:s,offset:o}){const i=Jy[t],a=Jy[r],l={x:e.x+i.x*o,y:e.y+i.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},u=AF({source:l,sourcePosition:t,target:c}),f=u.x!==0?"x":"y",p=u[f];let h=[],w,m;const b={x:0,y:0},y={x:0,y:0},[x,g,_,E]=hk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*a[f]===-1){w=s.x??x,m=s.y??g;const C=[{x:w,y:l.y},{x:w,y:c.y}],P=[{x:l.x,y:m},{x:c.x,y:m}];i[f]===p?h=f==="x"?C:P:h=f==="x"?P:C}else{const C=[{x:l.x,y:c.y}],P=[{x:c.x,y:l.y}];if(f==="x"?h=i.x===p?P:C:h=i.y===p?C:P,t===r){const D=Math.abs(e[f]-n[f]);if(D<=o){const S=Math.min(o-1,o-D);i[f]===p?b[f]=(l[f]>e[f]?-1:1)*S:y[f]=(c[f]>n[f]?-1:1)*S}}if(t!==r){const D=f==="x"?"y":"x",S=i[f]===a[D],R=l[D]>c[D],N=l[D]<c[D];(i[f]===1&&(!S&&R||S&&N)||i[f]!==1&&(!S&&N||S&&R))&&(h=f==="x"?C:P)}const I={x:l.x+b.x,y:l.y+b.y},O={x:c.x+y.x,y:c.y+y.y},L=Math.max(Math.abs(I.x-h[0].x),Math.abs(O.x-h[0].x)),A=Math.max(Math.abs(I.y-h[0].y),Math.abs(O.y-h[0].y));L>=A?(w=(I.x+O.x)/2,m=h[0].y):(w=h[0].x,m=(I.y+O.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...h,{x:c.x+y.x,y:c.y+y.y},n],w,m,_,E]}function MF(e,t,n,r){const s=Math.min(Zy(e,t)/2,Zy(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+s*c},${i}Q ${o},${i} ${o},${i+s*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${i+s*l}Q ${o},${i} ${o+s*a},${i}`}function Up({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:s,targetPosition:o=ne.Top,borderRadius:i=5,centerX:a,centerY:l,offset:c=20}){const[u,f,p,h,w]=RF({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:a,y:l},offset:c});return[u.reduce((b,y,x)=>{let g="";return x>0&&x<u.length-1?g=MF(u[x-1],y,u[x+1],i):g=`${x===0?"M":"L"}${y.x} ${y.y}`,b+=g,b},""),f,p,h,w]}function ex(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function IF(e){var f;const{sourceNode:t,targetNode:n}=e;if(!ex(t)||!ex(n))return null;const r=t.internals.handleBounds||tx(t.handles),s=n.internals.handleBounds||tx(n.handles),o=nx((r==null?void 0:r.source)??[],e.sourceHandle),i=nx(e.connectionMode===ui.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!o||!i)return(f=e.onError)==null||f.call(e,"008",Fn.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||ne.Bottom,l=(i==null?void 0:i.position)||ne.Top,c=Ja(t,o,a),u=Ja(n,i,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function tx(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ja(e,t,n=ne.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:a}=t??vr(e);if(r)return{x:s+i/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case ne.Top:return{x:s+i/2,y:o};case ne.Right:return{x:s+i,y:o+a/2};case ne.Bottom:return{x:s+i/2,y:o+a};case ne.Left:return{x:s,y:o+a/2}}}function nx(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Hp(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function OF(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const o=new Set;return e.reduce((i,a)=>([a.markerStart||r,a.markerEnd||s].forEach(l=>{if(l&&typeof l=="object"){const c=Hp(l,t);o.has(c)||(i.push({id:c,color:l.color||n,...l}),o.add(c))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))}const Jg={nodeOrigin:[0,0],nodeExtent:Ya,elevateNodesOnSelect:!0,defaults:{}},DF={...Jg,checkEquality:!0};function Zg(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function $F(e,t,n){const r=Zg(Jg,n);for(const s of e.values())if(s.parentId)e0(s,e,t,r);else{const o=Sl(s,r.nodeOrigin),i=hi(s.extent)?s.extent:r.nodeExtent,a=Ws(o,i,vr(s));s.internals.positionAbsolute=a}}function Vp(e,t,n,r){var l,c;const s=Zg(DF,r);let o=e.length>0;const i=new Map(t),a=s!=null&&s.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let f=i.get(u.id);if(s.checkEquality&&u===(f==null?void 0:f.internals.userNode))t.set(u.id,f);else{const p=Sl(u,s.nodeOrigin),h=hi(u.extent)?u.extent:s.nodeExtent,w=Ws(p,h,vr(u));f={...s.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:w,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:gk(u,a),userNode:u}},t.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),u.parentId&&e0(f,t,n,r)}return o}function LF(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function e0(e,t,n,r){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:i}=Zg(Jg,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}LF(e,n);const c=s?1e3:0,{x:u,y:f,z:p}=FF(e,l,o,i,c),{positionAbsolute:h}=e.internals,w=u!==h.x||f!==h.y;(w||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:u,y:f}:h,z:p}})}function gk(e,t){return(hn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function FF(e,t,n,r,s){const{x:o,y:i}=t.internals.positionAbsolute,a=vr(e),l=Sl(e,n),c=hi(e.extent)?Ws(l,e.extent,a):l;let u=Ws({x:o+c.x,y:i+c.y},r,a);e.extent==="parent"&&(u=rk(u,a,t));const f=gk(e,s),p=t.internals.z??0;return{x:u.x,y:u.y,z:p>f?p:f}}function t0(e,t,n,r=[0,0]){var i;const s=[],o=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const c=((i=o.get(a.parentId))==null?void 0:i.expandedRect)??fi(l),u=ok(c,a.rect);o.set(a.parentId,{expandedRect:u,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},c)=>{var g;const u=l.internals.positionAbsolute,f=vr(l),p=l.origin??r,h=a.x<u.x?Math.round(Math.abs(u.x-a.x)):0,w=a.y<u.y?Math.round(Math.abs(u.y-a.y)):0,m=Math.max(f.width,Math.round(a.width)),b=Math.max(f.height,Math.round(a.height)),y=(m-f.width)*p[0],x=(b-f.height)*p[1];(h>0||w>0||y||x)&&(s.push({id:c,type:"position",position:{x:l.position.x-h+y,y:l.position.y-w+x}}),(g=n.get(c))==null||g.forEach(_=>{e.some(E=>E.id===_.id)||s.push({id:_.id,type:"position",position:{x:_.position.x+h,y:_.position.y+w}})})),(f.width<a.width||f.height<a.height||h||w)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?p[0]*h-y:0),height:b+(w?p[1]*w-x:0)}})}),s}function zF(e,t,n,r,s,o){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!i)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const p of e.values()){const h=t.get(p.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const w=Qg(p.nodeElement),m=h.measured.width!==w.width||h.measured.height!==w.height;if(!!(w.width&&w.height&&(m||!h.internals.handleBounds||p.force))){const y=p.nodeElement.getBoundingClientRect(),x=hi(h.extent)?h.extent:o;let{positionAbsolute:g}=h.internals;h.parentId&&h.extent==="parent"?g=rk(g,w,t.get(h.parentId)):x&&(g=Ws(g,x,w));const _={...h,measured:w,internals:{...h.internals,positionAbsolute:g,handleBounds:{source:Xy("source",p.nodeElement,y,u,h.id),target:Xy("target",p.nodeElement,y,u,h.id)}}};t.set(h.id,_),h.parentId&&e0(_,t,n,{nodeOrigin:s}),a=!0,m&&(l.push({id:h.id,type:"dimensions",dimensions:w}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:fi(_,s)}))}}if(f.length>0){const p=t0(f,t,n,s);l.push(...p)}return{changes:l,updatedInternals:a}}async function BF({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,o]],r),a=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(a)}function rx(e,t,n,r,s,o){let i=s;const a=r.get(i)||new Map;r.set(i,a.set(n,t)),i=`${s}-${e}`;const l=r.get(i)||new Map;if(r.set(i,l.set(n,t)),o){i=`${s}-${e}-${o}`;const c=r.get(i)||new Map;r.set(i,c.set(n,t))}}function vk(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:o,sourceHandle:i=null,targetHandle:a=null}=r,l={edgeId:r.id,source:s,target:o,sourceHandle:i,targetHandle:a},c=`${s}-${i}--${o}-${a}`,u=`${o}-${a}--${s}-${i}`;rx("source",l,u,e,s,i),rx("target",l,c,e,o,a),t.set(r.id,r)}}function yk(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:yk(n,t):!1}function sx(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function UF(e,t,n,r){const s=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!yk(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const a=e.get(o);a&&s.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function rh({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,a,l;const s=[];for(const[c,u]of t){const f=(i=n.get(c))==null?void 0:i.internals.userNode;f&&s.push({...f,position:u.position,dragging:r})}if(!e)return[s[0],s];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:s[0],s]}function HF({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let o={x:null,y:null},i=0,a=new Map,l=!1,c={x:0,y:0},u=null,f=!1,p=null,h=!1;function w({noDragClassName:b,handleSelector:y,domNode:x,isSelectable:g,nodeId:_,nodeClickDistance:E=0}){p=Ot(x);function j({x:O,y:L},A){const{nodeLookup:D,nodeExtent:S,snapGrid:R,snapToGrid:N,nodeOrigin:M,onNodeDrag:T,onSelectionDrag:k,onError:$,updateNodePositions:F}=t();o={x:O,y:L};let z=!1,V={x:0,y:0,x2:0,y2:0};if(a.size>1&&S){const U=El(a);V=Bp(U)}for(const[U,K]of a){if(!D.has(U))continue;let Y={x:O-K.distance.x,y:L-K.distance.y};N&&(Y=Ad(Y,R));let B=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];if(a.size>1&&S&&!K.extent){const{positionAbsolute:ee}=K.internals,Q=ee.x-V.x+S[0][0],H=ee.x+K.measured.width-V.x2+S[1][0],re=ee.y-V.y+S[0][1],se=ee.y+K.measured.height-V.y2+S[1][1];B=[[Q,re],[H,se]]}const{position:W,positionAbsolute:J}=nk({nodeId:U,nextPosition:Y,nodeLookup:D,nodeExtent:B,nodeOrigin:M,onError:$});z=z||K.position.x!==W.x||K.position.y!==W.y,K.position=W,K.internals.positionAbsolute=J}if(z&&(F(a,!0),A&&(r||T||!_&&k))){const[U,K]=rh({nodeId:_,dragItems:a,nodeLookup:D});r==null||r(A,a,U,K),T==null||T(A,U,K),_||k==null||k(A,K)}}async function C(){if(!u)return;const{transform:O,panBy:L,autoPanSpeed:A,autoPanOnNodeDrag:D}=t();if(!D){l=!1,cancelAnimationFrame(i);return}const[S,R]=sk(c,u,A);(S!==0||R!==0)&&(o.x=(o.x??0)-S/O[2],o.y=(o.y??0)-R/O[2],await L({x:S,y:R})&&j(o,null)),i=requestAnimationFrame(C)}function P(O){var z;const{nodeLookup:L,multiSelectionActive:A,nodesDraggable:D,transform:S,snapGrid:R,snapToGrid:N,selectNodesOnDrag:M,onNodeDragStart:T,onSelectionDragStart:k,unselectNodesAndEdges:$}=t();f=!0,(!M||!g)&&!A&&_&&((z=L.get(_))!=null&&z.selected||$()),g&&M&&_&&(e==null||e(_));const F=ha(O.sourceEvent,{transform:S,snapGrid:R,snapToGrid:N,containerBounds:u});if(o=F,a=UF(L,D,F,_),a.size>0&&(n||T||!_&&k)){const[V,U]=rh({nodeId:_,dragItems:a,nodeLookup:L});n==null||n(O.sourceEvent,a,V,U),T==null||T(O.sourceEvent,V,U),_||k==null||k(O.sourceEvent,U)}}const I=OE().clickDistance(E).on("start",O=>{const{domNode:L,nodeDragThreshold:A,transform:D,snapGrid:S,snapToGrid:R}=t();u=(L==null?void 0:L.getBoundingClientRect())||null,h=!1,A===0&&P(O),o=ha(O.sourceEvent,{transform:D,snapGrid:S,snapToGrid:R,containerBounds:u}),c=or(O.sourceEvent,u)}).on("drag",O=>{const{autoPanOnNodeDrag:L,transform:A,snapGrid:D,snapToGrid:S,nodeDragThreshold:R,nodeLookup:N}=t(),M=ha(O.sourceEvent,{transform:A,snapGrid:D,snapToGrid:S,containerBounds:u});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||_&&!N.has(_))&&(h=!0),!h){if(!l&&L&&f&&(l=!0,C()),!f){const T=M.xSnapped-(o.x??0),k=M.ySnapped-(o.y??0);Math.sqrt(T*T+k*k)>R&&P(O)}(o.x!==M.xSnapped||o.y!==M.ySnapped)&&a&&f&&(c=or(O.sourceEvent,u),j(M,O.sourceEvent))}}).on("end",O=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(i),a.size>0)){const{nodeLookup:L,updateNodePositions:A,onNodeDragStop:D,onSelectionDragStop:S}=t();if(A(a,!1),s||D||!_&&S){const[R,N]=rh({nodeId:_,dragItems:a,nodeLookup:L,dragging:!1});s==null||s(O.sourceEvent,a,R,N),D==null||D(O.sourceEvent,R,N),_||S==null||S(O.sourceEvent,N)}}}).filter(O=>{const L=O.target;return!O.button&&(!b||!sx(L,`.${b}`,x))&&(!y||sx(L,y,x))});p.call(I)}function m(){p==null||p.on(".drag",null)}return{update:w,destroy:m}}function VF(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Qa(s,fi(o))>0&&r.push(o);return r}const WF=250;function GF(e,t,n,r){var a,l;let s=[],o=1/0;const i=VF(e,n,t+WF);for(const c of i){const u=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of u){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:h}=Ja(c,f,f.position,!0),w=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(h-e.y,2));w>t||(w<o?(s=[{...f,x:p,y:h}],o=w):w===o&&s.push({...f,x:p,y:h}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(u=>u.type===c)??s[0]}return s[0]}function xk(e,t,n,r,s,o=!1){var c,u,f;const i=r.get(e);if(!i)return null;const a=s==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((u=i.internals.handleBounds)==null?void 0:u.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...Ja(i,l,l.position,!0)}:l}function wk(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function KF(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const bk=()=>!0;function YF(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:o,isTarget:i,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:f,panBy:p,cancelConnection:h,onConnectStart:w,onConnect:m,onConnectEnd:b,isValidConnection:y=bk,onReconnectEnd:x,updateConnection:g,getTransform:_,getFromHandle:E,autoPanSpeed:j}){const C=lk(e.target);let P=0,I;const{x:O,y:L}=or(e),A=C==null?void 0:C.elementFromPoint(O,L),D=wk(o,A),S=a==null?void 0:a.getBoundingClientRect();if(!S||!D)return;const R=xk(s,D,r,l,t);if(!R)return;let N=or(e,S),M=!1,T=null,k=!1,$=null;function F(){if(!u||!S)return;const[J,ee]=sk(N,S,j);p({x:J,y:ee}),P=requestAnimationFrame(F)}const z={...R,nodeId:s,type:D,position:R.position},V=l.get(s),K={inProgress:!0,isValid:null,from:Ja(V,z,ne.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:V,to:N,toHandle:null,toPosition:Gy[z.position],toNode:null};g(K);let Y=K;w==null||w(e,{nodeId:s,handleId:r,handleType:D});function B(J){if(!E()||!z){W(J);return}const ee=_();N=or(J,S),I=GF(kl(N,ee,!1,[1,1]),n,l,z),M||(F(),M=!0);const Q=_k(J,{handle:I,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:i?"target":"source",isValidConnection:y,doc:C,lib:c,flowId:f,nodeLookup:l});$=Q.handleDomNode,T=Q.connection,k=KF(!!I,Q.isValid);const H={...Y,isValid:k,to:Q.toHandle&&k?Iu({x:Q.toHandle.x,y:Q.toHandle.y},ee):N,toHandle:Q.toHandle,toPosition:k&&Q.toHandle?Q.toHandle.position:Gy[z.position],toNode:Q.toHandle?l.get(Q.toHandle.nodeId):null};k&&I&&Y.toHandle&&H.toHandle&&Y.toHandle.type===H.toHandle.type&&Y.toHandle.nodeId===H.toHandle.nodeId&&Y.toHandle.id===H.toHandle.id&&Y.to.x===H.to.x&&Y.to.y===H.to.y||(g(H),Y=H)}function W(J){(I||$)&&T&&k&&(m==null||m(T));const{inProgress:ee,...Q}=Y,H={...Q,toPosition:Y.toHandle?Y.toPosition:null};b==null||b(J,H),o&&(x==null||x(J,H)),h(),cancelAnimationFrame(P),M=!1,k=!1,T=null,$=null,C.removeEventListener("mousemove",B),C.removeEventListener("mouseup",W),C.removeEventListener("touchmove",B),C.removeEventListener("touchend",W)}C.addEventListener("mousemove",B),C.addEventListener("mouseup",W),C.addEventListener("touchmove",B),C.addEventListener("touchend",W)}function _k(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:o,doc:i,lib:a,flowId:l,isValidConnection:c=bk,nodeLookup:u}){const f=o==="target",p=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:w}=or(e),m=i.elementFromPoint(h,w),b=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:p,y={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const x=wk(void 0,b),g=b.getAttribute("data-nodeid"),_=b.getAttribute("data-handleid"),E=b.classList.contains("connectable"),j=b.classList.contains("connectableend");if(!g||!x)return y;const C={source:f?g:r,sourceHandle:f?_:s,target:f?r:g,targetHandle:f?s:_};y.connection=C;const I=E&&j&&(n===ui.Strict?f&&x==="source"||!f&&x==="target":g!==r||_!==s);y.isValid=I&&c(C),y.toHandle=xk(g,x,_,u,n,!0)}return y}const Wp={onPointerDown:YF,isValid:_k};function qF({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Ot(e);function o({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:f=!0,zoomable:p=!0,inversePan:h=!1}){const w=g=>{const _=n();if(g.sourceEvent.type!=="wheel"||!t)return;const E=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*u,j=_[2]*Math.pow(2,E);t.scaleTo(j)};let m=[0,0];const b=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(m=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},y=g=>{const _=n();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!t)return;const E=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],j=[E[0]-m[0],E[1]-m[1]];m=E;const C=r()*Math.max(_[2],Math.log(_[2]))*(h?-1:1),P={x:_[0]-j[0]*C,y:_[1]-j[1]*C},I=[[0,0],[l,c]];t.setViewportConstrained({x:P.x,y:P.y,zoom:_[2]},I,a)},x=XE().on("start",b).on("zoom",f?y:null).on("zoom.wheel",p?w:null);s.call(x,{})}function i(){s.on("zoom",null)}return{update:o,destroy:i,pointer:cn}}const XF=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Rd=e=>({x:e.x,y:e.y,zoom:e.k}),sh=({x:e,y:t,zoom:n})=>jd.translate(e,t).scale(n),No=(e,t)=>e.target.closest(`.${t}`),Sk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),oh=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Ek=e=>{const t=e.ctrlKey&&Ou()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function QF({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(No(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(u.ctrlKey&&i){const b=cn(u),y=Ek(u),x=f*Math.pow(2,y);r.scaleTo(n,x,b,u);return}const p=u.deltaMode===1?20:1;let h=s===Is.Vertical?0:u.deltaX*p,w=s===Is.Horizontal?0:u.deltaY*p;!Ou()&&u.shiftKey&&s!==Is.Vertical&&(h=u.deltaY*p,w=0),r.translateBy(n,-(h/f)*o,-(w/f)*o,{internal:!0});const m=Rd(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(u,m)),e.isPanScrolling&&(l==null||l(u,m),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,m),e.isPanScrolling=!1},150))}}function JF({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,a=No(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),i||a)return null;r.preventDefault(),n.call(this,r,s)}}function ZF({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,i,a;if((o=r.sourceEvent)!=null&&o.internal)return;const s=Rd(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function e6({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return o=>{var i,a;e.usedRightMouseButton=!!(n&&Sk(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||r([o.transform.x,o.transform.y,o.transform.k]),s&&!((a=o.sourceEvent)!=null&&a.internal)&&(s==null||s(o.sourceEvent,Rd(o.transform)))}}function t6({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:o}){return i=>{var a;if(!((a=i.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Sk(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),s&&XF(e.prevViewport,i.transform))){const l=Rd(i.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(i.sourceEvent,l)},n?150:0)}}}function n6({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var w;const f=e||t,p=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(No(u,`${c}-flow__node`)||No(u,`${c}-flow__edge`)))return!0;if(!r&&!f&&!s&&!o&&!n||i||No(u,a)&&u.type==="wheel"||No(u,l)&&(u.type!=="wheel"||s&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((w=u.touches)==null?void 0:w.length)>1)return u.preventDefault(),!1;if(!f&&!s&&!p&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function r6({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:s,viewport:o,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),p=XE().clickDistance(!hn(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(s),h=Ot(e).call(p);g({x:o.x,y:o.y,zoom:di(o.zoom,t,n)},[[0,0],[f.width,f.height]],s);const w=h.on("wheel.zoom"),m=h.on("dblclick.zoom");p.wheelDelta(Ek);function b(A,D){return h?new Promise(S=>{p==null||p.transform(oh(h,D==null?void 0:D.duration,()=>S(!0)),A)}):Promise.resolve(!1)}function y({noWheelClassName:A,noPanClassName:D,onPaneContextMenu:S,userSelectionActive:R,panOnScroll:N,panOnDrag:M,panOnScrollMode:T,panOnScrollSpeed:k,preventScrolling:$,zoomOnPinch:F,zoomOnScroll:z,zoomOnDoubleClick:V,zoomActivationKeyPressed:U,lib:K,onTransformChange:Y}){R&&!u.isZoomingOrPanning&&x();const W=N&&!U&&!R?QF({zoomPanValues:u,noWheelClassName:A,d3Selection:h,d3Zoom:p,panOnScrollMode:T,panOnScrollSpeed:k,zoomOnPinch:F,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:l}):JF({noWheelClassName:A,preventScrolling:$,d3ZoomHandler:w});if(h.on("wheel.zoom",W,{passive:!1}),!R){const ee=ZF({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});p.on("start",ee);const Q=e6({zoomPanValues:u,panOnDrag:M,onPaneContextMenu:!!S,onPanZoom:i,onTransformChange:Y});p.on("zoom",Q);const H=t6({zoomPanValues:u,panOnDrag:M,panOnScroll:N,onPaneContextMenu:S,onPanZoomEnd:l,onDraggingChange:c});p.on("end",H)}const J=n6({zoomActivationKeyPressed:U,panOnDrag:M,zoomOnScroll:z,panOnScroll:N,zoomOnDoubleClick:V,zoomOnPinch:F,userSelectionActive:R,noPanClassName:D,noWheelClassName:A,lib:K});p.filter(J),V?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)}function x(){p.on("zoom",null)}async function g(A,D,S){const R=sh(A),N=p==null?void 0:p.constrain()(R,D,S);return N&&await b(N),new Promise(M=>M(N))}async function _(A,D){const S=sh(A);return await b(S,D),new Promise(R=>R(S))}function E(A){if(h){const D=sh(A),S=h.property("__zoom");(S.k!==A.zoom||S.x!==A.x||S.y!==A.y)&&(p==null||p.transform(h,D,null,{sync:!0}))}}function j(){const A=h?qE(h.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function C(A,D){return h?new Promise(S=>{p==null||p.scaleTo(oh(h,D==null?void 0:D.duration,()=>S(!0)),A)}):Promise.resolve(!1)}function P(A,D){return h?new Promise(S=>{p==null||p.scaleBy(oh(h,D==null?void 0:D.duration,()=>S(!0)),A)}):Promise.resolve(!1)}function I(A){p==null||p.scaleExtent(A)}function O(A){p==null||p.translateExtent(A)}function L(A){const D=!hn(A)||A<0?0:A;p==null||p.clickDistance(D)}return{update:y,destroy:x,setViewport:_,setViewportConstrained:g,getViewport:j,scaleTo:C,scaleBy:P,setScaleExtent:I,setTranslateExtent:O,syncViewport:E,setClickDistance:L}}var pa;(function(e){e.Line="line",e.Handle="handle"})(pa||(pa={}));function s6({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:o}){const i=e-t,a=n-r,l=[i>0?1:i<0?-1:0,a>0?1:a<0?-1:0];return i&&s&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function o6(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function Cr(e,t){return Math.max(0,t-e)}function Nr(e,t){return Math.max(0,e-t)}function mc(e,t,n){return Math.max(0,t-e,e-n)}function ox(e,t){return e?!t:t}function i6(e,t,n,r,s,o,i,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:f}=t,p=u&&f,{xSnapped:h,ySnapped:w}=n,{minWidth:m,maxWidth:b,minHeight:y,maxHeight:x}=r,{x:g,y:_,width:E,height:j,aspectRatio:C}=e;let P=Math.floor(u?h-e.pointerX:0),I=Math.floor(f?w-e.pointerY:0);const O=E+(l?-P:P),L=j+(c?-I:I),A=-o[0]*E,D=-o[1]*j;let S=mc(O,m,b),R=mc(L,y,x);if(i){let T=0,k=0;l&&P<0?T=Cr(g+P+A,i[0][0]):!l&&P>0&&(T=Nr(g+O+A,i[1][0])),c&&I<0?k=Cr(_+I+D,i[0][1]):!c&&I>0&&(k=Nr(_+L+D,i[1][1])),S=Math.max(S,T),R=Math.max(R,k)}if(a){let T=0,k=0;l&&P>0?T=Nr(g+P,a[0][0]):!l&&P<0&&(T=Cr(g+O,a[1][0])),c&&I>0?k=Nr(_+I,a[0][1]):!c&&I<0&&(k=Cr(_+L,a[1][1])),S=Math.max(S,T),R=Math.max(R,k)}if(s){if(u){const T=mc(O/C,y,x)*C;if(S=Math.max(S,T),i){let k=0;!l&&!c||l&&!c&&p?k=Nr(_+D+O/C,i[1][1])*C:k=Cr(_+D+(l?P:-P)/C,i[0][1])*C,S=Math.max(S,k)}if(a){let k=0;!l&&!c||l&&!c&&p?k=Cr(_+O/C,a[1][1])*C:k=Nr(_+(l?P:-P)/C,a[0][1])*C,S=Math.max(S,k)}}if(f){const T=mc(L*C,m,b)/C;if(R=Math.max(R,T),i){let k=0;!l&&!c||c&&!l&&p?k=Nr(g+L*C+A,i[1][0])/C:k=Cr(g+(c?I:-I)*C+A,i[0][0])/C,R=Math.max(R,k)}if(a){let k=0;!l&&!c||c&&!l&&p?k=Cr(g+L*C,a[1][0])/C:k=Nr(g+(c?I:-I)*C,a[0][0])/C,R=Math.max(R,k)}}}I=I+(I<0?R:-R),P=P+(P<0?S:-S),s&&(p?O>L*C?I=(ox(l,c)?-P:P)/C:P=(ox(l,c)?-I:I)*C:u?(I=P/C,c=l):(P=I*C,l=c));const N=l?g+P:g,M=c?_+I:_;return{width:E+(l?-P:P),height:j+(c?-I:I),x:o[0]*P*(l?-1:1)+N,y:o[1]*I*(c?-1:1)+M}}const kk={width:0,height:0,x:0,y:0},a6={...kk,pointerX:0,pointerY:0,aspectRatio:1};function l6(e){return[[0,0],[e.measured.width,e.measured.height]]}function c6(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,a=n[0]*o,l=n[1]*i;return[[r-a,s-l],[r+o-a,s+i-l]]}function u6({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const o=Ot(e);function i({controlPosition:l,boundaries:c,keepAspectRatio:u,resizeDirection:f,onResizeStart:p,onResize:h,onResizeEnd:w,shouldResize:m}){let b={...kk},y={...a6};const x=o6(l);let g,_=null,E=[],j,C,P;const I=OE().on("start",O=>{const{nodeLookup:L,transform:A,snapGrid:D,snapToGrid:S,nodeOrigin:R,paneDomNode:N}=n();if(g=L.get(t),!g)return;_=(N==null?void 0:N.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:T}=ha(O.sourceEvent,{transform:A,snapGrid:D,snapToGrid:S,containerBounds:_});b={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},y={...b,pointerX:M,pointerY:T,aspectRatio:b.width/b.height},j=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(j=L.get(g.parentId),C=j&&g.extent==="parent"?l6(j):void 0),E=[],P=void 0;for(const[k,$]of L)if($.parentId===t&&(E.push({id:k,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const F=c6($,g,$.origin??R);P?P=[[Math.min(F[0][0],P[0][0]),Math.min(F[0][1],P[0][1])],[Math.max(F[1][0],P[1][0]),Math.max(F[1][1],P[1][1])]]:P=F}p==null||p(O,{...b})}).on("drag",O=>{const{transform:L,snapGrid:A,snapToGrid:D,nodeOrigin:S}=n(),R=ha(O.sourceEvent,{transform:L,snapGrid:A,snapToGrid:D,containerBounds:_}),N=[];if(!g)return;const{x:M,y:T,width:k,height:$}=b,F={},z=g.origin??S,{width:V,height:U,x:K,y:Y}=i6(y,x,R,c,u,z,C,P),B=V!==k,W=U!==$,J=K!==M&&B,ee=Y!==T&&W;if(!J&&!ee&&!B&&!W)return;if((J||ee||z[0]===1||z[1]===1)&&(F.x=J?K:b.x,F.y=ee?Y:b.y,b.x=F.x,b.y=F.y,E.length>0)){const se=K-M,xe=Y-T;for(const pe of E)pe.position={x:pe.position.x-se+z[0]*(V-k),y:pe.position.y-xe+z[1]*(U-$)},N.push(pe)}if((B||W)&&(F.width=B&&(!f||f==="horizontal")?V:b.width,F.height=W&&(!f||f==="vertical")?U:b.height,b.width=F.width,b.height=F.height),j&&g.expandParent){const se=z[0]*(F.width??0);F.x&&F.x<se&&(b.x=se,y.x=y.x-(F.x-se));const xe=z[1]*(F.height??0);F.y&&F.y<xe&&(b.y=xe,y.y=y.y-(F.y-xe))}const Q=s6({width:b.width,prevWidth:k,height:b.height,prevHeight:$,affectsX:x.affectsX,affectsY:x.affectsY}),H={...b,direction:Q};(m==null?void 0:m(O,H))!==!1&&(h==null||h(O,H),r(F,N))}).on("end",O=>{w==null||w(O,{...b}),s==null||s({...b})});o.call(I)}function a(){o.on(".drag",null)}return{update:i,destroy:a}}var Ck={exports:{}},Nk={},jk={exports:{}},Pk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=v;function d6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f6=typeof Object.is=="function"?Object.is:d6,h6=pi.useState,p6=pi.useEffect,m6=pi.useLayoutEffect,g6=pi.useDebugValue;function v6(e,t){var n=t(),r=h6({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return m6(function(){s.value=n,s.getSnapshot=t,ih(s)&&o({inst:s})},[e,n,t]),p6(function(){return ih(s)&&o({inst:s}),e(function(){ih(s)&&o({inst:s})})},[e]),g6(n),n}function ih(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!f6(e,n)}catch{return!0}}function y6(e,t){return t()}var x6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y6:v6;Pk.useSyncExternalStore=pi.useSyncExternalStore!==void 0?pi.useSyncExternalStore:x6;jk.exports=Pk;var w6=jk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=v,b6=w6;function _6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var S6=typeof Object.is=="function"?Object.is:_6,E6=b6.useSyncExternalStore,k6=Md.useRef,C6=Md.useEffect,N6=Md.useMemo,j6=Md.useDebugValue;Nk.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=k6(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=N6(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),s!==void 0&&i.hasValue){var w=i.value;if(s(w,h))return f=w}return f=h}if(w=f,S6(u,h))return w;var m=r(h);return s!==void 0&&s(w,m)?(u=h,w):(u=h,f=m)}var c=!1,u,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,s]);var a=E6(e,o[0],o[1]);return C6(function(){i.hasValue=!0,i.value=a},[a]),j6(a),a};Ck.exports=Nk;var P6=Ck.exports;const T6=cm(P6),A6={},ix=e=>{let t;const n=new Set,r=(u,f)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const h=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(w=>w(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(A6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},R6=e=>e?ix(e):ix,{useDebugValue:M6}=X,{useSyncExternalStoreWithSelector:I6}=T6,O6=e=>e;function Tk(e,t=O6,n){const r=I6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return M6(r),r}const ax=(e,t)=>{const n=R6(e),r=(s,o=t)=>Tk(n,s,o);return Object.assign(r,n),r},D6=(e,t)=>e?ax(e,t):ax;function Fe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Id=v.createContext(null),$6=Id.Provider,Ak=Fn.error001();function ve(e,t){const n=v.useContext(Id);if(n===null)throw new Error(Ak);return Tk(n,e,t)}function Me(){const e=v.useContext(Id);if(e===null)throw new Error(Ak);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const lx={display:"none"},L6={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Rk="react-flow__node-desc",Mk="react-flow__edge-desc",F6="react-flow__aria-live",z6=e=>e.ariaLiveMessage;function B6({rfId:e}){const t=ve(z6);return d.jsx("div",{id:`${F6}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:L6,children:t})}function U6({rfId:e,disableKeyboardA11y:t}){return d.jsxs(d.Fragment,{children:[d.jsxs("div",{id:`${Rk}-${e}`,style:lx,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),d.jsx("div",{id:`${Mk}-${e}`,style:lx,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&d.jsx(B6,{rfId:e})]})}const H6=e=>e.userSelectionActive?"none":"all",Od=v.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},o)=>{const i=ve(H6),a=`${e}`.split("-");return d.jsx("div",{className:He(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},ref:o,...s,children:t})});Od.displayName="Panel";function V6({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:d.jsx(Od,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const W6=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},gc=e=>e.id;function G6(e,t){return Fe(e.selectedNodes.map(gc),t.selectedNodes.map(gc))&&Fe(e.selectedEdges.map(gc),t.selectedEdges.map(gc))}function K6({onSelectionChange:e}){const t=Me(),{selectedNodes:n,selectedEdges:r}=ve(W6,G6);return v.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(o=>o(s))},[n,r,e]),null}const Y6=e=>!!e.onSelectionChangeHandlers;function q6({onSelectionChange:e}){const t=ve(Y6);return e||t?d.jsx(K6,{onSelectionChange:e}):null}const Ik=[0,0],X6={x:0,y:0,zoom:1},Q6=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],cx=[...Q6,"rfId"],J6=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),ux={translateExtent:Ya,nodeOrigin:Ik,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Z6(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:o,setNodeExtent:i,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=ve(J6,Fe),u=Me();v.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=ux,a()}),[]);const f=v.useRef(ux);return v.useEffect(()=>{for(const p of cx){const h=e[p],w=f.current[p];h!==w&&(typeof e[p]>"u"||(p==="nodes"?t(h):p==="edges"?n(h):p==="minZoom"?r(h):p==="maxZoom"?s(h):p==="translateExtent"?o(h):p==="nodeExtent"?i(h):p==="paneClickDistance"?c(h):p==="fitView"?u.setState({fitViewQueued:h}):p==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[p]:h})))}f.current=e},cx.map(p=>e[p])),null}function dx(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ez(e){var r;const[t,n]=v.useState(e==="system"?null:e);return v.useEffect(()=>{if(e!=="system"){n(e);return}const s=dx(),o=()=>n(s!=null&&s.matches?"dark":"light");return o(),s==null||s.addEventListener("change",o),()=>{s==null||s.removeEventListener("change",o)}},[e]),t!==null?t:(r=dx())!=null&&r.matches?"dark":"light"}const fx=typeof document<"u"?document:null;function Za(e=null,t={target:fx,actInsideInputWithModifier:!0}){const[n,r]=v.useState(!1),s=v.useRef(!1),o=v.useRef(new Set([])),[i,a]=v.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((f,p)=>f.concat(...p),[]);return[c,u]}return[[],[]]},[e]);return v.useEffect(()=>{const l=(t==null?void 0:t.target)??fx,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const u=h=>{var b,y;if(s.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!s.current||s.current&&!c)&&ck(h))return!1;const m=px(h.code,a);if(o.current.add(h[m]),hx(i,o.current,!1)){const x=((y=(b=h.composedPath)==null?void 0:b.call(h))==null?void 0:y[0])||h.target,g=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(s.current||!g)&&h.preventDefault(),r(!0)}},f=h=>{const w=px(h.code,a);hx(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[w]),h.key==="Meta"&&o.current.clear(),s.current=!1},p=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",u),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{l==null||l.removeEventListener("keydown",u),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function hx(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function px(e,t){return t.includes(e)?"code":"key"}const tz=()=>{const e=Me();return v.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:s,height:o,maxZoom:i,panZoom:a}=e.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:i,c=s/2-t*l,u=o/2-n*l;return a?(await a.setViewport({x:c,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:o,maxZoom:i,panZoom:a}=e.getState(),l=Xg(t,r,s,o,i,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:a,y:l}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},u=n.snapGrid??s,f=n.snapToGrid??o;return kl(c,r,f,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:o}=r.getBoundingClientRect(),i=Iu(t,n);return{x:i.x+s,y:i.y+o}}}),[])};function Ok(e,t){const n=[],r=new Map,s=[];for(const o of e)if(o.type==="add"){s.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){n.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const a={...o};for(const l of i)nz(l,a);n.push(a)}return s.length&&s.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function nz(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Dk(e,t){return Ok(e,t)}function $k(e,t){return Ok(e,t)}function vs(e,t){return{id:e,type:"select",selected:t}}function jo(e,t=new Set,n=!1){const r=[];for(const[s,o]of e){const i=t.has(s);!(o.selected===void 0&&!i)&&o.selected!==i&&(n&&(o.selected=i),r.push(vs(o.id,i)))}return r}function mx({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const a=t.get(i.id),l=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;l!==void 0&&l!==i&&n.push({id:i.id,item:i,type:"replace"}),l===void 0&&n.push({item:i,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function gx(e){return{id:e.id,type:"remove"}}const vx=e=>gF(e),rz=e=>ek(e);function Lk(e){return v.forwardRef(e)}const sz=typeof window<"u"?v.useLayoutEffect:v.useEffect;function yx(e){const[t,n]=v.useState(BigInt(0)),[r]=v.useState(()=>oz(()=>n(s=>s+BigInt(1))));return sz(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function oz(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Fk=v.createContext(null);function iz({children:e}){const t=Me(),n=v.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:f,nodeLookup:p,fitViewQueued:h}=t.getState();let w=l;for(const b of a)w=typeof b=="function"?b(w):b;const m=mx({items:w,lookup:p});u&&c(w),m.length>0?f==null||f(m):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:y,setNodes:x}=t.getState();b&&x(y)})},[]),r=yx(n),s=v.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:f,edgeLookup:p}=t.getState();let h=l;for(const w of a)h=typeof w=="function"?w(h):w;u?c(h):f&&f(mx({items:h,lookup:p}))},[]),o=yx(s),i=v.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return d.jsx(Fk.Provider,{value:i,children:e})}function az(){const e=v.useContext(Fk);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const lz=e=>!!e.panZoom;function n0(){const e=tz(),t=Me(),n=az(),r=ve(lz),s=v.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),i=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{var y,x;const{nodeLookup:p,nodeOrigin:h}=t.getState(),w=vx(f)?f:p.get(f.id),m=w.parentId?ak(w.position,w.measured,w.parentId,p,h):w.position,b={...w,position:m,width:((y=w.measured)==null?void 0:y.width)??w.width,height:((x=w.measured)==null?void 0:x.height)??w.height};return fi(b)},c=(f,p,h={replace:!1})=>{i(w=>w.map(m=>{if(m.id===f){const b=typeof p=="function"?p(m):p;return h.replace&&vx(b)?b:{...m,...b}}return m}))},u=(f,p,h={replace:!1})=>{a(w=>w.map(m=>{if(m.id===f){const b=typeof p=="function"?p(m):p;return h.replace&&rz(b)?b:{...m,...b}}return m}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var p;return(p=o(f))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(p=>({...p}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:a,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:h}=t.getState(),[w,m,b]=h;return{nodes:f.map(y=>({...y})),edges:p.map(y=>({...y})),viewport:{x:w,y:m,zoom:b}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:h,edges:w,onNodesDelete:m,onEdgesDelete:b,triggerNodeChanges:y,triggerEdgeChanges:x,onDelete:g,onBeforeDelete:_}=t.getState(),{nodes:E,edges:j}=await bF({nodesToRemove:f,edgesToRemove:p,nodes:h,edges:w,onBeforeDelete:_}),C=j.length>0,P=E.length>0;if(C){const I=j.map(gx);b==null||b(j),x(I)}if(P){const I=E.map(gx);m==null||m(E),y(I)}return(P||C)&&(g==null||g({nodes:E,edges:j})),{deletedNodes:E,deletedEdges:j}},getIntersectingNodes:(f,p=!0,h)=>{const w=Yy(f),m=w?f:l(f),b=h!==void 0;return m?(h||t.getState().nodes).filter(y=>{const x=t.getState().nodeLookup.get(y.id);if(x&&!w&&(y.id===f.id||!x.internals.positionAbsolute))return!1;const g=fi(b?y:x),_=Qa(g,m);return p&&_>0||_>=m.width*m.height}):[]},isNodeIntersecting:(f,p,h=!0)=>{const m=Yy(f)?f:l(f);if(!m)return!1;const b=Qa(m,p);return h&&b>0||b>=m.width*m.height},updateNode:c,updateNodeData:(f,p,h={replace:!1})=>{c(f,w=>{const m=typeof p=="function"?p(w):p;return h.replace?{...w,data:m}:{...w,data:{...w.data,...m}}},h)},updateEdge:u,updateEdgeData:(f,p,h={replace:!1})=>{u(f,w=>{const m=typeof p=="function"?p(w):p;return h.replace?{...w,data:m}:{...w,data:{...w.data,...m}}},h)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:h}=t.getState();return vF(f,{nodeLookup:p,nodeOrigin:h})},getHandleConnections:({type:f,id:p,nodeId:h})=>{var w;return Array.from(((w=t.getState().connectionLookup.get(`${h}-${f}${p?`-${p}`:""}`))==null?void 0:w.values())??[])},getNodeConnections:({type:f,handleId:p,nodeId:h})=>{var w;return Array.from(((w=t.getState().connectionLookup.get(`${h}${f?p?`-${f}-${p}`:`-${f}`:""}`))==null?void 0:w.values())??[])},fitView:async f=>{const p=t.getState().fitViewResolver??kF();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:p}),n.nodeQueue.push(h=>[...h]),p.promise}}},[]);return v.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const xx=e=>e.selected,cz=typeof window<"u"?window:void 0;function uz({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Me(),{deleteElements:r}=n0(),s=Za(e,{actInsideInputWithModifier:!1}),o=Za(t,{target:cz});v.useEffect(()=>{if(s){const{edges:i,nodes:a}=n.getState();r({nodes:a.filter(xx),edges:i.filter(xx)}),n.setState({nodesSelectionActive:!1})}},[s]),v.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function dz(e){const t=Me();v.useEffect(()=>{const n=()=>{var s,o;if(!e.current)return!1;const r=Qg(e.current);(r.height===0||r.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Fn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Dd={position:"absolute",width:"100%",height:"100%",top:0,left:0},fz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function hz({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:o=Is.Free,zoomOnDoubleClick:i=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:h=!0,children:w,noWheelClassName:m,noPanClassName:b,onViewportChange:y,isControlledViewport:x,paneClickDistance:g}){const _=Me(),E=v.useRef(null),{userSelectionActive:j,lib:C}=ve(fz,Fe),P=Za(p),I=v.useRef();dz(E);const O=v.useCallback(L=>{y==null||y({x:L[0],y:L[1],zoom:L[2]}),x||_.setState({transform:L})},[y,x]);return v.useEffect(()=>{if(E.current){I.current=r6({domNode:E.current,minZoom:u,maxZoom:f,translateExtent:c,viewport:l,paneClickDistance:g,onDraggingChange:S=>_.setState({paneDragging:S}),onPanZoomStart:(S,R)=>{const{onViewportChangeStart:N,onMoveStart:M}=_.getState();M==null||M(S,R),N==null||N(R)},onPanZoom:(S,R)=>{const{onViewportChange:N,onMove:M}=_.getState();M==null||M(S,R),N==null||N(R)},onPanZoomEnd:(S,R)=>{const{onViewportChangeEnd:N,onMoveEnd:M}=_.getState();M==null||M(S,R),N==null||N(R)}});const{x:L,y:A,zoom:D}=I.current.getViewport();return _.setState({panZoom:I.current,transform:[L,A,D],domNode:E.current.closest(".react-flow")}),()=>{var S;(S=I.current)==null||S.destroy()}}},[]),v.useEffect(()=>{var L;(L=I.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:a,zoomActivationKeyPressed:P,preventScrolling:h,noPanClassName:b,userSelectionActive:j,noWheelClassName:m,lib:C,onTransformChange:O})},[e,t,n,r,s,o,i,a,P,h,b,j,m,C,O]),d.jsx("div",{className:"react-flow__renderer",ref:E,style:Dd,children:w})}const pz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function mz(){const{userSelectionActive:e,userSelectionRect:t}=ve(pz,Fe);return e&&t?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ah=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},gz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function vz({isSelecting:e,selectionKeyPressed:t,selectionMode:n=qa.Full,panOnDrag:r,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:p,children:h}){const w=Me(),{userSelectionActive:m,elementsSelectable:b,dragging:y,connectionInProgress:x}=ve(gz,Fe),g=b&&(e||m),_=v.useRef(null),E=v.useRef(),j=v.useRef(new Set),C=v.useRef(new Set),P=v.useRef(!1),I=v.useRef(!1),O=M=>{if(P.current||x){P.current=!1;return}a==null||a(M),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},L=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}l==null||l(M)},A=c?M=>c(M):void 0,D=M=>{var z,V;const{resetSelectedElements:T,domNode:k}=w.getState();if(E.current=k==null?void 0:k.getBoundingClientRect(),!b||!e||M.button!==0||M.target!==_.current||!E.current)return;(V=(z=M.target)==null?void 0:z.setPointerCapture)==null||V.call(z,M.pointerId),I.current=!0,P.current=!1;const{x:$,y:F}=or(M.nativeEvent,E.current);T(),w.setState({userSelectionRect:{width:0,height:0,startX:$,startY:F,x:$,y:F}}),o==null||o(M)},S=M=>{const{userSelectionRect:T,transform:k,nodeLookup:$,edgeLookup:F,connectionLookup:z,triggerNodeChanges:V,triggerEdgeChanges:U,defaultEdgeOptions:K}=w.getState();if(!E.current||!T)return;P.current=!0;const{x:Y,y:B}=or(M.nativeEvent,E.current),{startX:W,startY:J}=T,ee={startX:W,startY:J,x:Y<W?Y:W,y:B<J?B:J,width:Math.abs(Y-W),height:Math.abs(B-J)},Q=j.current,H=C.current;j.current=new Set(tk($,ee,k,n===qa.Partial,!0).map(se=>se.id)),C.current=new Set;const re=(K==null?void 0:K.selectable)??!0;for(const se of j.current){const xe=z.get(se);if(xe)for(const{edgeId:pe}of xe.values()){const mt=F.get(pe);mt&&(mt.selectable??re)&&C.current.add(pe)}}if(!qy(Q,j.current)){const se=jo($,j.current,!0);V(se)}if(!qy(H,C.current)){const se=jo(F,C.current);U(se)}w.setState({userSelectionRect:ee,userSelectionActive:!0,nodesSelectionActive:!1})},R=M=>{var k,$;if(M.button!==0||!I.current)return;($=(k=M.target)==null?void 0:k.releasePointerCapture)==null||$.call(k,M.pointerId);const{userSelectionRect:T}=w.getState();!m&&T&&M.target===_.current&&(O==null||O(M)),w.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:j.current.size>0}),i==null||i(M),(t||s)&&(P.current=!1),I.current=!1},N=r===!0||Array.isArray(r)&&r.includes(0);return d.jsxs("div",{className:He(["react-flow__pane",{draggable:N,dragging:y,selection:e}]),onClick:g?void 0:ah(O,_),onContextMenu:ah(L,_),onWheel:ah(A,_),onPointerEnter:g?void 0:u,onPointerDown:g?D:f,onPointerMove:g?S:f,onPointerUp:g?R:void 0,onPointerLeave:p,ref:_,style:Dd,children:[h,d.jsx(mz,{})]})}function Gp({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",Fn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):s([e])}function zk({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,nodeClickDistance:i}){const a=Me(),[l,c]=v.useState(!1),u=v.useRef();return v.useEffect(()=>{u.current=HF({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{Gp({id:f,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),v.useEffect(()=>{var f,p;if(t)(f=u.current)==null||f.destroy();else if(e.current)return(p=u.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:s,nodeClickDistance:i}),()=>{var h;(h=u.current)==null||h.destroy()}},[n,r,t,o,e,s]),l}const yz=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Bk(){const e=Me();return v.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=e.getState(),f=new Map,p=yz(i),h=s?o[0]:5,w=s?o[1]:5,m=n.direction.x*h*n.factor,b=n.direction.y*w*n.factor;for(const[,y]of c){if(!p(y))continue;let x={x:y.internals.positionAbsolute.x+m,y:y.internals.positionAbsolute.y+b};s&&(x=Ad(x,o));const{position:g,positionAbsolute:_}=nk({nodeId:y.id,nextPosition:x,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});y.position=g,y.internals.positionAbsolute=_,f.set(y.id,y)}l(f)},[])}const r0=v.createContext(null),xz=r0.Provider;r0.Consumer;const Uk=()=>v.useContext(r0),wz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),bz=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:o,connection:i}=r,{fromHandle:a,toHandle:l,isValid:c}=i,u=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:o===ui.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:u&&c}};function _z({type:e="source",position:t=ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:i,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:f,...p},h){var R,N;const w=i||null,m=e==="target",b=Me(),y=Uk(),{connectOnClick:x,noPanClassName:g,rfId:_}=ve(wz,Fe),{connectingFrom:E,connectingTo:j,clickConnecting:C,isPossibleEndHandle:P,connectionInProcess:I,clickConnectionInProcess:O,valid:L}=ve(bz(y,w,e),Fe);y||(N=(R=b.getState()).onError)==null||N.call(R,"010",Fn.error010());const A=M=>{const{defaultEdgeOptions:T,onConnect:k,hasDefaultEdges:$}=b.getState(),F={...T,...M};if($){const{edges:z,setEdges:V}=b.getState();V(pk(F,z))}k==null||k(F),a==null||a(F)},D=M=>{if(!y)return;const T=uk(M.nativeEvent);if(s&&(T&&M.button===0||!T)){const k=b.getState();Wp.onPointerDown(M.nativeEvent,{autoPanOnConnect:k.autoPanOnConnect,connectionMode:k.connectionMode,connectionRadius:k.connectionRadius,domNode:k.domNode,nodeLookup:k.nodeLookup,lib:k.lib,isTarget:m,handleId:w,nodeId:y,flowId:k.rfId,panBy:k.panBy,cancelConnection:k.cancelConnection,onConnectStart:k.onConnectStart,onConnectEnd:k.onConnectEnd,updateConnection:k.updateConnection,onConnect:A,isValidConnection:n||k.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:k.autoPanSpeed})}T?u==null||u(M):f==null||f(M)},S=M=>{const{onClickConnectStart:T,onClickConnectEnd:k,connectionClickStartHandle:$,connectionMode:F,isValidConnection:z,lib:V,rfId:U,nodeLookup:K,connection:Y}=b.getState();if(!y||!$&&!s)return;if(!$){T==null||T(M.nativeEvent,{nodeId:y,handleId:w,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:y,type:e,id:w}});return}const B=lk(M.target),W=n||z,{connection:J,isValid:ee}=Wp.isValid(M.nativeEvent,{handle:{nodeId:y,id:w,type:e},connectionMode:F,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:W,flowId:U,doc:B,lib:V,nodeLookup:K});ee&&J&&A(J);const Q=structuredClone(Y);delete Q.inProgress,Q.toPosition=Q.toHandle?Q.toHandle.position:null,k==null||k(M,Q),b.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":w,"data-nodeid":y,"data-handlepos":t,"data-id":`${_}-${y}-${w}-${e}`,className:He(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,c,{source:!m,target:m,connectable:r,connectablestart:s,connectableend:o,clickconnecting:C,connectingfrom:E,connectingto:j,valid:L,connectionindicator:r&&(!I||P)&&(I||O?o:s)}]),onMouseDown:D,onTouchStart:D,onClick:x?S:void 0,ref:h,...p,children:l})}const mi=v.memo(Lk(_z));function Sz({data:e,isConnectable:t,sourcePosition:n=ne.Bottom}){return d.jsxs(d.Fragment,{children:[e==null?void 0:e.label,d.jsx(mi,{type:"source",position:n,isConnectable:t})]})}function Ez({data:e,isConnectable:t,targetPosition:n=ne.Top,sourcePosition:r=ne.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(mi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,d.jsx(mi,{type:"source",position:r,isConnectable:t})]})}function kz(){return null}function Cz({data:e,isConnectable:t,targetPosition:n=ne.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(mi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Du={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},wx={input:Sz,default:Ez,output:Cz,group:kz};function Nz(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const jz=e=>{const{width:t,height:n,x:r,y:s}=El(e.nodeLookup,{filter:o=>!!o.selected});return{width:hn(t)?t:null,height:hn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function Pz({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Me(),{width:s,height:o,transformString:i,userSelectionActive:a}=ve(jz,Fe),l=Bk(),c=v.useRef(null);if(v.useEffect(()=>{var p;n||(p=c.current)==null||p.focus({preventScroll:!0})},[n]),zk({nodeRef:c}),a||!s||!o)return null;const u=e?p=>{const h=r.getState().nodes.filter(w=>w.selected);e(p,h)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(Du,p.key)&&(p.preventDefault(),l({direction:Du[p.key],factor:p.shiftKey?4:1}))};return d.jsx("div",{className:He(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:d.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:o}})})}const bx=typeof window<"u"?window:void 0,Tz=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Hk({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:f,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:w,panActivationKeyCode:m,zoomActivationKeyCode:b,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:g,panOnScroll:_,panOnScrollSpeed:E,panOnScrollMode:j,zoomOnDoubleClick:C,panOnDrag:P,defaultViewport:I,translateExtent:O,minZoom:L,maxZoom:A,preventScrolling:D,onSelectionContextMenu:S,noWheelClassName:R,noPanClassName:N,disableKeyboardA11y:M,onViewportChange:T,isControlledViewport:k}){const{nodesSelectionActive:$,userSelectionActive:F}=ve(Tz),z=Za(c,{target:bx}),V=Za(m,{target:bx}),U=V||P,K=V||_,Y=u&&U!==!0,B=z||F||Y;return uz({deleteKeyCode:l,multiSelectionKeyCode:w}),d.jsx(hz,{onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:g,panOnScroll:K,panOnScrollSpeed:E,panOnScrollMode:j,zoomOnDoubleClick:C,panOnDrag:!z&&U,defaultViewport:I,translateExtent:O,minZoom:L,maxZoom:A,zoomActivationKeyCode:b,preventScrolling:D,noWheelClassName:R,noPanClassName:N,onViewportChange:T,isControlledViewport:k,paneClickDistance:a,children:d.jsxs(vz,{onSelectionStart:p,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:U,isSelecting:!!B,selectionMode:f,selectionKeyPressed:z,selectionOnDrag:Y,children:[e,$&&d.jsx(Pz,{onSelectionContextMenu:S,noPanClassName:N,disableKeyboardA11y:M})]})})}Hk.displayName="FlowRenderer";const Az=v.memo(Hk),Rz=e=>t=>e?tk(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Mz(e){return ve(v.useCallback(Rz(e),[e]),Fe)}const Iz=e=>e.updateNodeInternals;function Oz(){const e=ve(Iz),[t]=v.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const o=s.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:s.target,force:!0})}),e(r)}));return v.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Dz({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Me(),o=v.useRef(null),i=v.useRef(null),a=v.useRef(e.sourcePosition),l=v.useRef(e.targetPosition),c=v.useRef(t),u=n&&!!e.internals.handleBounds;return v.useEffect(()=>{o.current&&!e.hidden&&(!u||i.current!==o.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(o.current),i.current=o.current)},[u,e.hidden]),v.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),v.useEffect(()=>{if(o.current){const f=c.current!==t,p=a.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||p||h)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function $z({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:o,onDoubleClick:i,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:f,noDragClassName:p,noPanClassName:h,disableKeyboardA11y:w,rfId:m,nodeTypes:b,nodeClickDistance:y,onError:x}){const{node:g,internals:_,isParent:E}=ve(B=>{const W=B.nodeLookup.get(e),J=B.parentLookup.has(e);return{node:W,internals:W.internals,isParent:J}},Fe);let j=g.type||"default",C=(b==null?void 0:b[j])||wx[j];C===void 0&&(x==null||x("003",Fn.error003(j)),j="default",C=wx.default);const P=!!(g.draggable||a&&typeof g.draggable>"u"),I=!!(g.selectable||l&&typeof g.selectable>"u"),O=!!(g.connectable||c&&typeof g.connectable>"u"),L=!!(g.focusable||u&&typeof g.focusable>"u"),A=Me(),D=ik(g),S=Dz({node:g,nodeType:j,hasDimensions:D,resizeObserver:f}),R=zk({nodeRef:S,disabled:g.hidden||!P,noDragClassName:p,handleSelector:g.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:y}),N=Bk();if(g.hidden)return null;const M=vr(g),T=Nz(g),k=I||P||t||n||r||s,$=n?B=>n(B,{..._.userNode}):void 0,F=r?B=>r(B,{..._.userNode}):void 0,z=s?B=>s(B,{..._.userNode}):void 0,V=o?B=>o(B,{..._.userNode}):void 0,U=i?B=>i(B,{..._.userNode}):void 0,K=B=>{const{selectNodesOnDrag:W,nodeDragThreshold:J}=A.getState();I&&(!W||!P||J>0)&&Gp({id:e,store:A,nodeRef:S}),t&&t(B,{..._.userNode})},Y=B=>{if(!(ck(B.nativeEvent)||w))if(QE.includes(B.key)&&I){const W=B.key==="Escape";Gp({id:e,store:A,unselect:W,nodeRef:S})}else P&&g.selected&&Object.prototype.hasOwnProperty.call(Du,B.key)&&(B.preventDefault(),A.setState({ariaLiveMessage:`Moved selected node ${B.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),N({direction:Du[B.key],factor:B.shiftKey?4:1}))};return d.jsx("div",{className:He(["react-flow__node",`react-flow__node-${j}`,{[h]:P},g.className,{selected:g.selected,selectable:I,parent:E,draggable:P,dragging:R}]),ref:S,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:k?"all":"none",visibility:D?"visible":"hidden",...g.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:$,onMouseMove:F,onMouseLeave:z,onContextMenu:V,onClick:K,onDoubleClick:U,onKeyDown:L?Y:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":w?void 0:`${Rk}-${m}`,"aria-label":g.ariaLabel,children:d.jsx(xz,{value:e,children:d.jsx(C,{id:e,data:g.data,type:j,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:g.selected??!1,selectable:I,draggable:P,deletable:g.deletable??!0,isConnectable:O,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:R,dragHandle:g.dragHandle,zIndex:_.z,parentId:g.parentId,...M})})})}const Lz=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Vk(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:o}=ve(Lz,Fe),i=Mz(e.onlyRenderVisibleElements),a=Oz();return d.jsx("div",{className:"react-flow__nodes",style:Dd,children:i.map(l=>d.jsx($z,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}Vk.displayName="NodeRenderer";const Fz=v.memo(Vk);function zz(e){return ve(v.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const o=n.nodeLookup.get(s.source),i=n.nodeLookup.get(s.target);o&&i&&jF({sourceNode:o,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Fe)}const Bz=({color:e="none",strokeWidth:t=1})=>d.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Uz=({color:e="none",strokeWidth:t=1})=>d.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),_x={[Xa.Arrow]:Bz,[Xa.ArrowClosed]:Uz};function Hz(e){const t=Me();return v.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(_x,e)?_x[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",Fn.error009(e)),null)},[e])}const Vz=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const l=Hz(t);return l?d.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:d.jsx(l,{color:n,strokeWidth:i})}):null},Wk=({defaultColor:e,rfId:t})=>{const n=ve(o=>o.edges),r=ve(o=>o.defaultEdgeOptions),s=v.useMemo(()=>OF(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:s.map(o=>d.jsx(Vz,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Wk.displayName="MarkerDefinitions";var Wz=v.memo(Wk);function Gk({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[f,p]=v.useState({x:1,y:0,width:0,height:0}),h=He(["react-flow__edge-textwrapper",c]),w=v.useRef(null);return v.useEffect(()=>{if(w.current){const m=w.current.getBBox();p({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?d.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...u,children:[s&&d.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),d.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:w,style:r,children:n}),l]}):null}Gk.displayName="EdgeText";const Gz=v.memo(Gk);function $d({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...u,d:e,fill:"none",className:He(["react-flow__edge-path",u.className])}),c&&d.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&hn(t)&&hn(n)?d.jsx(Gz,{x:t,y:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Sx({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===ne.Left||e===ne.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Kk({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:s,targetPosition:o=ne.Top}){const[i,a]=Sx({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,c]=Sx({pos:o,x1:r,y1:s,x2:e,y2:t}),[u,f,p,h]=dk({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${a} ${l},${c} ${r},${s}`,u,f,p,h]}function Yk(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i,targetPosition:a,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:w,markerEnd:m,markerStart:b,interactionWidth:y})=>{const[x,g,_]=Kk({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:a}),E=e.isInternal?void 0:t;return d.jsx($d,{id:E,path:x,labelX:g,labelY:_,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:w,markerEnd:m,markerStart:b,interactionWidth:y})})}const Kz=Yk({isInternal:!1}),qk=Yk({isInternal:!0});Kz.displayName="SimpleBezierEdge";qk.displayName="SimpleBezierEdgeInternal";function Xk(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:p,sourcePosition:h=ne.Bottom,targetPosition:w=ne.Top,markerEnd:m,markerStart:b,pathOptions:y,interactionWidth:x})=>{const[g,_,E]=Up({sourceX:n,sourceY:r,sourcePosition:h,targetX:s,targetY:o,targetPosition:w,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset}),j=e.isInternal?void 0:t;return d.jsx($d,{id:j,path:g,labelX:_,labelY:E,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:b,interactionWidth:x})})}const Qk=Xk({isInternal:!1}),Jk=Xk({isInternal:!0});Qk.displayName="SmoothStepEdge";Jk.displayName="SmoothStepEdgeInternal";function Zk(e){return v.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return d.jsx(Qk,{...n,id:r,pathOptions:v.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const Yz=Zk({isInternal:!1}),eC=Zk({isInternal:!0});Yz.displayName="StepEdge";eC.displayName="StepEdgeInternal";function tC(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:w,interactionWidth:m})=>{const[b,y,x]=mk({sourceX:n,sourceY:r,targetX:s,targetY:o}),g=e.isInternal?void 0:t;return d.jsx($d,{id:g,path:b,labelX:y,labelY:x,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:w,interactionWidth:m})})}const qz=tC({isInternal:!1}),nC=tC({isInternal:!0});qz.displayName="StraightEdge";nC.displayName="StraightEdgeInternal";function rC(e){return v.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i=ne.Bottom,targetPosition:a=ne.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:w,markerEnd:m,markerStart:b,pathOptions:y,interactionWidth:x})=>{const[g,_,E]=fk({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:a,curvature:y==null?void 0:y.curvature}),j=e.isInternal?void 0:t;return d.jsx($d,{id:j,path:g,labelX:_,labelY:E,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:w,markerEnd:m,markerStart:b,interactionWidth:x})})}const Xz=rC({isInternal:!1}),sC=rC({isInternal:!0});Xz.displayName="BezierEdge";sC.displayName="BezierEdgeInternal";const Ex={default:sC,straight:nC,step:eC,smoothstep:Jk,simplebezier:qk},kx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Qz=(e,t,n)=>n===ne.Left?e-t:n===ne.Right?e+t:e,Jz=(e,t,n)=>n===ne.Top?e-t:n===ne.Bottom?e+t:e,Cx="react-flow__edgeupdater";function Nx({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:i,type:a}){return d.jsx("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:i,className:He([Cx,`${Cx}-${a}`]),cx:Qz(t,r,e),cy:Jz(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Zz({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:o,targetY:i,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:f,setReconnecting:p,setUpdateHover:h}){const w=Me(),m=(_,E)=>{if(_.button!==0)return;const{autoPanOnConnect:j,domNode:C,isValidConnection:P,connectionMode:I,connectionRadius:O,lib:L,onConnectStart:A,onConnectEnd:D,cancelConnection:S,nodeLookup:R,rfId:N,panBy:M,updateConnection:T}=w.getState(),k=E.type==="target";p(!0),u==null||u(_,n,E.type);const $=(z,V)=>{p(!1),f==null||f(z,n,E.type,V)},F=z=>c==null?void 0:c(n,z);Wp.onPointerDown(_.nativeEvent,{autoPanOnConnect:j,connectionMode:I,connectionRadius:O,domNode:C,handleId:E.id,nodeId:E.nodeId,nodeLookup:R,isTarget:k,edgeUpdaterType:E.type,lib:L,flowId:N,cancelConnection:S,panBy:M,isValidConnection:P,onConnect:F,onConnectStart:A,onConnectEnd:D,onReconnectEnd:$,updateConnection:T,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},b=_=>m(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=_=>m(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>h(!0),g=()=>h(!1);return d.jsxs(d.Fragment,{children:[(e===!0||e==="source")&&d.jsx(Nx,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:b,onMouseEnter:x,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&d.jsx(Nx,{position:l,centerX:o,centerY:i,radius:t,onMouseDown:y,onMouseEnter:x,onMouseOut:g,type:"target"})]})}function e8({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:o,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,rfId:w,edgeTypes:m,noPanClassName:b,onError:y,disableKeyboardA11y:x}){let g=ve(H=>H.edgeLookup.get(e));const _=ve(H=>H.defaultEdgeOptions);g=_?{..._,...g}:g;let E=g.type||"default",j=(m==null?void 0:m[E])||Ex[E];j===void 0&&(y==null||y("011",Fn.error011(E)),E="default",j=Ex.default);const C=!!(g.focusable||t&&typeof g.focusable>"u"),P=typeof f<"u"&&(g.reconnectable||n&&typeof g.reconnectable>"u"),I=!!(g.selectable||r&&typeof g.selectable>"u"),O=v.useRef(null),[L,A]=v.useState(!1),[D,S]=v.useState(!1),R=Me(),{zIndex:N,sourceX:M,sourceY:T,targetX:k,targetY:$,sourcePosition:F,targetPosition:z}=ve(v.useCallback(H=>{const re=H.nodeLookup.get(g.source),se=H.nodeLookup.get(g.target);if(!re||!se)return{zIndex:g.zIndex,...kx};const xe=IF({id:e,sourceNode:re,targetNode:se,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:H.connectionMode,onError:y});return{zIndex:NF({selected:g.selected,zIndex:g.zIndex,sourceNode:re,targetNode:se,elevateOnSelect:H.elevateEdgesOnSelect}),...xe||kx}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),Fe),V=v.useMemo(()=>g.markerStart?`url('#${Hp(g.markerStart,w)}')`:void 0,[g.markerStart,w]),U=v.useMemo(()=>g.markerEnd?`url('#${Hp(g.markerEnd,w)}')`:void 0,[g.markerEnd,w]);if(g.hidden||M===null||T===null||k===null||$===null)return null;const K=H=>{var pe;const{addSelectedEdges:re,unselectNodesAndEdges:se,multiSelectionActive:xe}=R.getState();I&&(R.setState({nodesSelectionActive:!1}),g.selected&&xe?(se({nodes:[],edges:[g]}),(pe=O.current)==null||pe.blur()):re([e])),s&&s(H,g)},Y=o?H=>{o(H,{...g})}:void 0,B=i?H=>{i(H,{...g})}:void 0,W=a?H=>{a(H,{...g})}:void 0,J=l?H=>{l(H,{...g})}:void 0,ee=c?H=>{c(H,{...g})}:void 0,Q=H=>{var re;if(!x&&QE.includes(H.key)&&I){const{unselectNodesAndEdges:se,addSelectedEdges:xe}=R.getState();H.key==="Escape"?((re=O.current)==null||re.blur(),se({edges:[g]})):xe([e])}};return d.jsx("svg",{style:{zIndex:N},children:d.jsxs("g",{className:He(["react-flow__edge",`react-flow__edge-${E}`,g.className,b,{selected:g.selected,animated:g.animated,inactive:!I&&!s,updating:L,selectable:I}]),onClick:K,onDoubleClick:Y,onContextMenu:B,onMouseEnter:W,onMouseMove:J,onMouseLeave:ee,onKeyDown:C?Q:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":C?`${Mk}-${w}`:void 0,ref:O,children:[!D&&d.jsx(j,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:I,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:M,sourceY:T,targetX:k,targetY:$,sourcePosition:F,targetPosition:z,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:V,markerEnd:U,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),P&&d.jsx(Zz,{edge:g,isReconnectable:P,reconnectRadius:u,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,sourceX:M,sourceY:T,targetX:k,targetY:$,sourcePosition:F,targetPosition:z,setUpdateHover:A,setReconnecting:S})]})})}const t8=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function oC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:h,onReconnectEnd:w,disableKeyboardA11y:m}){const{edgesFocusable:b,edgesReconnectable:y,elementsSelectable:x,onError:g}=ve(t8,Fe),_=zz(t);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(Wz,{defaultColor:e,rfId:n}),_.map(E=>d.jsx(e8,{id:E,edgesFocusable:b,edgesReconnectable:y,elementsSelectable:x,noPanClassName:s,onReconnect:o,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:f,onDoubleClick:p,onReconnectStart:h,onReconnectEnd:w,rfId:n,onError:g,edgeTypes:r,disableKeyboardA11y:m},E))]})}oC.displayName="EdgeRenderer";const n8=v.memo(oC),r8=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function s8({children:e}){const t=ve(r8);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function o8(e){const t=n0(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const i8=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function a8(e){const t=ve(i8),n=Me();return v.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function l8(e){return e.connection.inProgress?{...e.connection,to:kl(e.connection.to,e.transform)}:{...e.connection}}function c8(e){return l8}function u8(e){const t=c8();return ve(t,Fe)}const d8=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function f8({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:o,height:i,isValid:a,inProgress:l}=ve(d8,Fe);return!(o&&s&&l)?null:d.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:He(["react-flow__connection",ZE(a)]),children:d.jsx(iC,{style:t,type:n,CustomComponent:r,isValid:a})})})}const iC=({style:e,type:t=Lr.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:o,fromNode:i,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:f,toPosition:p}=u8();if(!s)return;if(n)return d.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:p,connectionStatus:ZE(r),toNode:u,toHandle:f});let h="";const w={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case Lr.Bezier:[h]=fk(w);break;case Lr.SimpleBezier:[h]=Kk(w);break;case Lr.Step:[h]=Up({...w,borderRadius:0});break;case Lr.SmoothStep:[h]=Up(w);break;default:[h]=mk(w)}return d.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};iC.displayName="ConnectionLine";const h8={};function jx(e=h8){v.useRef(e),Me(),v.useEffect(()=>{},[e])}function p8(){Me(),v.useRef(!1),v.useEffect(()=>{},[])}function aC({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:h,connectionLineType:w,connectionLineStyle:m,connectionLineComponent:b,connectionLineContainerStyle:y,selectionKeyCode:x,selectionOnDrag:g,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:j,zoomActivationKeyCode:C,deleteKeyCode:P,onlyRenderVisibleElements:I,elementsSelectable:O,defaultViewport:L,translateExtent:A,minZoom:D,maxZoom:S,preventScrolling:R,defaultMarkerColor:N,zoomOnScroll:M,zoomOnPinch:T,panOnScroll:k,panOnScrollSpeed:$,panOnScrollMode:F,zoomOnDoubleClick:z,panOnDrag:V,onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:B,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:ee,nodeClickDistance:Q,onEdgeContextMenu:H,onEdgeMouseEnter:re,onEdgeMouseMove:se,onEdgeMouseLeave:xe,reconnectRadius:pe,onReconnect:mt,onReconnectStart:Hn,onReconnectEnd:bn,noDragClassName:yr,noWheelClassName:Vn,noPanClassName:xr,disableKeyboardA11y:Ct,nodeExtent:Ti,rfId:wr,viewport:Ve,onViewportChange:Zt}){return jx(e),jx(t),p8(),o8(n),a8(Ve),d.jsx(Az,{onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:B,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:ee,deleteKeyCode:P,selectionKeyCode:x,selectionOnDrag:g,selectionMode:_,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:E,panActivationKeyCode:j,zoomActivationKeyCode:C,elementsSelectable:O,zoomOnScroll:M,zoomOnPinch:T,zoomOnDoubleClick:z,panOnScroll:k,panOnScrollSpeed:$,panOnScrollMode:F,panOnDrag:V,defaultViewport:L,translateExtent:A,minZoom:D,maxZoom:S,onSelectionContextMenu:f,preventScrolling:R,noDragClassName:yr,noWheelClassName:Vn,noPanClassName:xr,disableKeyboardA11y:Ct,onViewportChange:Zt,isControlledViewport:!!Ve,children:d.jsxs(s8,{children:[d.jsx(n8,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:i,onReconnect:mt,onReconnectStart:Hn,onReconnectEnd:bn,onlyRenderVisibleElements:I,onEdgeContextMenu:H,onEdgeMouseEnter:re,onEdgeMouseMove:se,onEdgeMouseLeave:xe,reconnectRadius:pe,defaultMarkerColor:N,noPanClassName:xr,disableKeyboardA11y:Ct,rfId:wr}),d.jsx(f8,{style:m,type:w,component:b,containerStyle:y}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(Fz,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:Q,onlyRenderVisibleElements:I,noPanClassName:xr,noDragClassName:yr,disableKeyboardA11y:Ct,nodeExtent:Ti,rfId:wr}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}aC.displayName="GraphView";const m8=v.memo(aC),Px=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:f}={})=>{const p=new Map,h=new Map,w=new Map,m=new Map,b=r??t??[],y=n??e??[],x=u??[0,0],g=f??Ya;vk(w,m,b);const _=Vp(y,p,h,{nodeOrigin:x,nodeExtent:g,elevateNodesOnSelect:!1});let E=[0,0,1];if(i&&s&&o){const j=El(p,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:C,y:P,zoom:I}=Xg(j,s,o,l,c,(a==null?void 0:a.padding)??.1);E=[C,P,I]}return{rfId:"1",width:0,height:0,transform:E,nodes:y,nodesInitialized:_,nodeLookup:p,parentLookup:h,edges:b,edgeLookup:m,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Ya,nodeExtent:g,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ui.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:a,fitViewResolver:null,connection:{...JE},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:_F,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},g8=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:f})=>D6((p,h)=>{async function w(){const{nodeLookup:m,panZoom:b,fitViewOptions:y,fitViewResolver:x,width:g,height:_,minZoom:E,maxZoom:j}=h();b&&(await wF({nodes:m,width:g,height:_,panZoom:b,minZoom:E,maxZoom:j},y),x==null||x.resolve(!0),p({fitViewResolver:null}))}return{...Px({nodes:e,edges:t,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:m=>{const{nodeLookup:b,parentLookup:y,nodeOrigin:x,elevateNodesOnSelect:g,fitViewQueued:_}=h(),E=Vp(m,b,y,{nodeOrigin:x,nodeExtent:f,elevateNodesOnSelect:g,checkEquality:!0});_&&E?(w(),p({nodes:m,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:m,nodesInitialized:E})},setEdges:m=>{const{connectionLookup:b,edgeLookup:y}=h();vk(b,y,m),p({edges:m})},setDefaultNodesAndEdges:(m,b)=>{if(m){const{setNodes:y}=h();y(m),p({hasDefaultNodes:!0})}if(b){const{setEdges:y}=h();y(b),p({hasDefaultEdges:!0})}},updateNodeInternals:m=>{const{triggerNodeChanges:b,nodeLookup:y,parentLookup:x,domNode:g,nodeOrigin:_,nodeExtent:E,debug:j,fitViewQueued:C}=h(),{changes:P,updatedInternals:I}=zF(m,y,x,g,_,E);I&&($F(y,x,{nodeOrigin:_,nodeExtent:E}),C?(w(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),(P==null?void 0:P.length)>0&&(j&&console.log("React Flow: trigger node changes",P),b==null||b(P)))},updateNodePositions:(m,b=!1)=>{const y=[],x=[],{nodeLookup:g,triggerNodeChanges:_}=h();for(const[E,j]of m){const C=g.get(E),P=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(j!=null&&j.position)),I={id:E,type:"position",position:P?{x:Math.max(0,j.position.x),y:Math.max(0,j.position.y)}:j.position,dragging:b};P&&C.parentId&&y.push({id:E,parentId:C.parentId,rect:{...j.internals.positionAbsolute,width:j.measured.width??0,height:j.measured.height??0}}),x.push(I)}if(y.length>0){const{parentLookup:E,nodeOrigin:j}=h(),C=t0(y,g,E,j);x.push(...C)}_(x)},triggerNodeChanges:m=>{const{onNodesChange:b,setNodes:y,nodes:x,hasDefaultNodes:g,debug:_}=h();if(m!=null&&m.length){if(g){const E=Dk(m,x);y(E)}_&&console.log("React Flow: trigger node changes",m),b==null||b(m)}},triggerEdgeChanges:m=>{const{onEdgesChange:b,setEdges:y,edges:x,hasDefaultEdges:g,debug:_}=h();if(m!=null&&m.length){if(g){const E=$k(m,x);y(E)}_&&console.log("React Flow: trigger edge changes",m),b==null||b(m)}},addSelectedNodes:m=>{const{multiSelectionActive:b,edgeLookup:y,nodeLookup:x,triggerNodeChanges:g,triggerEdgeChanges:_}=h();if(b){const E=m.map(j=>vs(j,!0));g(E);return}g(jo(x,new Set([...m]),!0)),_(jo(y))},addSelectedEdges:m=>{const{multiSelectionActive:b,edgeLookup:y,nodeLookup:x,triggerNodeChanges:g,triggerEdgeChanges:_}=h();if(b){const E=m.map(j=>vs(j,!0));_(E);return}_(jo(y,new Set([...m]))),g(jo(x,new Set,!0))},unselectNodesAndEdges:({nodes:m,edges:b}={})=>{const{edges:y,nodes:x,nodeLookup:g,triggerNodeChanges:_,triggerEdgeChanges:E}=h(),j=m||x,C=b||y,P=j.map(O=>{const L=g.get(O.id);return L&&(L.selected=!1),vs(O.id,!1)}),I=C.map(O=>vs(O.id,!1));_(P),E(I)},setMinZoom:m=>{const{panZoom:b,maxZoom:y}=h();b==null||b.setScaleExtent([m,y]),p({minZoom:m})},setMaxZoom:m=>{const{panZoom:b,minZoom:y}=h();b==null||b.setScaleExtent([y,m]),p({maxZoom:m})},setTranslateExtent:m=>{var b;(b=h().panZoom)==null||b.setTranslateExtent(m),p({translateExtent:m})},setPaneClickDistance:m=>{var b;(b=h().panZoom)==null||b.setClickDistance(m)},resetSelectedElements:()=>{const{edges:m,nodes:b,triggerNodeChanges:y,triggerEdgeChanges:x,elementsSelectable:g}=h();if(!g)return;const _=b.reduce((j,C)=>C.selected?[...j,vs(C.id,!1)]:j,[]),E=m.reduce((j,C)=>C.selected?[...j,vs(C.id,!1)]:j,[]);y(_),x(E)},setNodeExtent:m=>{const{nodes:b,nodeLookup:y,parentLookup:x,nodeOrigin:g,elevateNodesOnSelect:_,nodeExtent:E}=h();m[0][0]===E[0][0]&&m[0][1]===E[0][1]&&m[1][0]===E[1][0]&&m[1][1]===E[1][1]||(Vp(b,y,x,{nodeOrigin:g,nodeExtent:m,elevateNodesOnSelect:_,checkEquality:!1}),p({nodeExtent:m}))},panBy:m=>{const{transform:b,width:y,height:x,panZoom:g,translateExtent:_}=h();return BF({delta:m,panZoom:g,transform:b,translateExtent:_,width:y,height:x})},cancelConnection:()=>{p({connection:{...JE}})},updateConnection:m=>{p({connection:m})},reset:()=>p({...Px()})}},Object.is);function v8({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:o,initialMinZoom:i,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:u,nodeExtent:f,children:p}){const[h]=v.useState(()=>g8({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:c,minZoom:i,maxZoom:a,fitViewOptions:l,nodeOrigin:u,nodeExtent:f}));return d.jsx($6,{value:h,children:d.jsx(iz,{children:p})})}function y8({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:o,height:i,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:p}){return v.useContext(Id)?d.jsx(d.Fragment,{children:e}):d.jsx(v8,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:o,initialHeight:i,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:f,nodeExtent:p,children:e})}const x8={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function w8({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o,edgeTypes:i,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:p,onConnect:h,onConnectStart:w,onConnectEnd:m,onClickConnectStart:b,onClickConnectEnd:y,onNodeMouseEnter:x,onNodeMouseMove:g,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:j,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:I,onNodesDelete:O,onEdgesDelete:L,onDelete:A,onSelectionChange:D,onSelectionDragStart:S,onSelectionDrag:R,onSelectionDragStop:N,onSelectionContextMenu:M,onSelectionStart:T,onSelectionEnd:k,onBeforeDelete:$,connectionMode:F,connectionLineType:z=Lr.Bezier,connectionLineStyle:V,connectionLineComponent:U,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:W=!1,selectionMode:J=qa.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:Q=Ou()?"Meta":"Control",zoomActivationKeyCode:H=Ou()?"Meta":"Control",snapToGrid:re,snapGrid:se,onlyRenderVisibleElements:xe=!1,selectNodesOnDrag:pe,nodesDraggable:mt,nodesConnectable:Hn,nodesFocusable:bn,nodeOrigin:yr=Ik,edgesFocusable:Vn,edgesReconnectable:xr,elementsSelectable:Ct=!0,defaultViewport:Ti=X6,minZoom:wr=.5,maxZoom:Ve=2,translateExtent:Zt=Ya,preventScrolling:tf=!0,nodeExtent:Ai,defaultMarkerColor:so="#b1b1b7",zoomOnScroll:nf=!0,zoomOnPinch:jl=!0,panOnScroll:Ri=!1,panOnScrollSpeed:br=.5,panOnScrollMode:Pl=Is.Free,zoomOnDoubleClick:_r=!0,panOnDrag:rf=!0,onPaneClick:sf,onPaneMouseEnter:Tl,onPaneMouseMove:Al,onPaneMouseLeave:of,onPaneScroll:Mi,onPaneContextMenu:_n,paneClickDistance:Rl=0,nodeClickDistance:ae=0,children:_e,onReconnect:ke,onReconnectStart:Nt,onReconnectEnd:jt,onEdgeContextMenu:Sn,onEdgeDoubleClick:Wn,onEdgeMouseEnter:Pt,onEdgeMouseMove:En,onEdgeMouseLeave:GN,reconnectRadius:KN=10,onNodesChange:YN,onEdgesChange:qN,noDragClassName:XN="nodrag",noWheelClassName:QN="nowheel",noPanClassName:h0="nopan",fitView:p0,fitViewOptions:m0,connectOnClick:JN,attributionPosition:ZN,proOptions:ej,defaultEdgeOptions:tj,elevateNodesOnSelect:nj,elevateEdgesOnSelect:rj,disableKeyboardA11y:g0=!1,autoPanOnConnect:sj,autoPanOnNodeDrag:oj,autoPanSpeed:ij,connectionRadius:aj,isValidConnection:lj,onError:cj,style:uj,id:v0,nodeDragThreshold:dj,viewport:fj,onViewportChange:hj,width:pj,height:mj,colorMode:gj="light",debug:vj,onScroll:Ml,...yj},xj){const af=v0||"1",wj=ez(gj),bj=v.useCallback(y0=>{y0.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ml==null||Ml(y0)},[Ml]);return d.jsx("div",{"data-testid":"rf__wrapper",...yj,onScroll:bj,style:{...uj,...x8},ref:xj,className:He(["react-flow",s,wj]),id:v0,children:d.jsxs(y8,{nodes:e,edges:t,width:pj,height:mj,fitView:p0,fitViewOptions:m0,minZoom:wr,maxZoom:Ve,nodeOrigin:yr,nodeExtent:Ai,children:[d.jsx(m8,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:g,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:j,nodeTypes:o,edgeTypes:i,connectionLineType:z,connectionLineStyle:V,connectionLineComponent:U,connectionLineContainerStyle:K,selectionKeyCode:B,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:Q,panActivationKeyCode:ee,zoomActivationKeyCode:H,onlyRenderVisibleElements:xe,defaultViewport:Ti,translateExtent:Zt,minZoom:wr,maxZoom:Ve,preventScrolling:tf,zoomOnScroll:nf,zoomOnPinch:jl,zoomOnDoubleClick:_r,panOnScroll:Ri,panOnScrollSpeed:br,panOnScrollMode:Pl,panOnDrag:rf,onPaneClick:sf,onPaneMouseEnter:Tl,onPaneMouseMove:Al,onPaneMouseLeave:of,onPaneScroll:Mi,onPaneContextMenu:_n,paneClickDistance:Rl,nodeClickDistance:ae,onSelectionContextMenu:M,onSelectionStart:T,onSelectionEnd:k,onReconnect:ke,onReconnectStart:Nt,onReconnectEnd:jt,onEdgeContextMenu:Sn,onEdgeDoubleClick:Wn,onEdgeMouseEnter:Pt,onEdgeMouseMove:En,onEdgeMouseLeave:GN,reconnectRadius:KN,defaultMarkerColor:so,noDragClassName:XN,noWheelClassName:QN,noPanClassName:h0,rfId:af,disableKeyboardA11y:g0,nodeExtent:Ai,viewport:fj,onViewportChange:hj}),d.jsx(Z6,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:w,onConnectEnd:m,onClickConnectStart:b,onClickConnectEnd:y,nodesDraggable:mt,nodesConnectable:Hn,nodesFocusable:bn,edgesFocusable:Vn,edgesReconnectable:xr,elementsSelectable:Ct,elevateNodesOnSelect:nj,elevateEdgesOnSelect:rj,minZoom:wr,maxZoom:Ve,nodeExtent:Ai,onNodesChange:YN,onEdgesChange:qN,snapToGrid:re,snapGrid:se,connectionMode:F,translateExtent:Zt,connectOnClick:JN,defaultEdgeOptions:tj,fitView:p0,fitViewOptions:m0,onNodesDelete:O,onEdgesDelete:L,onDelete:A,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:I,onSelectionDrag:R,onSelectionDragStart:S,onSelectionDragStop:N,onMove:u,onMoveStart:f,onMoveEnd:p,noPanClassName:h0,nodeOrigin:yr,rfId:af,autoPanOnConnect:sj,autoPanOnNodeDrag:oj,autoPanSpeed:ij,onError:cj,connectionRadius:aj,isValidConnection:lj,selectNodesOnDrag:pe,nodeDragThreshold:dj,onBeforeDelete:$,paneClickDistance:Rl,debug:vj}),d.jsx(q6,{onSelectionChange:D}),_e,d.jsx(V6,{proOptions:ej,position:ZN}),d.jsx(U6,{rfId:af,disableKeyboardA11y:g0})]})})}var b8=Lk(w8);function _8(e){const[t,n]=v.useState(e),r=v.useCallback(s=>n(o=>Dk(s,o)),[]);return[t,n,r]}function S8(e){const[t,n]=v.useState(e),r=v.useCallback(s=>n(o=>$k(s,o)),[]);return[t,n,r]}function E8({dimensions:e,lineWidth:t,variant:n,className:r}){return d.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:He(["react-flow__background-pattern",n,r])})}function k8({radius:e,className:t}){return d.jsx("circle",{cx:e,cy:e,r:e,className:He(["react-flow__background-pattern","dots",t])})}var ir;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ir||(ir={}));const C8={[ir.Dots]:1,[ir.Lines]:1,[ir.Cross]:6},N8=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function lC({id:e,variant:t=ir.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=0,color:i,bgColor:a,style:l,className:c,patternClassName:u}){const f=v.useRef(null),{transform:p,patternId:h}=ve(N8,Fe),w=r||C8[t],m=t===ir.Dots,b=t===ir.Cross,y=Array.isArray(n)?n:[n,n],x=[y[0]*p[2]||1,y[1]*p[2]||1],g=w*p[2],_=Array.isArray(o)?o:[o,o],E=b?[g,g]:x,j=[_[0]*p[2]||1+E[0]/2,_[1]*p[2]||1+E[1]/2],C=`${h}${e||""}`;return d.jsxs("svg",{className:He(["react-flow__background",c]),style:{...l,...Dd,"--xy-background-color-props":a,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[d.jsx("pattern",{id:C,x:p[0]%x[0],y:p[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`,children:m?d.jsx(k8,{radius:g/2,className:u}):d.jsx(E8,{dimensions:E,lineWidth:s,variant:t,className:u})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}lC.displayName="Background";const j8=v.memo(lC);function P8(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function T8(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function A8(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function R8(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function M8(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function vc({children:e,className:t,...n}){return d.jsx("button",{type:"button",className:He(["react-flow__controls-button",t]),...n,children:e})}const I8=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function cC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:i,onFitView:a,onInteractiveChange:l,className:c,children:u,position:f="bottom-left",orientation:p="vertical","aria-label":h="React Flow controls"}){const w=Me(),{isInteractive:m,minZoomReached:b,maxZoomReached:y}=ve(I8,Fe),{zoomIn:x,zoomOut:g,fitView:_}=n0(),E=()=>{x(),o==null||o()},j=()=>{g(),i==null||i()},C=()=>{_(s),a==null||a()},P=()=>{w.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l==null||l(!m)},I=p==="horizontal"?"horizontal":"vertical";return d.jsxs(Od,{className:He(["react-flow__controls",I,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&d.jsxs(d.Fragment,{children:[d.jsx(vc,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:d.jsx(P8,{})}),d.jsx(vc,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b,children:d.jsx(T8,{})})]}),n&&d.jsx(vc,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:d.jsx(A8,{})}),r&&d.jsx(vc,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:m?d.jsx(M8,{}):d.jsx(R8,{})}),u]})}cC.displayName="Controls";const O8=v.memo(cC);function D8({id:e,x:t,y:n,width:r,height:s,style:o,color:i,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:f,selected:p,onClick:h}){const{background:w,backgroundColor:m}=o||{},b=i||w||m;return d.jsx("rect",{className:He(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:u,ry:u,width:r,height:s,style:{fill:b,stroke:a,strokeWidth:l},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const $8=v.memo(D8),L8=e=>e.nodes.map(t=>t.id),lh=e=>e instanceof Function?e:()=>e;function F8({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:o=$8,onClick:i}){const a=ve(L8,Fe),l=lh(t),c=lh(e),u=lh(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:a.map(p=>d.jsx(B8,{id:p,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:o,onClick:i,shapeRendering:f},p))})}function z8({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:a,onClick:l}){const{node:c,x:u,y:f,width:p,height:h}=ve(w=>{const{internals:m}=w.nodeLookup.get(e),b=m.userNode,{x:y,y:x}=m.positionAbsolute,{width:g,height:_}=vr(b);return{node:b,x:y,y:x,width:g,height:_}},Fe);return!c||c.hidden||!ik(c)?null:d.jsx(a,{x:u,y:f,width:p,height:h,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:o,shapeRendering:i,onClick:l,id:c.id})}const B8=v.memo(z8);var U8=v.memo(F8);const H8=200,V8=150,W8=e=>!e.hidden,G8=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?ok(El(e.nodeLookup,{filter:W8}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},K8="react-flow__minimap-desc";function uC({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:f,position:p="bottom-right",onClick:h,onNodeClick:w,pannable:m=!1,zoomable:b=!1,ariaLabel:y="React Flow mini map",inversePan:x,zoomStep:g=10,offsetScale:_=5}){const E=Me(),j=v.useRef(null),{boundingRect:C,viewBB:P,rfId:I,panZoom:O,translateExtent:L,flowWidth:A,flowHeight:D}=ve(G8,Fe),S=(e==null?void 0:e.width)??H8,R=(e==null?void 0:e.height)??V8,N=C.width/S,M=C.height/R,T=Math.max(N,M),k=T*S,$=T*R,F=_*T,z=C.x-(k-C.width)/2-F,V=C.y-($-C.height)/2-F,U=k+F*2,K=$+F*2,Y=`${K8}-${I}`,B=v.useRef(0),W=v.useRef();B.current=T,v.useEffect(()=>{if(j.current&&O)return W.current=qF({domNode:j.current,panZoom:O,getTransform:()=>E.getState().transform,getViewScale:()=>B.current}),()=>{var Q;(Q=W.current)==null||Q.destroy()}},[O]),v.useEffect(()=>{var Q;(Q=W.current)==null||Q.update({translateExtent:L,width:A,height:D,inversePan:x,pannable:m,zoomStep:g,zoomable:b})},[m,b,x,g,L,A,D]);const J=h?Q=>{var se;const[H,re]=((se=W.current)==null?void 0:se.pointer(Q))||[0,0];h(Q,{x:H,y:re})}:void 0,ee=w?v.useCallback((Q,H)=>{const re=E.getState().nodeLookup.get(H).internals.userNode;w(Q,re)},[]):void 0;return d.jsx(Od,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*T:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:He(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:S,height:R,viewBox:`${z} ${V} ${U} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Y,ref:j,onClick:J,children:[y&&d.jsx("title",{id:Y,children:y}),d.jsx(U8,{onClick:ee,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:a}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-F},${V-F}h${U+F*2}v${K+F*2}h${-U-F*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uC.displayName="MiniMap";const Y8=v.memo(uC);function q8({nodeId:e,position:t,variant:n=pa.Handle,className:r,style:s={},children:o,color:i,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:p,shouldResize:h,onResizeStart:w,onResize:m,onResizeEnd:b}){const y=Uk(),x=typeof e=="string"?e:y,g=Me(),_=v.useRef(null),E=n===pa.Line?"right":"bottom-right",j=t??E,C=v.useRef(null);v.useEffect(()=>{if(!(!_.current||!x))return C.current||(C.current=u6({domNode:_.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:L,transform:A,snapGrid:D,snapToGrid:S,nodeOrigin:R,domNode:N}=g.getState();return{nodeLookup:L,transform:A,snapGrid:D,snapToGrid:S,nodeOrigin:R,paneDomNode:N}},onChange:(L,A)=>{const{triggerNodeChanges:D,nodeLookup:S,parentLookup:R,nodeOrigin:N}=g.getState(),M=[],T={x:L.x,y:L.y},k=S.get(x);if(k&&k.expandParent&&k.parentId){const $=k.origin??N,F=L.width??k.measured.width??0,z=L.height??k.measured.height??0,V={id:k.id,parentId:k.parentId,rect:{width:F,height:z,...ak({x:L.x??k.position.x,y:L.y??k.position.y},{width:F,height:z},k.parentId,S,$)}},U=t0([V],S,R,N);M.push(...U),T.x=L.x?Math.max($[0]*F,L.x):void 0,T.y=L.y?Math.max($[1]*z,L.y):void 0}if(T.x!==void 0&&T.y!==void 0){const $={id:x,type:"position",position:{...T}};M.push($)}if(L.width!==void 0&&L.height!==void 0){const F={id:x,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};M.push(F)}for(const $ of A){const F={...$,type:"position"};M.push(F)}D(M)},onEnd:({width:L,height:A})=>{const D={id:x,type:"dimensions",resizing:!1,dimensions:{width:L,height:A}};g.getState().triggerNodeChanges([D])}})),C.current.update({controlPosition:j,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:f,resizeDirection:p,onResizeStart:w,onResize:m,onResizeEnd:b,shouldResize:h}),()=>{var L;(L=C.current)==null||L.destroy()}},[j,a,l,c,u,f,w,m,b,h]);const P=j.split("-"),I=n===pa.Line?"borderColor":"backgroundColor",O=i?{...s,[I]:i}:s;return d.jsx("div",{className:He(["react-flow__resize-control","nodrag",...P,n,r]),ref:_,style:O,children:o})}v.memo(q8);const X8=({data:e})=>{const{member:t,onSelect:n,onEdit:r,onDelete:s,isHighlighted:o,isDimmed:i,focusedRelationType:a,isHoverHighlighted:l,isCollapsed:c,onToggleCollapse:u,hasChildren:f,onNodeClick:p}=e,h=v.useCallback(()=>{n(t),p(t)},[t,n,p]),w=v.useCallback(g=>{g.stopPropagation(),r(t)},[t,r]),m=v.useCallback(g=>{g.stopPropagation(),confirm(`Are you sure you want to delete ${t.name}?`)&&s(t.id)},[t.id,t.name,s]),b=v.useMemo(()=>{const g=new Date().getFullYear(),_=t.birthDate?new Date(t.birthDate).getFullYear():null,E=t.deathDate?new Date(t.deathDate).getFullYear():null;return E?E-(_||0):_?g-_:null},[t.birthDate,t.deathDate]),y=v.useCallback(g=>{g.stopPropagation(),u&&u(t.id)},[t.id,u]);console.log(`Node: ${t.name}, hasChildren: ${f}, onToggleCollapse defined: ${!!u}`);const x=v.useCallback(g=>{(g.key==="Enter"||g.key===" ")&&h()},[h]);return d.jsxs("div",{className:"family-member-node",role:"treeitem","aria-label":`Family member: ${t.name}, ${t.occupation||"details available on click"}`,tabIndex:0,onKeyDown:x,children:[d.jsx(mi,{type:"target",position:ne.Top,className:"!w-2 !h-2 !bg-slate-400 !border-2 !border-white !shadow-sm"}),d.jsxs("div",{className:` 
          relative w-52 bg-white rounded-2xl shadow-lg
          cursor-pointer transition-all duration-300 ease-in-out hover:shadow-xl hover:-translate-y-1
          overflow-hidden group 
          focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2 // Base focus styles
          ${l&&!i?"ring-2 ring-green-500 shadow-green-300/50":""}
          ${o&&a!=="self"&&!l?"ring-2 ring-amber-400 shadow-amber-200/50":""}
          ${c?"opacity-80":""}
          ${i&&!l?"opacity-30":""} // Ensure hover highlight isn't dimmed
          ${!i&&a==="self"?"border-blue-500 ring-4 ring-blue-500 shadow-blue-300/50":!i&&a==="parent"?"border-sky-400":!i&&a==="spouse"?"border-pink-400":!i&&(a==="child"||a==="descendant")?"border-green-400":!i&&a==="sibling"?"border-purple-400":"border-slate-200"}
        `,children:[d.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex space-x-1 z-10",children:[d.jsx("button",{onClick:w,"aria-label":`Edit details for ${t.name}`,className:"w-8 h-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:d.jsx(lA,{className:"w-4 h-4"})}),d.jsx("button",{onClick:m,"aria-label":`Delete member ${t.name}`,className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:d.jsx(uA,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:`
          h-20 bg-gradient-to-br relative
          ${t.gender==="male"?"from-blue-500 via-blue-600 to-indigo-600":"from-rose-500 via-pink-600 to-purple-600"}
        `,children:[d.jsx("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:16px_16px]"}),d.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2",children:d.jsx("div",{className:"w-12 h-12 bg-white rounded-full p-0.5 shadow-lg",children:d.jsx("div",{className:`
                w-full h-full rounded-full flex items-center justify-center overflow-hidden
                ${t.gender==="male"?"bg-blue-50":"bg-rose-50"}
              `,children:t.photo?d.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover rounded-full"}):d.jsx(id,{className:`w-6 h-6 ${t.gender==="male"?"text-blue-600":"text-rose-600"}`})})})})]}),d.jsxs("div",{className:"pt-4 pb-4 px-4 space-y-3",children:[d.jsxs("div",{className:"text-center min-h-[4rem]",children:[d.jsx("h3",{className:"font-semibold text-slate-900 text-lg leading-tight mb-1 min-h-[2.5rem] flex items-center justify-center",children:d.jsx("span",{className:"truncate max-w-full",children:t.name})}),d.jsx("div",{className:"min-h-[1.25rem] flex items-center justify-center",children:b&&d.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[d.jsx(Us,{className:"w-3 h-3 mr-1"}),d.jsxs("span",{children:[b," years old"]})]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 rounded-lg px-2 py-1 min-h-[2rem]",children:t.mobileNumber?d.jsxs(d.Fragment,{children:[d.jsx(Q1,{className:"w-3 h-3 mr-2 text-slate-400 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:t.mobileNumber})]}):d.jsx("span",{children:""})}),d.jsx("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 rounded-lg px-2 py-1 min-h-[2rem]",children:t.occupation?d.jsxs(d.Fragment,{children:[d.jsx(cg,{className:"w-3 h-3 mr-2 text-slate-400 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:t.occupation})]}):d.jsx("span",{children:""})})]})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl"}),f&&u&&d.jsx("button",{onClick:y,className:`
              absolute top-2 left-2
              w-8 h-8 rounded-full border-2 border-white
              flex items-center justify-center shadow-lg
              transition-all duration-300 hover:scale-110 z-20
              opacity-0 group-hover:opacity-100 
              ${c?"bg-emerald-500 hover:bg-emerald-600":"bg-sky-500 hover:bg-sky-600"}
            `,"aria-label":c?`Expand children of ${t.name}`:`Collapse children of ${t.name}`,"aria-expanded":!c,children:c?d.jsx(K1,{className:"w-5 h-5 text-white"}):d.jsx(XT,{className:"w-5 h-5 text-white"})})]}),d.jsx(mi,{type:"source",position:ne.Bottom,className:"!w-2 !h-2 !bg-slate-400 !border-2 !border-white !shadow-sm"})]})},Q8=X.memo(X8);function J8(e,t,n,r,s,o,i,a,l,c,u){var O,L;const{generationSpacing:f,memberSpacing:p,nodeWidth:h,siblingSpacing:w}=o,m=new Map;let b=[],y=new Set;if(c==="PersonView"&&r){const A=e.find(D=>D.id===r);if(A){const D=new Set;if(D.add(A.id),(O=A.parents)==null||O.forEach(S=>D.add(S)),A.partners)try{const S=JSON.parse(A.partners);Array.isArray(S)&&S.forEach(R=>D.add(R))}catch(S){console.warn(`Failed to parse partners for focusedMember ${A.id} in PersonView: ${A.partners}`,S)}A.spouse&&D.add(A.spouse),e.forEach(S=>{if(S.id!==A.id){if(S.partners)try{const R=JSON.parse(S.partners);Array.isArray(R)&&R.includes(A.id)&&D.add(S.id)}catch(R){console.warn(`Failed to parse partners for member ${S.id} in PersonView reverse lookup: ${S.partners}`,R)}S.spouse===A.id&&D.add(S.id)}}),e.forEach(S=>{var R;(R=S.parents)!=null&&R.includes(A.id)&&D.add(S.id)}),A.parents&&e.forEach(S=>{var R;S.id!==A.id&&((R=S.parents)!=null&&R.some(N=>A.parents.includes(N)))&&D.add(S.id)}),b=e.filter(S=>D.has(S.id)),y=D}else b=e.map(D=>({...D,generation:D.generation||1}))}else if(c==="LineageView"&&r){const A=e.find(D=>D.id===r);if(A){let D=[];u==="Descendants"?D=lc(A.id,e,1):D=getAncestors(A.id,e,1),b=D,y=new Set(b.map(S=>S.id))}else b=e.map(D=>({...D,generation:D.generation||1}))}else{const A=e.map(S=>({...S,generation:S.generation||1}));if(r&&c==="FullTree"){const S=e.find(R=>R.id===r);if(S){if(y.add(S.id),(L=S.parents)==null||L.forEach(N=>y.add(N)),S.partners)try{const N=JSON.parse(S.partners);Array.isArray(N)&&N.forEach(M=>y.add(M))}catch(N){console.warn(`Failed to parse partners for focusedMember ${S.id}: ${S.partners}`,N)}e.forEach(N=>{if(N.id!==S.id&&(N.spouse===S.id&&y.add(N.id),S.spouse===N.id&&y.add(N.id),N.partners))try{const M=JSON.parse(N.partners);Array.isArray(M)&&M.includes(S.id)&&y.add(N.id)}catch(M){console.warn(`Failed to parse partners for member ${N.id}: ${N.partners}`,M)}}),S.parents&&e.forEach(N=>{var M;N.id!==S.id&&((M=N.parents)!=null&&M.some(T=>S.parents.includes(T)))&&y.add(N.id)}),lc(S.id,e,S.generation||1).forEach(N=>y.add(N.id))}}let D;if(c==="FullTree"){const S=new Map,R=[...A].sort((N,M)=>(N.generation||1)-(M.generation||1));for(const N of R){let M=!0;if(N.parents&&N.parents.length>0){for(const T of N.parents)if(S.get(T)===!1||n[T]&&(!r||T!==r)){M=!1;break}}S.set(N.id,M)}D=A.filter(N=>S.get(N.id)!==!1),S.clear();for(const N of R){let M=!0;if(N.parents&&N.parents.length>0){for(const T of N.parents)if(S.get(T)===!1||n[T]){M=!1;break}}S.set(N.id,M)}D=A.filter(N=>S.get(N.id)!==!1)}else D=b;b=D}const x=b.map(A=>{var k,$,F,z,V,U,K,Y;const D=((A.generation||1)-1)*f;m.set(A.id,D);const S=t&&A.name.toLowerCase().includes(t.toLowerCase()),R=!!l&&A.id===l;let N=!1;c==="FullTree"&&r&&(N=!y.has(A.id));let M=null;if(r&&(!N||c!=="FullTree")){const B=e.find(W=>W.id===r);B&&(A.id===r?M="self":(k=B.parents)!=null&&k.includes(A.id)?M="parent":($=A.parents)!=null&&$.includes(r)?M="child":A.id===B.spouse||B.id===A.spouse?M="spouse":c!=="LineageView"&&B.parents&&((F=A.parents)!=null&&F.some(W=>B.parents.includes(W)))?A.id!==r&&!((z=B.parents)!=null&&z.includes(A.id))&&!((V=A.parents)!=null&&V.includes(r))&&A.id!==B.spouse&&B.id!==A.spouse&&(M="sibling"):c!=="LineageView"&&lc(r,e).some(W=>W.id===A.id&&W.id!==r)?A.id!==r&&!((U=A.parents)!=null&&U.includes(r))&&!((K=B.parents)!=null&&K.includes(A.id))&&A.id!==B.spouse&&B.id!==A.spouse&&!(B.parents&&((Y=A.parents)!=null&&Y.some(W=>B.parents.includes(W))))&&(M="descendant"):c==="LineageView"&&(u==="Ancestors"&&A.id!==r&&getAncestors(r,e).some(W=>W.id===A.id)?getAncestors(r,e).some(J=>J.id===A.id&&A.id!==r)&&(M="ancestor"):u==="Descendants"&&A.id!==r&&lc(r,e).some(W=>W.id===A.id)&&(M="descendant")))}c==="FullTree"?b.some(B=>{var W;return((W=B.parents)==null?void 0:W.includes(A.id))&&!n[A.id]}):b.some(B=>{var W;return(W=B.parents)==null?void 0:W.includes(A.id)});const T=!!e.some(B=>{var W;return(W=B.parents)==null?void 0:W.includes(A.id)});return{id:A.id,type:"familyMember",position:{x:0,y:D},data:{member:A,onSelect:s.onSelect,onEdit:s.onEdit,onDelete:s.onDelete,isHighlighted:S,isHoverHighlighted:R,isDimmed:N,focusedRelationType:M,isCollapsed:!!n[A.id],onToggleCollapse:s.onToggleCollapse,hasChildren:T,canEdit:i,onNodeClick:s.onNodeClick},sourcePosition:ne.Bottom,targetPosition:ne.Top}}),g=Math.max(0,...b.map(A=>A.generation||1)),_=new Map;let E=a/2;const j=new Map;x.forEach(A=>{const D=A.data.member.generation||1;j.has(D)||j.set(D,[]),j.get(D).push(A)});for(let A=1;A<=g;A++){const D=j.get(A)||[];if(D.length!==0)if(A===1){const S=D,R=b.filter(T=>(T.generation||1)===1).sort((T,k)=>T.id.localeCompare(k.id)),N=new Set;let M=0;if(R.forEach(T=>{const k=D.find($=>$.id===T.id);if(k&&!N.has(k.id)){k.position.x=M,N.add(k.id),_.set(k.id,k.position.x);let $=k.position.x+h;if(T.spouse&&T.spouse!==T.id){const F=b.find(z=>z.id===T.spouse&&(z.generation||1)===1);if(F){const z=D.find(V=>V.id===F.id);z&&!N.has(z.id)&&(z.position.x=$+w,N.add(z.id),_.set(z.id,z.position.x),$=z.position.x+h)}}M=$+p}}),D.forEach(T=>{N.has(T.id)||(T.position.x=M,N.add(T.id),M+=h+p)}),S.length>0){const T=S.map(K=>K.position.x),k=Math.min(...T),$=S.map(K=>K.position.x+h),z=Math.max(...$)-k,V=a/2-(k+z/2);if(S.forEach(K=>{K.position.x+=V,_.set(K.id,K.position.x+h/2)}),S.map(K=>_.get(K.id)).length>0){const K=Math.min(...S.map(B=>B.position.x)),Y=Math.max(...S.map(B=>B.position.x+h));E=K+(Y-K)/2}}}else{const S=new Map;D.forEach(F=>{const z=F.data.member,V=z.parents&&z.parents.length>0?z.parents.sort().join("-"):`no-parents-${z.id}`;S.has(V)||S.set(V,[]),S.get(V).push(F)});const R=Array.from(S.keys()).sort(),N=[];let M=0;for(const F of R){const z=S.get(F),V=z.length*h+(z.length-1)*w;M+=V;let U=E;if(z.length>0&&z[0].data.member.parents&&z[0].data.member.parents.length>0){const K=z[0].data.member.parents.map(Y=>_.get(Y)).filter(Y=>Y!==void 0);K.length>0&&(U=K.reduce((Y,B)=>Y+B,0)/K.length)}N.push({parentKey:F,siblingGroup:z,groupWidth:V,avgParentX:U})}N.length>0&&(M+=(N.length-1)*p);let T=E;if(N.length>0){const F=N.reduce((V,U)=>V+U.avgParentX*U.siblingGroup.length,0),z=N.reduce((V,U)=>V+U.siblingGroup.length,0);z>0&&(T=F/z)}let $=T-M/2;N.forEach(({siblingGroup:F,groupWidth:z,avgParentX:V})=>{let U=0;const K=$;F.forEach(Y=>{Y.position.x=K+U+h/2,_.set(Y.id,Y.position.x),U+=h+w}),$+=z+p})}}const C=[],P=new Set(b.map(A=>A.id));return b.forEach(A=>{A.parents&&Array.isArray(A.parents)&&A.parents.forEach(D=>{D&&P.has(D)&&P.has(A.id)&&C.push({id:`edge-${D}-to-${A.id}`,source:D,target:A.id,type:"smoothstep",animated:!0,markerEnd:{type:Xa.ArrowClosed,color:"#60a5fa",width:20,height:20},style:{stroke:"#60a5fa",strokeWidth:2.5,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",transition:"stroke 0.3s ease, opacity 0.3s ease-in-out"}})})}),{nodes:x.map(A=>({...A})),edges:C}}const Z8={familyMember:Q8},yc={generationSpacing:600,memberSpacing:150,nodeWidth:208,siblingSpacing:70},eB=({members:e,onMemberSelect:t,searchQuery:n,onSetEditingMember:r,onDeleteMember:s,focusedMemberId:o,hoveredMemberId:i,canEdit:a,viewMode:l,lineageDirection:c,onNodeClick:u})=>{const[f,p,h]=_8([]),[w,m,b]=S8([]),[y,x]=v.useState({}),[g,_]=v.useState(typeof window<"u"?window.innerWidth:1e3),E=v.useRef(null);v.useEffect(()=>{E.current&&_(E.current.offsetWidth);const A=new ResizeObserver(D=>{D[0]&&_(D[0].contentRect.width)});return E.current&&A.observe(E.current),()=>{E.current&&A.unobserve(E.current)}},[]);const j=v.useCallback(A=>{x(D=>({...D,[A]:!D[A]}))},[]),C=v.useCallback(A=>m(D=>pk(A,D)),[m]),P=v.useMemo(()=>({onSelect:t,onEdit:r,onDelete:s,onToggleCollapse:j,onNodeClick:u}),[t,r,s,j,u]),{nodes:I,edges:O}=v.useMemo(()=>J8(e,n,y,o,P,yc,a,g,i,l,c),[e,n,y,o,i,P,yc,a,g,l,c]);v.useEffect(()=>{p(I),m(O)},[I,O,p,m]);const L=v.useMemo(()=>!I||I.length===0?0:Math.max(...I.map(A=>A.data.member.generation||0)),[I]);return d.jsx("div",{className:"w-full h-full relative",ref:E,children:d.jsxs(b8,{nodes:f,edges:w,onNodesChange:h,onEdgesChange:b,onConnect:C,nodeTypes:Z8,fitView:!0,defaultViewport:{x:0,y:0,zoom:.7},minZoom:.1,maxZoom:1.5,style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f7fee7 100%)"},onlyRenderVisibleElements:!0,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!0,children:[d.jsx(O8,{position:"top-right"}),d.jsx(Y8,{position:"bottom-right",nodeColor:A=>A.data.isHighlighted?"#22c55e":"#d1fae5",pannable:!0,zoomable:!0}),d.jsx(j8,{variant:ir.Dots,gap:40,size:2,color:"#a7f3d0",style:{opacity:.3},children:L>0&&Array.from({length:L},(A,D)=>D+1).map(A=>d.jsx("div",{style:{position:"absolute",left:0,top:`${(A-1)*yc.generationSpacing}px`,width:"100%",height:`${yc.generationSpacing}px`,backgroundColor:A%2===0?"rgba(0,0,0,0.025)":"rgba(0,0,0,0.015)",zIndex:-2}},`gen-bg-${A}`))})]})})},tB="modulepreload",nB=function(e){return"/"+e},Tx={},gi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=nB(l),l in Tx)return;Tx[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tB,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},rB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ni);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class s0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sB extends s0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oB extends s0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iB extends s0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kp||(Kp={}));var aB=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class lB{constructor(t,{headers:n={},customFetch:r,region:s=Kp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=rB(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return aB(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(w=>{throw new sB(w)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new oB(u);if(!u.ok)throw new iB(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield u.json():p==="application/octet-stream"?h=yield u.blob():p==="text/event-stream"?h=u:p==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var xt={},o0={},Ld={},Cl={},Fd={},zd={},cB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vi=cB();const uB=vi.fetch,dC=vi.fetch.bind(vi),fC=vi.Headers,dB=vi.Request,fB=vi.Response,Ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:fC,Request:dB,Response:fB,default:dC,fetch:uB},Symbol.toStringTag,{value:"Module"})),hB=Sj(Ni);var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});let pB=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bd.default=pB;var hC=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zd,"__esModule",{value:!0});const mB=hC(hB),gB=hC(Bd);let vB=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,u=null,f=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,p=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,p=200,h="OK")}catch{o.status===404&&m===""?(p=204,h="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,h="OK"),c&&this.shouldThrowOnError)throw new gB.default(c)}return{error:c,data:u,count:f,status:p,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};zd.default=vB;var yB=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fd,"__esModule",{value:!0});const xB=yB(zd);let wB=class extends xB.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fd.default=wB;var bB=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const _B=bB(Fd);let SB=class extends _B.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Cl.default=SB;var EB=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ld,"__esModule",{value:!0});const Gi=EB(Cl);let kB=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Gi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ld.default=kB;var Ud={},Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.version=void 0;Hd.version="0.0.0-automated";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.DEFAULT_HEADERS=void 0;const CB=Hd;Ud.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${CB.version}`};var pC=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o0,"__esModule",{value:!0});const NB=pC(Ld),jB=pC(Cl),PB=Ud;let TB=class mC{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},PB.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new NB.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new jB.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};o0.default=TB;var ji=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const gC=ji(o0);xt.PostgrestClient=gC.default;const vC=ji(Ld);xt.PostgrestQueryBuilder=vC.default;const yC=ji(Cl);xt.PostgrestFilterBuilder=yC.default;const xC=ji(Fd);xt.PostgrestTransformBuilder=xC.default;const wC=ji(zd);xt.PostgrestBuilder=wC.default;const bC=ji(Bd);xt.PostgrestError=bC.default;var AB=xt.default={PostgrestClient:gC.default,PostgrestQueryBuilder:vC.default,PostgrestFilterBuilder:yC.default,PostgrestTransformBuilder:xC.default,PostgrestBuilder:wC.default,PostgrestError:bC.default};const{PostgrestClient:RB,PostgrestQueryBuilder:K9,PostgrestFilterBuilder:Y9,PostgrestTransformBuilder:q9,PostgrestBuilder:X9,PostgrestError:Q9}=AB,MB="2.11.2",IB={"X-Client-Info":`realtime-js/${MB}`},OB="1.0.0",_C=1e4,DB=1e3;var zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zo||(zo={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(un||(un={}));var Yp;(function(e){e.websocket="websocket"})(Yp||(Yp={}));var ws;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ws||(ws={}));class $B{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class SC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const Ax=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=LB(i,e,t,s),o),{})},LB=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?EC(o,i):qp(i)},EC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UB(t,n)}switch(e){case Ce.bool:return FB(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return zB(t);case Ce.json:case Ce.jsonb:return BB(t);case Ce.timestamp:return HB(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return qp(t);default:return qp(t)}},qp=e=>e,FB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>EC(t,a))}return e},HB=e=>typeof e=="string"?e.replace(" ","T"):e,kC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ch{constructor(t,n,r={},s=_C){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rx||(Rx={}));class ma{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ma.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=ma.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ma.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const f=o[c];if(f){const p=u.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),w=u.filter(b=>h.indexOf(b.presence_ref)<0),m=f.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(a[c]=w),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,u,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mx||(Mx={}));var Ix;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ix||(Ix={}));var Xn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class i0{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ch(this,un.join,this.params,this.timeout),this.rejoinTimer=new SC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ma(this),this.broadcastEndpointURL=kC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Xn.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Xn.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Xn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,h=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,w=[];for(let m=0;m<h;m++){const b=p[m],{filter:{event:y,schema:x,table:g,filter:_}}=b,E=u&&u[m];if(E&&E.event===y&&E.schema===x&&E.table===g&&E.filter===_)w.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),t==null||t(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Xn.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new ch(this,un.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ch(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=un;if(r&&[a,l,c,u].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var w,m,b;return((w=h.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(m=h.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(h=>h.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var w,m,b,y,x,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const _=h.id,E=(w=h.filter)===null||w===void 0?void 0:w.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:m,table:b,commit_timestamp:y,type:x,errors:g}=w;p=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:g}),this._getPayloadRecords(w))}h.callback(p,r)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&i0.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(un.close,{},t)}_onError(t){this._on(un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ax(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ax(t.columns,t.old_record)),n}}const VB=()=>{},WB=typeof WebSocket<"u",GB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KB{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=IB,this.params={},this.timeout=_C,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=VB,this.conn=null,this.sendBuffer=[],this.serializer=new $B,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>gi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ni);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Yp.websocket}`,this.httpEndpoint=kC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new SC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(WB){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new YB(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gi(async()=>{const{default:t}=await import("./browser-DBS_PCfZ.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OB}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return ws.Connecting;case zo.open:return ws.Open;case zo.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}channel(t,n={config:{}}){const r=new i0(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(un.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(DB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([GB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class YB{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class a0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qB extends a0{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xp extends a0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var XB=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const CC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ni);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},QB=()=>XB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gi(()=>Promise.resolve().then(()=>Ni),void 0)).Response:Response}),Qp=e=>{if(Array.isArray(e))return e.map(n=>Qp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Qp(r)}),t};var ro=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const uh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JB=(e,t,n)=>ro(void 0,void 0,void 0,function*(){const r=yield QB();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new qB(uh(s),e.status||500))}).catch(s=>{t(new Xp(uh(s),s))}):t(new Xp(uh(e),e))}),ZB=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Nl(e,t,n,r,s,o){return ro(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,ZB(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>JB(l,a,r))})})}function $u(e,t,n,r){return ro(this,void 0,void 0,function*(){return Nl(e,"GET",t,n,r)})}function Or(e,t,n,r,s){return ro(this,void 0,void 0,function*(){return Nl(e,"POST",t,r,s,n)})}function eU(e,t,n,r,s){return ro(this,void 0,void 0,function*(){return Nl(e,"PUT",t,r,s,n)})}function tU(e,t,n,r){return ro(this,void 0,void 0,function*(){return Nl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function NC(e,t,n,r,s){return ro(this,void 0,void 0,function*(){return Nl(e,"DELETE",t,r,s,n)})}var gt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const nU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ox={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rU{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=CC(s)}uploadOrUpdate(t,n,r,s){return gt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Ox),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}upload(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return gt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ox.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield f.json();return f.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Or(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new a0("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}update(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}copy(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Or(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return gt(this,void 0,void 0,function*(){try{const s=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}download(t,n){return gt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield $u(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}info(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $u(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qp(r),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}exists(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield tU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ke(r)&&r instanceof Xp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return gt(this,void 0,void 0,function*(){try{return{data:yield NC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}list(t,n,r){return gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},nU),n),{prefix:t||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const sU="2.7.1",oU={"X-Client-Info":`storage-js/${sU}`};var uo=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class iU{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},oU),n),this.fetch=CC(r)}listBuckets(){return uo(this,void 0,void 0,function*(){try{return{data:yield $u(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return uo(this,void 0,void 0,function*(){try{return{data:yield $u(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return uo(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return uo(this,void 0,void 0,function*(){try{return{data:yield eU(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(t){return uo(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(t){return uo(this,void 0,void 0,function*(){try{return{data:yield NC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}}class aU extends iU{constructor(t,n={},r){super(t,n,r)}from(t){return new rU(this.url,this.headers,t,this.fetch)}}const lU="2.49.8";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const cU={"X-Client-Info":`supabase-js-${ta}/${lU}`},uU={headers:cU},dU={schema:"public"},fU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hU={};var pU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const mU=e=>{let t;return e?t=e:typeof fetch>"u"?t=dC:t=fetch,(...n)=>t(...n)},gU=()=>typeof Headers>"u"?fC:Headers,vU=(e,t,n)=>{const r=mU(n),s=gU();return(o,i)=>pU(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var yU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function xU(e){return e.endsWith("/")?e:e+"/"}function wU(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yU(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const jC="2.69.1",po=30*1e3,Jp=3,dh=Jp*po,bU="http://localhost:9999",_U="supabase.auth.token",SU={"X-Client-Info":`gotrue-js/${jC}`},Zp="X-Supabase-Api-Version",PC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kU=6e5;class l0 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CU extends l0{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function NU(e){return de(e)&&e.name==="AuthApiError"}class TC extends l0{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ds extends l0{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Tr extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jU(e){return de(e)&&e.name==="AuthSessionMissingError"}class fh extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wc extends ds{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PU(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class Dx extends ds{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class em extends ds{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hh(e){return de(e)&&e.name==="AuthRetryableFetchError"}class $x extends ds{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ga extends ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fx=` 	
\r=`.split(""),TU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fx.length;t+=1)e[Fx[t].charCodeAt(0)]=-2;for(let t=0;t<Lx.length;t+=1)e[Lx[t].charCodeAt(0)]=t;return e})();function AC(e,t,n){const r=TU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zx(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{MU(i,r,n)};for(let i=0;i<e.length;i+=1)AC(e.charCodeAt(i),s,o);return t.join("")}function AU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}AU(r,t)}}function MU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function IU(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)AC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function OU(e){const t=[];return RU(e,n=>t.push(n)),new Uint8Array(t)}function DU(e){return Math.round(Date.now()/1e3)+e}function $U(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cn=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},va=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function LU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const RC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ni);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},FU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",MC=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},bc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_c=async(e,t)=>{await e.removeItem(t)};class Vd{constructor(){this.promise=new Vd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vd.promiseConstructor=Promise;function ph(e){const t=e.split(".");if(t.length!==3)throw new ga("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!EU.test(t[r]))throw new ga("JWT not in base64url format");return{header:JSON.parse(zx(t[0])),payload:JSON.parse(zx(t[1])),signature:IU(t[2]),raw:{header:t[0],payload:t[1]}}}async function zU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BU(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function UU(e){return("0"+e.toString(16)).substr(-2)}function HU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,UU).join("")}async function VU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function WU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await VU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(e,t,n=!1){const r=HU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await MC(e,`${t}-code-verifier`,s);const o=await WU(r);return[o,r===o?"plain":"s256"]}const GU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KU(e){const t=e.headers.get(Zp);if(!t||!t.match(GU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var XU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QU=[502,503,504];async function Bx(e){var t;if(!FU(e))throw new em(ys(e),0);if(QU.includes(e.status))throw new em(ys(e),e.status);let n;try{n=await e.json()}catch(o){throw new TC(ys(o),o)}let r;const s=KU(e);if(s&&s.getTime()>=PC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $x(ys(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Tr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new $x(ys(n),e.status,n.weak_password.reasons);throw new CU(ys(n),e.status||500,r)}const JU=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function he(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Zp]||(o[Zp]=PC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await ZU(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ZU(e,t,n,r,s,o){const i=JU(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new em(ys(l),0)}if(a.ok||await Bx(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Bx(l)}}function Ar(e){var t;let n=null;r7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=DU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ux(e){const t=Ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function e7(e){return{data:e,error:null}}function t7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=XU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function n7(e){return e}function r7(e){return e.access_token&&e.refresh_token&&e.expires_in}var s7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class o7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=RC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=s7(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:t7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:n7});if(u.error)throw u.error;const f=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(de(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}const i7={getItem:e=>va()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{va()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{va()&&globalThis.localStorage.removeItem(e)}};function Hx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function a7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ho={debug:!!(globalThis&&va()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l7 extends IC{}async function c7(e,t,n){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ho.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}a7();const u7={url:bU,storageKey:_U,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vx(e,t,n){return await n()}class el{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=el.nextInstanceID,el.nextInstanceID+=1,this.instanceID>0&&Cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},u7),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new o7({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=RC(s.fetch),this.lock=s.lock||Vx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=c7:this.lock=Vx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:va()?this.storage=i7:(this.memoryStorage={},this.storage=Hx(this.memoryStorage)):(this.memoryStorage={},this.storage=Hx(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=LU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Cn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),PU(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?{error:n}:{error:new TC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ar}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:u,password:f,options:p}=t;let h=null,w=null;this.flowType==="pkce"&&([h,w]=await fo(this.storage,this.storageKey)),o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:w},xform:Ar})}else if("phone"in t){const{phone:u,password:f,options:p}=t;o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ar})}else throw new xc("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ux})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ux})}else throw new xc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await bc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ar});if(await _c(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new fh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(de(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ar}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await fo(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new xc("You must provide either an email or phone number.")}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ar});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await fo(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:e7})}catch(o){if(de(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Tr;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new xc("You must provide either an email or phone number and a type")}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await bc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<dh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Fr})})}catch(n){if(de(n))return jU(n)&&(await this._removeSession(),await _c(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Tr;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await fo(this.storage,this.storageKey));const{data:c,error:u}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Fr});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=ph(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(de(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Tr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Cn())throw new wc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Dx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Dx("No code detected.");const{data:x,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new wc("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const w=p-f;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(de(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await bc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(NU(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await _c(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=$U(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await fo(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(de(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:f,error:p}=o;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(de(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await BU(async s=>(s>0&&await zU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ar})),(s,o)=>{const i=200*Math.pow(2,s);return o&&hh(o)&&Date.now()+i-r<po})}catch(r){if(this._debug(n,"error",r),de(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await bc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${dh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),hh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Tr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),de(o)){const i={session:null,error:o};return hh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await MC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _c(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${po}ms, refresh threshold is ${Jp} ticks`),s<=Jp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof IC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await fo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ph(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+kU>Date.now()))return r;const{data:s,error:o}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ga("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new ga("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:w}=await this.getSession();if(w||!h.session)return{data:null,error:w};r=h.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=ph(r);if(YU(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:s,signature:i},error:null}}const c=qU(s.alg),u=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,OU(`${a}.${l}`)))throw new ga("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}el.nextInstanceID=0;const d7=el;class f7 extends d7{constructor(t){super(t)}}var h7=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{c(r.next(u))}catch(f){i(f)}}function l(u){try{c(r.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class p7{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=xU(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:dU,realtime:hU,auth:Object.assign(Object.assign({},fU),{storageKey:c}),global:uU},f=wU(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=vU(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new RB(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new lB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new aU(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return h7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f7({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new KB(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m7=(e,t,n)=>new p7(e,t,n),g7="https://mxvqldnxpilsvvpnrfcy.supabase.co",v7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14dnFsZG54cGlsc3Z2cG5yZmN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2ODMwNzgsImV4cCI6MjA2MzI1OTA3OH0.rM5tGo2SKuyP_cAEMKupRZTwtQRGUKdyn9bEaSTAiUI",Ne=m7(g7,v7),OC=e=>{if(typeof e!="string"||e.trim()==="")return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(n=>typeof n=="string").map(n=>n.trim()).filter(n=>n.length>0);console.warn("Partners string parsed as JSON but is not an array:",t)}catch{}if(e.startsWith("{")&&e.endsWith("}"))try{const t=e.substring(1,e.length-1);if(t.trim()==="")return[];const n=t.split(",").map(r=>{let s=r.trim();return s.startsWith('"')&&s.endsWith('"')&&(s=s.substring(1,s.length-1),s=s.replace(/""/g,'"')),s}).filter(r=>r.length>0);if(n.length>0&&n.some(r=>r.length>0))return n}catch(t){console.error("Error parsing PostgreSQL-like array string:",e,t)}return console.warn("Could not parse partners string using known methods. String was:",e),[]},DC=v.createContext(void 0),y7=({children:e})=>{const[t,n]=v.useState(null),[r,s]=v.useState(null),[o,i]=v.useState(!0);v.useEffect(()=>{i(!0),(async()=>{const{data:{session:f}}=await Ne.auth.getSession();n(f),s((f==null?void 0:f.user)??null),i(!1)})();const{data:u}=Ne.auth.onAuthStateChange(async(f,p)=>{n(p),s((p==null?void 0:p.user)??null)});return()=>{u==null||u.unsubscribe()}},[]);const l={session:t,user:r,loading:o,signOut:async()=>{i(!0),await Ne.auth.signOut(),i(!1)}};return d.jsx(DC.Provider,{value:l,children:e})},$C=()=>{const e=v.useContext(DC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},x7=({member:e,onClose:t,onEditRequest:n})=>{const{user:r,loading:s}=$C(),o=!s&&!!r,[i,a]=v.useState(null),[l,c]=v.useState([]),[u,f]=v.useState([]),[p,h]=v.useState(!0),w=v.useMemo(()=>OC(i==null?void 0:i.partners),[i==null?void 0:i.partners]),m=async x=>{if(!x||x.length===0)return[];const{data:g,error:_}=await Ne.from("family_members").select("id, name").in("id",x);return _?(console.error(`Error fetching names for IDs ${x.join(",")}:`,_),[]):(g==null?void 0:g.map(E=>E.name).filter(Boolean))||[]};v.useEffect(()=>{(async()=>{if(!(e!=null&&e.id)){h(!1),a(null);return}h(!0),a(null),c([]),f([]);try{const{data:g,error:_}=await Ne.from("family_members").select("*").eq("id",e.id).single();if(_){console.error("Error fetching detailed member data:",_),a(null),h(!1);return}if(a(g),g){if(g.parents&&g.parents.length>0){const E=await m(g.parents);c(E)}if(g.children&&g.children.length>0){const E=await m(g.children);f(E)}}}catch(g){console.error("Error in fetchModalData:",g),a(null)}finally{h(!1)}})()},[e==null?void 0:e.id]);const b=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",y=()=>{if(!(i!=null&&i.birthDate))return null;const x=new Date(i.birthDate),g=i.deathDate?new Date(i.deathDate):new Date,_=g.getFullYear()-x.getFullYear(),E=g.getMonth()-x.getMonth();return E<0||E===0&&g.getDate()<x.getDate()?_-1:_};return p?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:d.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl",children:d.jsx("p",{className:"text-center text-xl",children:"Loading member details..."})})}):i?d.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:[" ",d.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[d.jsxs("div",{className:`
          relative p-6 rounded-t-2xl
          ${i.gender==="male"?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-pink-500 to-pink-600"}
        `,children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:d.jsx(pl,{className:"h-6 w-6"})}),d.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[d.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:i.photo?d.jsx("img",{src:i.photo,alt:i.name,className:"w-20 h-20 rounded-full object-cover"}):d.jsx(id,{className:"h-10 w-10"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold",children:i.name}),y()!==null&&d.jsxs("p",{className:"text-lg opacity-90",children:[y()," years old ",i.deathDate&&"(deceased)"]})]})]})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[d.jsx(Us,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Born"}),d.jsx("p",{children:b(i.birthDate)})]})]}),i.deathDate&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[d.jsx(Us,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Died"}),d.jsx("p",{children:b(i.deathDate)})]})]}),i.birthPlace&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[d.jsx(X1,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Birthplace"}),d.jsx("p",{children:i.birthPlace})]})]}),i.occupation&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[d.jsx(cg,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Occupation"}),d.jsx("p",{children:i.occupation})]})]}),i.coParentName&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[d.jsx(Rs,{className:"h-5 w-5"})," ",d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Co-parent Name"}),d.jsx("p",{children:i.coParentName})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[w.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[d.jsx(Y1,{className:"h-5 w-5"}),d.jsx("p",{className:"font-medium",children:"Partner(s)"})]}),d.jsx("div",{className:"space-y-2",children:w.map((x,g)=>d.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:d.jsx("p",{className:"font-medium",children:x})},g))})]}),l.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[d.jsx(Rs,{className:"h-5 w-5"}),d.jsx("p",{className:"font-medium",children:"Parents"})]}),d.jsx("div",{className:"space-y-2",children:l.map((x,g)=>d.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:d.jsx("p",{className:"font-medium",children:x})},g))})]}),u.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[d.jsx(Rs,{className:"h-5 w-5"})," ",d.jsx("p",{className:"font-medium",children:"Children"})]}),d.jsx("div",{className:"space-y-2",children:u.map((x,g)=>d.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:d.jsx("p",{className:"font-medium",children:x})},g))})]})]})]}),i.bio&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Biography"}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.bio})})]})]}),d.jsxs("div",{className:"border-t bg-gray-50 px-6 py-4 rounded-b-2xl flex space-x-3",children:[d.jsx("button",{onClick:t,className:`flex-1 bg-slate-500 text-white py-2.5 px-4 rounded-lg
                       hover:bg-slate-600 transition-colors font-medium text-sm`,children:"Close"}),o&&i&&d.jsx("button",{onClick:()=>{n(i),t()},className:`flex-1 bg-blue-500 text-white py-2.5 px-4 rounded-lg
                         hover:bg-blue-600 transition-colors font-medium text-sm`,children:"Edit Member"})]})]})]}):d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl text-center",children:[d.jsx("p",{className:"text-xl mb-4",children:"Member details not available."}),d.jsx("button",{onClick:t,className:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})]})})};var Wd="Dialog",[LC,J9]=gr(Wd),[w7,wn]=LC(Wd),FC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=v.useRef(null),l=v.useRef(null),[c,u]=si({prop:r,defaultProp:s??!1,onChange:o,caller:Wd});return d.jsx(w7,{scope:t,triggerRef:a,contentRef:l,contentId:rr(),titleId:rr(),descriptionId:rr(),open:c,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:i,children:n})};FC.displayName=Wd;var zC="DialogTrigger",BC=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wn(zC,n),o=be(t,s.triggerRef);return d.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d0(s.open),...r,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});BC.displayName=zC;var c0="DialogPortal",[b7,UC]=LC(c0,{forceMount:void 0}),HC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=wn(c0,t);return d.jsx(b7,{scope:t,forceMount:n,children:v.Children.map(r,i=>d.jsx(zn,{present:n||o.open,children:d.jsx(dl,{asChild:!0,container:s,children:i})}))})};HC.displayName=c0;var Lu="DialogOverlay",VC=v.forwardRef((e,t)=>{const n=UC(Lu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=wn(Lu,e.__scopeDialog);return o.modal?d.jsx(zn,{present:r||o.open,children:d.jsx(S7,{...s,ref:t})}):null});VC.displayName=Lu;var _7=Bs("DialogOverlay.RemoveScroll"),S7=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wn(Lu,n);return d.jsx(vd,{as:_7,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ce.div,{"data-state":d0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Gs="DialogContent",WC=v.forwardRef((e,t)=>{const n=UC(Gs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=wn(Gs,e.__scopeDialog);return d.jsx(zn,{present:r||o.open,children:o.modal?d.jsx(E7,{...s,ref:t}):d.jsx(k7,{...s,ref:t})})});WC.displayName=Gs;var E7=v.forwardRef((e,t)=>{const n=wn(Gs,e.__scopeDialog),r=v.useRef(null),s=be(t,n.contentRef,r);return v.useEffect(()=>{const o=r.current;if(o)return Ig(o)},[]),d.jsx(GC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),k7=v.forwardRef((e,t)=>{const n=wn(Gs,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return d.jsx(GC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),GC=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=wn(Gs,n),l=v.useRef(null),c=be(t,l);return Mg(),d.jsxs(d.Fragment,{children:[d.jsx(md,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(bi,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":d0(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(C7,{titleId:a.titleId}),d.jsx(j7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),u0="DialogTitle",KC=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wn(u0,n);return d.jsx(ce.h2,{id:s.titleId,...r,ref:t})});KC.displayName=u0;var YC="DialogDescription",qC=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wn(YC,n);return d.jsx(ce.p,{id:s.descriptionId,...r,ref:t})});qC.displayName=YC;var XC="DialogClose",QC=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wn(XC,n);return d.jsx(ce.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});QC.displayName=XC;function d0(e){return e?"open":"closed"}var JC="DialogTitleWarning",[Z9,ZC]=tT(JC,{contentName:Gs,titleName:u0,docsSlug:"dialog"}),C7=({titleId:e})=>{const t=ZC(JC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},N7="DialogDescriptionWarning",j7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZC(N7).contentName}}.`;return v.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},eN=FC,P7=BC,tN=HC,Gd=VC,Kd=WC,Yd=KC,qd=qC,nN=QC;const Bo=eN,T7=P7,A7=tN,rN=v.forwardRef(({className:e,...t},n)=>d.jsx(Gd,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));rN.displayName=Gd.displayName;const Os=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(A7,{children:[d.jsx(rN,{}),d.jsxs(Kd,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,d.jsxs(nN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(pl,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Os.displayName=Kd.displayName;const Xd=({className:e,...t})=>d.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xd.displayName="DialogHeader";const Qd=v.forwardRef(({className:e,...t},n)=>d.jsx(Yd,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));Qd.displayName=Yd.displayName;const R7=v.forwardRef(({className:e,...t},n)=>d.jsx(qd,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));R7.displayName=qd.displayName;function Wx(e,[t,n]){return Math.min(n,Math.max(t,e))}function M7(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var I7=[" ","Enter","ArrowUp","ArrowDown"],O7=[" ","Enter"],Ks="Select",[Jd,Zd,D7]=rd(Ks),[Pi,eH]=gr(Ks,[D7,ki]),ef=ki(),[$7,fs]=Pi(Ks),[L7,F7]=Pi(Ks),sN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:p,required:h,form:w}=e,m=ef(t),[b,y]=v.useState(null),[x,g]=v.useState(null),[_,E]=v.useState(!1),j=Rg(c),[C,P]=si({prop:r,defaultProp:s??!1,onChange:o,caller:Ks}),[I,O]=si({prop:i,defaultProp:a,onChange:l,caller:Ks}),L=v.useRef(null),A=b?w||!!b.closest("form"):!0,[D,S]=v.useState(new Set),R=Array.from(D).map(N=>N.props.value).join(";");return d.jsx(P_,{...m,children:d.jsxs($7,{required:h,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:g,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:rr(),value:I,onValueChange:O,open:C,onOpenChange:P,dir:j,triggerPointerDownPosRef:L,disabled:p,children:[d.jsx(Jd.Provider,{scope:t,children:d.jsx(L7,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(N=>{S(M=>new Set(M).add(N))},[]),onNativeOptionRemove:v.useCallback(N=>{S(M=>{const T=new Set(M);return T.delete(N),T})},[]),children:n})}),A?d.jsxs(jN,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:I,onChange:N=>O(N.target.value),disabled:p,form:w,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(D)]},R):null]})})};sN.displayName=Ks;var oN="SelectTrigger",iN=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=ef(n),i=fs(oN,n),a=i.disabled||r,l=be(t,i.onTriggerChange),c=Zd(n),u=v.useRef("touch"),[f,p,h]=TN(m=>{const b=c().filter(g=>!g.disabled),y=b.find(g=>g.value===i.value),x=AN(b,m,y);x!==void 0&&i.onValueChange(x.value)}),w=m=>{a||(i.onOpenChange(!0),h()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(Sg,{asChild:!0,...o,children:d.jsx(ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":PN(i.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&w(m)}),onPointerDown:Z(s.onPointerDown,m=>{u.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:Z(s.onKeyDown,m=>{const b=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(b&&m.key===" ")&&I7.includes(m.key)&&(w(),m.preventDefault())})})})});iN.displayName=oN;var aN="SelectValue",lN=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=fs(aN,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=be(t,l.onValueNodeChange);return et(()=>{c(u)},[c,u]),d.jsx(ce.span,{...a,ref:f,style:{pointerEvents:"none"},children:PN(l.value)?d.jsx(d.Fragment,{children:i}):o})});lN.displayName=aN;var z7="SelectIcon",cN=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return d.jsx(ce.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});cN.displayName=z7;var B7="SelectPortal",uN=e=>d.jsx(dl,{asChild:!0,...e});uN.displayName=B7;var Ys="SelectContent",dN=v.forwardRef((e,t)=>{const n=fs(Ys,e.__scopeSelect),[r,s]=v.useState();if(et(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Qs.createPortal(d.jsx(fN,{scope:e.__scopeSelect,children:d.jsx(Jd.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),o):null}return d.jsx(hN,{...e,ref:t})});dN.displayName=Ys;var nn=10,[fN,hs]=Pi(Ys),U7="SelectContentImpl",H7=Bs("SelectContent.RemoveScroll"),hN=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:w,hideWhenDetached:m,avoidCollisions:b,...y}=e,x=fs(Ys,n),[g,_]=v.useState(null),[E,j]=v.useState(null),C=be(t,B=>_(B)),[P,I]=v.useState(null),[O,L]=v.useState(null),A=Zd(n),[D,S]=v.useState(!1),R=v.useRef(!1);v.useEffect(()=>{if(g)return Ig(g)},[g]),Mg();const N=v.useCallback(B=>{const[W,...J]=A().map(H=>H.ref.current),[ee]=J.slice(-1),Q=document.activeElement;for(const H of B)if(H===Q||(H==null||H.scrollIntoView({block:"nearest"}),H===W&&E&&(E.scrollTop=0),H===ee&&E&&(E.scrollTop=E.scrollHeight),H==null||H.focus(),document.activeElement!==Q))return},[A,E]),M=v.useCallback(()=>N([P,g]),[N,P,g]);v.useEffect(()=>{D&&M()},[D,M]);const{onOpenChange:T,triggerPointerDownPosRef:k}=x;v.useEffect(()=>{if(g){let B={x:0,y:0};const W=ee=>{var Q,H;B={x:Math.abs(Math.round(ee.pageX)-(((Q=k.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((H=k.current)==null?void 0:H.y)??0))}},J=ee=>{B.x<=10&&B.y<=10?ee.preventDefault():g.contains(ee.target)||T(!1),document.removeEventListener("pointermove",W),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",J,{capture:!0})}}},[g,T,k]),v.useEffect(()=>{const B=()=>T(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[T]);const[$,F]=TN(B=>{const W=A().filter(Q=>!Q.disabled),J=W.find(Q=>Q.ref.current===document.activeElement),ee=AN(W,B,J);ee&&setTimeout(()=>ee.ref.current.focus())}),z=v.useCallback((B,W,J)=>{const ee=!R.current&&!J;(x.value!==void 0&&x.value===W||ee)&&(I(B),ee&&(R.current=!0))},[x.value]),V=v.useCallback(()=>g==null?void 0:g.focus(),[g]),U=v.useCallback((B,W,J)=>{const ee=!R.current&&!J;(x.value!==void 0&&x.value===W||ee)&&L(B)},[x.value]),K=r==="popper"?tm:pN,Y=K===tm?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:w,hideWhenDetached:m,avoidCollisions:b}:{};return d.jsx(fN,{scope:n,content:g,viewport:E,onViewportChange:j,itemRefCallback:z,selectedItem:P,onItemLeave:V,itemTextRefCallback:U,focusSelectedItem:M,selectedItemText:O,position:r,isPositioned:D,searchRef:$,children:d.jsx(vd,{as:H7,allowPinchZoom:!0,children:d.jsx(md,{asChild:!0,trapped:x.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Z(s,B=>{var W;(W=x.trigger)==null||W.focus({preventScroll:!0}),B.preventDefault()}),children:d.jsx(bi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(K,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:B=>B.preventDefault(),...y,...Y,onPlaced:()=>S(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,B=>{const W=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!W&&B.key.length===1&&F(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ee=A().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const Q=B.target,H=ee.indexOf(Q);ee=ee.slice(H+1)}setTimeout(()=>N(ee)),B.preventDefault()}})})})})})})});hN.displayName=U7;var V7="SelectItemAlignedPosition",pN=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=fs(Ys,n),i=hs(Ys,n),[a,l]=v.useState(null),[c,u]=v.useState(null),f=be(t,C=>u(C)),p=Zd(n),h=v.useRef(!1),w=v.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=i,g=v.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&b&&y){const C=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const Q=O.left-P.left,H=I.left-Q,re=C.left-H,se=C.width+re,xe=Math.max(se,P.width),pe=window.innerWidth-nn,mt=Wx(H,[nn,Math.max(nn,pe-xe)]);a.style.minWidth=se+"px",a.style.left=mt+"px"}else{const Q=P.right-O.right,H=window.innerWidth-I.right-Q,re=window.innerWidth-C.right-H,se=C.width+re,xe=Math.max(se,P.width),pe=window.innerWidth-nn,mt=Wx(H,[nn,Math.max(nn,pe-xe)]);a.style.minWidth=se+"px",a.style.right=mt+"px"}const L=p(),A=window.innerHeight-nn*2,D=m.scrollHeight,S=window.getComputedStyle(c),R=parseInt(S.borderTopWidth,10),N=parseInt(S.paddingTop,10),M=parseInt(S.borderBottomWidth,10),T=parseInt(S.paddingBottom,10),k=R+N+D+T+M,$=Math.min(b.offsetHeight*5,k),F=window.getComputedStyle(m),z=parseInt(F.paddingTop,10),V=parseInt(F.paddingBottom,10),U=C.top+C.height/2-nn,K=A-U,Y=b.offsetHeight/2,B=b.offsetTop+Y,W=R+N+B,J=k-W;if(W<=U){const Q=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const H=c.clientHeight-m.offsetTop-m.offsetHeight,re=Math.max(K,Y+(Q?V:0)+H+M),se=W+re;a.style.height=se+"px"}else{const Q=L.length>0&&b===L[0].ref.current;a.style.top="0px";const re=Math.max(U,R+m.offsetTop+(Q?z:0)+Y)+J;a.style.height=re+"px",m.scrollTop=W-U+m.offsetTop}a.style.margin=`${nn}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,o.trigger,o.valueNode,a,c,m,b,y,o.dir,r]);et(()=>g(),[g]);const[_,E]=v.useState();et(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const j=v.useCallback(C=>{C&&w.current===!0&&(g(),x==null||x(),w.current=!1)},[g,x]);return d.jsx(G7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:j,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:d.jsx(ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pN.displayName=V7;var W7="SelectPopperPosition",tm=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=nn,...o}=e,i=ef(n);return d.jsx(Eg,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tm.displayName=W7;var[G7,f0]=Pi(Ys,{}),nm="SelectViewport",mN=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=hs(nm,n),i=f0(nm,n),a=be(t,o.onViewportChange),l=v.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Jd.Slot,{scope:n,children:d.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const h=Math.abs(l.current-u.scrollTop);if(h>0){const w=window.innerHeight-nn*2,m=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(m,b);if(y<w){const x=y+h,g=Math.min(w,x),_=x-g;f.style.height=g+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});mN.displayName=nm;var gN="SelectGroup",[K7,Y7]=Pi(gN),q7=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rr();return d.jsx(K7,{scope:n,id:s,children:d.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:t})})});q7.displayName=gN;var vN="SelectLabel",yN=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Y7(vN,n);return d.jsx(ce.div,{id:s.id,...r,ref:t})});yN.displayName=vN;var Fu="SelectItem",[X7,xN]=Pi(Fu),wN=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=fs(Fu,n),l=hs(Fu,n),c=a.value===r,[u,f]=v.useState(o??""),[p,h]=v.useState(!1),w=be(t,x=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,x,r,s)}),m=rr(),b=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(X7,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:v.useCallback(x=>{f(g=>g||((x==null?void 0:x.textContent)??"").trim())},[]),children:d.jsx(Jd.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(ce.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:Z(i.onFocus,()=>h(!0)),onBlur:Z(i.onBlur,()=>h(!1)),onClick:Z(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:Z(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:Z(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Z(i.onPointerMove,x=>{var g;b.current=x.pointerType,s?(g=l.onItemLeave)==null||g.call(l):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,x=>{var g;x.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:Z(i.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(O7.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});wN.displayName=Fu;var na="SelectItemText",bN=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=fs(na,n),a=hs(na,n),l=xN(na,n),c=F7(na,n),[u,f]=v.useState(null),p=be(t,y=>f(y),l.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,l.value,l.disabled)}),h=u==null?void 0:u.textContent,w=v.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=c;return et(()=>(m(w),()=>b(w)),[m,b,w]),d.jsxs(d.Fragment,{children:[d.jsx(ce.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Qs.createPortal(o.children,i.valueNode):null]})});bN.displayName=na;var _N="SelectItemIndicator",SN=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return xN(_N,n).isSelected?d.jsx(ce.span,{"aria-hidden":!0,...r,ref:t}):null});SN.displayName=_N;var rm="SelectScrollUpButton",EN=v.forwardRef((e,t)=>{const n=hs(rm,e.__scopeSelect),r=f0(rm,e.__scopeSelect),[s,o]=v.useState(!1),i=be(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(CN,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});EN.displayName=rm;var sm="SelectScrollDownButton",kN=v.forwardRef((e,t)=>{const n=hs(sm,e.__scopeSelect),r=f0(sm,e.__scopeSelect),[s,o]=v.useState(!1),i=be(t,r.onScrollButtonChange);return et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(CN,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});kN.displayName=sm;var CN=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=hs("SelectScrollButton",n),i=v.useRef(null),a=Zd(n),l=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),et(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),Q7="SelectSeparator",NN=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d.jsx(ce.div,{"aria-hidden":!0,...r,ref:t})});NN.displayName=Q7;var om="SelectArrow",J7=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ef(n),o=fs(om,n),i=hs(om,n);return o.open&&i.position==="popper"?d.jsx(kg,{...s,...r,ref:t}):null});J7.displayName=om;var Z7="SelectBubbleInput",jN=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),o=be(r,s),i=M7(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&u){const f=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(f)}},[i,t]),d.jsx(ce.select,{...n,style:{...b1,...n.style},ref:o,defaultValue:t})});jN.displayName=Z7;function PN(e){return e===""||e===void 0}function TN(e){const t=kt(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function AN(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=e9(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function e9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var t9=sN,RN=iN,n9=lN,r9=cN,s9=uN,MN=dN,o9=mN,IN=yN,ON=wN,i9=bN,a9=SN,DN=EN,$N=kN,LN=NN;const Gx=t9,Kx=n9,im=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(RN,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,d.jsx(r9,{asChild:!0,children:d.jsx(W1,{className:"h-4 w-4 opacity-50"})})]}));im.displayName=RN.displayName;const FN=v.forwardRef(({className:e,...t},n)=>d.jsx(DN,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(qT,{className:"h-4 w-4"})}));FN.displayName=DN.displayName;const zN=v.forwardRef(({className:e,...t},n)=>d.jsx($N,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(W1,{className:"h-4 w-4"})}));zN.displayName=$N.displayName;const am=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>d.jsx(s9,{children:d.jsxs(MN,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[d.jsx(FN,{}),d.jsx(o9,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(zN,{})]})}));am.displayName=MN.displayName;const l9=v.forwardRef(({className:e,...t},n)=>d.jsx(IN,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));l9.displayName=IN.displayName;const lm=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(ON,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(a9,{children:d.jsx(V1,{className:"h-4 w-4"})})}),d.jsx(i9,{children:t})]}));lm.displayName=ON.displayName;const c9=v.forwardRef(({className:e,...t},n)=>d.jsx(LN,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));c9.displayName=LN.displayName;const u9=({onAdd:e,onCancel:t,existingMembers:n,defaultGeneration:r})=>{const[s,o]=v.useState({id:"",name:"",gender:"male",generation:r||void 0,birthPlace:"",occupation:"",bio:"",bloodType:"",mobileNumber:"",email:"",parentId:"",spouseName:"",otherPartnerNames:"",coParentName:""}),[i,a]=v.useState(null),[l,c]=v.useState([]),[u,f]=v.useState(null),p=v.useMemo(()=>{const R=new Set(n.map(T=>T.generation));let N=1;return n.length>0&&(N=Math.max(...Array.from(R))),Array.from({length:N+2},(T,k)=>k+1).sort((T,k)=>T-k)},[n]);v.useEffect(()=>{let R;r!=null?p.includes(r)?R=r:(console.warn(`Provided defaultGeneration (${r}) is not valid or available. Defaulting to first available generation.`),p.length>0?R=p[0]:R=1):s.generation===void 0&&(p.length>0?R=p[0]:R=1),R!==void 0&&s.generation!==R&&w("generation",R)},[p,r,s.generation]);const h=R=>{const N=parseInt(R,10);w("generation",N);const M=n.filter(T=>T.generation===N).slice(0,5).map(T=>T.name);c(M)};v.useEffect(()=>{if(s.generation){const R=n.filter(N=>N.generation===s.generation).slice(0,5).map(N=>N.name);c(R)}},[s.generation,n]);const w=(R,N)=>{f(null),o(M=>({...M,[R]:N}))},m=v.useCallback(R=>{w("name",R.target.value)},[]),b=v.useCallback(R=>{w("gender",R.target.value)},[]),y=v.useCallback(R=>{w("spouseName",R.target.value)},[]),x=v.useCallback(R=>{w("otherPartnerNames",R.target.value)},[]),g=v.useCallback(R=>{if(f(null),R){const N=n.find(M=>M.id===R);if(N&&typeof N.generation=="number"){const M=N.generation+1;o(T=>({...T,parentId:R,generation:M}))}else o(M=>({...M,parentId:R}))}else o(N=>({...N,parentId:R}))},[n]),_=v.useCallback(R=>{w("coParentName",R.target.value)},[]),E=v.useCallback(R=>{w("bloodType",R.target.value)},[]),j=v.useCallback(R=>{w("birthDate",R.target.value)},[]),C=v.useCallback(R=>{w("deathDate",R.target.value)},[]),P=v.useCallback(R=>{w("mobileNumber",R.target.value)},[]),I=v.useCallback(R=>{w("email",R.target.value)},[]),O=v.useCallback(R=>{w("birthPlace",R.target.value)},[]),L=v.useCallback(R=>{w("occupation",R.target.value)},[]),A=v.useCallback(R=>{w("bio",R.target.value)},[]),D=v.useMemo(()=>Array.isArray(n)?n.map(R=>d.jsx(lm,{value:R.id,children:R.name},R.id)):(console.warn("existingMembers is not an array in AddMemberForm. Skipping parent options generation."),[]),[n]),S=async R=>{var K;if(R.preventDefault(),f(null),!((K=s.name)!=null&&K.trim())){f("Name is required.");return}let N;if(i){const B=`public/${`${Date.now()}-${i.name}`}`;try{const{error:W}=await Ne.storage.from("family-member-images").upload(B,i,{cacheControl:"3600",upsert:!1});if(W)console.error("Error uploading profile picture:",W),f(`Failed to upload profile picture: ${W.message}. Please try again or skip.`);else{const{data:J}=Ne.storage.from("family-member-images").getPublicUrl(B);J?N=J.publicUrl:console.error("Could not get public URL for the uploaded image.")}}catch(W){console.error("Catch Error during profile picture upload:",W),f(`An unexpected error occurred during picture upload: ${W.message}.`)}}const M=s.generation&&s.generation>0?s.generation:r||1,{spouseName:T,otherPartnerNames:k,parentId:$,coParentName:F,...z}=s,V=[T==null?void 0:T.trim(),...(k==null?void 0:k.split(",").map(Y=>Y.trim()))||[]].filter(Y=>Y&&Y.trim().length>0),U={...z,id:new Date().getTime().toString(),photo:N,generation:M,partners:V,parents:$?[$]:[],children:[],spouse:void 0,coParentName:(F==null?void 0:F.trim())||void 0};try{await e(U)}catch(Y){f(Y.message||"Failed to add member. Please try again.")}};return d.jsx(Bo,{open:!0,onOpenChange:R=>{R||(t(),f(null))},children:d.jsxs(Os,{className:ie("max-w-4xl max-h-[90vh] overflow-y-auto","z-[55]"),"aria-describedby":"dialog-description",children:[d.jsxs(Xd,{children:[d.jsx(Qd,{className:"text-2xl font-bold text-emerald-800",children:"Add New Family Member"}),d.jsx("p",{id:"dialog-description",className:"sr-only",children:"Form to add a new family member to the family tree"})]}),u&&d.jsx("div",{className:"my-2 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:d.jsx("p",{children:u})}),d.jsxs("form",{onSubmit:S,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),d.jsx(me,{value:s.name||"",onChange:m,placeholder:"Full name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profilePicture",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Profile Picture"}),d.jsx(me,{id:"profilePicture",type:"file",accept:"image/*",onChange:R=>a(R.target.files?R.target.files[0]:null),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gender"}),d.jsxs("select",{value:s.gender,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"spouseName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Spouse's Name"}),d.jsx(me,{type:"text",id:"spouseName",name:"spouseName",value:s.spouseName||"",onChange:y,placeholder:"Spouse's full name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"otherPartnerNames",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Other Partner Names (comma-separated)"}),d.jsx("textarea",{id:"otherPartnerNames",name:"otherPartnerNames",rows:3,value:s.otherPartnerNames||"",onChange:x,placeholder:"e.g., Partner A, Partner B",className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"parentId-select",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Parent"}),d.jsxs(Gx,{value:s.parentId||"",onValueChange:g,children:[d.jsx(im,{id:"parentId-select",className:"w-full",children:d.jsx(Kx,{placeholder:"Select a parent (optional)"})}),d.jsx(am,{className:"z-[60]",children:D})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coParentName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Co-parent's name (if different from spouse/partner)"}),d.jsx(me,{type:"text",id:"coParentName",name:"coParentName",value:s.coParentName||"",onChange:_,placeholder:"Enter co-parent's name"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"generation-select",className:"block text-sm font-medium mb-2",children:"Generation"}),d.jsxs(Gx,{value:String(s.generation||""),onValueChange:h,children:[d.jsx(im,{id:"generation-select",className:"w-full",children:d.jsx(Kx,{placeholder:"Select generation"})}),d.jsx(am,{className:"z-[60]",children:p.map(R=>d.jsxs(lm,{value:String(R),children:["Generation ",R]},R))})]}),l.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Includes: ",l.join(", ")]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Blood Type"}),d.jsxs("select",{value:s.bloodType||"",onChange:E,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[d.jsx("option",{value:"",children:"Select blood type"}),d.jsx("option",{value:"A+",children:"A+"}),d.jsx("option",{value:"A-",children:"A-"}),d.jsx("option",{value:"B+",children:"B+"}),d.jsx("option",{value:"B-",children:"B-"}),d.jsx("option",{value:"AB+",children:"AB+"}),d.jsx("option",{value:"AB-",children:"AB-"}),d.jsx("option",{value:"O+",children:"O+"}),d.jsx("option",{value:"O-",children:"O-"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Birth Date"}),d.jsx(me,{type:"date",value:s.birthDate||"",onChange:j})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Death Date"}),d.jsx(me,{type:"date",value:s.deathDate||"",onChange:C})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mobile Number"}),d.jsx(me,{value:s.mobileNumber||"",onChange:P,placeholder:"e.g., +1234567890"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),d.jsx(me,{type:"email",value:s.email||"",onChange:I,placeholder:"e.g., example@example.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Birth Place"}),d.jsx(me,{value:s.birthPlace||"",onChange:O,placeholder:"City, Country"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Occupation"}),d.jsx(me,{value:s.occupation||"",onChange:L,placeholder:"e.g., Engineer, Artist"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),d.jsx("textarea",{value:s.bio||"",onChange:A,placeholder:"A short biography...",rows:4,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Se,{type:"button",variant:"outline",onClick:()=>{t(),f(null)},children:"Cancel"}),d.jsx(Se,{type:"submit",children:"Add Member"})]})]})]})})},d9=({member:e,onSave:t,onCancel:n,existingMembers:r})=>{const[s,o]=v.useState({...e,children:e.children||[],parentId:e.parents&&e.parents.length>0?e.parents[0]:"",spouseName:"",otherPartnerNames:"",coParentName:e.coParentName||""}),[i,a]=v.useState(null),[l,c]=v.useState(!1),u=Array.isArray(r)?r.filter(h=>h.id!==e.id):[],f=async h=>{if(h.preventDefault(),!s.name){alert("Name is required");return}let w=s.photo;const m=async P=>{if(!P){console.log("deletePhotoFromStorage: No photo URL provided, skipping deletion from storage.");return}try{const I="family-member-images",O=P.split("/"),L=O.indexOf(I);if(L===-1){console.warn(`deletePhotoFromStorage: Could not find bucket name '${I}' in URL: ${P}`);return}const A=O.slice(L+1).join("/");if(A){console.log(`deletePhotoFromStorage: Attempting to delete '${A}' from bucket '${I}'.`);const{error:D}=await Ne.storage.from(I).remove([A]);D?console.warn(`deletePhotoFromStorage: Error deleting photo '${A}' from storage: ${D.message}`,D):console.log(`deletePhotoFromStorage: Successfully deleted photo '${A}' from storage.`)}else console.warn(`deletePhotoFromStorage: Extracted empty file path from URL '${P}'. Cannot delete.`)}catch(I){const O=I instanceof Error?I.message:String(I);console.warn(`deletePhotoFromStorage: Exception during photo deletion from storage for URL '${P}': ${O}`,I)}};if(l&&(s.photo&&await m(s.photo),w=void 0),i){s.photo&&s.photo!==w&&await m(s.photo);const I=`public/${`${Date.now()}-${i.name}`}`,{data:O,error:L}=await Ne.storage.from("family-member-images").upload(I,i,{cacheControl:"3600",upsert:!1});if(L)console.error("Error uploading new profile picture:",L),alert(`Failed to upload new profile picture: ${L.message}.`);else{const{data:A}=Ne.storage.from("family-member-images").getPublicUrl(I);w=A==null?void 0:A.publicUrl}}const{parentId:b,spouseName:y,otherPartnerNames:x,coParentName:g,photo:_,...E}=s,j=[y==null?void 0:y.trim(),...(x==null?void 0:x.split(",").map(P=>P.trim()))||[]].filter(P=>P&&P.trim().length>0),C={...E,id:e.id,parents:b?[b]:[],partners:j,spouse:void 0,coParentName:(g==null?void 0:g.trim())||void 0,photo:w};t(C)},p=(h,w)=>{o(m=>({...m,[h]:w}))};return d.jsx(Bo,{open:!0,onOpenChange:n,children:d.jsxs(Os,{className:ie("max-w-4xl max-h-[90vh] overflow-y-auto","z-[55]"),children:[" ",d.jsx(Xd,{children:d.jsx(Qd,{className:"dark:text-emerald-300",children:"Edit Family Member"})}),d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Name *"}),d.jsx(me,{value:s.name,onChange:h=>p("name",h.target.value),placeholder:"Full name",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Gender"}),d.jsxs("select",{value:s.gender,onChange:h=>p("gender",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"spouseName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Spouse's Name"}),d.jsx(me,{type:"text",id:"spouseName",name:"spouseName",value:s.spouseName||"",onChange:h=>p("spouseName",h.target.value),placeholder:"Spouse's full name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"otherPartnerNames",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Other Partner Names (comma-separated)"}),d.jsx("textarea",{id:"otherPartnerNames",name:"otherPartnerNames",rows:3,value:s.otherPartnerNames||"",onChange:h=>p("otherPartnerNames",h.target.value),placeholder:"e.g., Partner A, Partner B",className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"parentId",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Parent"}),d.jsxs("select",{id:"parentId",name:"parentId",value:s.parentId||"",onChange:h=>p("parentId",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[d.jsx("option",{value:"",children:"Select a parent (optional)"}),u.map(h=>d.jsx("option",{value:h.id,children:h.name},h.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"coParentName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Co-parent's name (if different from spouse/partner)"}),d.jsx(me,{type:"text",id:"coParentName",name:"coParentName",value:s.coParentName||"",onChange:h=>p("coParentName",h.target.value),placeholder:"Enter co-parent's name"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Generation"}),d.jsx(me,{type:"number",value:s.generation,onChange:h=>p("generation",parseInt(h.target.value)),min:"1",max:"10"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Blood Type"}),d.jsxs("select",{value:s.bloodType||"",onChange:h=>p("bloodType",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[d.jsx("option",{value:"",children:"Select blood type"}),d.jsx("option",{value:"A+",children:"A+"}),d.jsx("option",{value:"A-",children:"A-"}),d.jsx("option",{value:"B+",children:"B+"}),d.jsx("option",{value:"B-",children:"B-"}),d.jsx("option",{value:"AB+",children:"AB+"}),d.jsx("option",{value:"AB-",children:"AB-"}),d.jsx("option",{value:"O+",children:"O+"}),d.jsx("option",{value:"O-",children:"O-"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Birth Date"}),d.jsx(me,{type:"date",value:s.birthDate||"",onChange:h=>p("birthDate",h.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Death Date"}),d.jsx(me,{type:"date",value:s.deathDate||"",onChange:h=>p("deathDate",h.target.value)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Mobile Number"}),d.jsx(me,{value:s.mobileNumber||"",onChange:h=>p("mobileNumber",h.target.value),placeholder:"+1-555-0123"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Email Address"}),d.jsx(me,{type:"email",value:s.email||"",onChange:h=>p("email",h.target.value),placeholder:"email@example.com"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Birth Place"}),d.jsx(me,{value:s.birthPlace||"",onChange:h=>p("birthPlace",h.target.value),placeholder:"City, State/Country"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Occupation"}),d.jsx(me,{value:s.occupation||"",onChange:h=>p("occupation",h.target.value),placeholder:"Job title"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Biography"}),d.jsx("textarea",{value:s.bio||"",onChange:h=>p("bio",h.target.value),placeholder:"Brief biography...",className:"w-full p-2 border border-gray-300 rounded-md h-24 resize-none dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Profile Picture"}),s.photo&&!l&&d.jsxs("div",{className:"mb-2",children:[d.jsx("img",{src:s.photo,alt:"Current profile",className:"w-24 h-24 object-cover rounded-md border border-gray-300"}),d.jsx(Se,{variant:"link",size:"sm",onClick:()=>{c(!0),a(null)},className:"text-red-500 hover:text-red-700 mt-1",children:"Remove current picture"})]}),(l||!s.photo)&&d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:l?"Current picture will be removed.":"No current picture."}),d.jsx(me,{id:"profilePicture",type:"file",accept:"image/*",onChange:h=>{const w=h.target.files?h.target.files[0]:null;a(w),w&&c(!1)},className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"}),i&&d.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["New picture selected: ",i.name,". This will replace the current picture upon saving."]})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(Se,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),d.jsx(Se,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})]})})},Xe=[];for(let e=0;e<256;++e)Xe.push((e+256).toString(16).slice(1));function f9(e,t=0){return(Xe[e[t+0]]+Xe[e[t+1]]+Xe[e[t+2]]+Xe[e[t+3]]+"-"+Xe[e[t+4]]+Xe[e[t+5]]+"-"+Xe[e[t+6]]+Xe[e[t+7]]+"-"+Xe[e[t+8]]+Xe[e[t+9]]+"-"+Xe[e[t+10]]+Xe[e[t+11]]+Xe[e[t+12]]+Xe[e[t+13]]+Xe[e[t+14]]+Xe[e[t+15]]).toLowerCase()}let mh;const h9=new Uint8Array(16);function p9(){if(!mh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mh=crypto.getRandomValues.bind(crypto)}return mh(h9)}const m9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yx={randomUUID:m9};function g9(e,t,n){var s;if(Yx.randomUUID&&!e)return Yx.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??p9();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,f9(r)}var v9="Label",BN=v.forwardRef((e,t)=>d.jsx(ce.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BN.displayName=v9;var UN=BN;const y9=hl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=v.forwardRef(({className:e,...t},n)=>d.jsx(UN,{ref:n,className:ie(y9(),e),...t}));Rt.displayName=UN.displayName;const x9=hl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tl=v.forwardRef(({className:e,variant:t,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:ie(x9({variant:t}),e),...n}));tl.displayName="Alert";const nl=v.forwardRef(({className:e,...t},n)=>d.jsx("h5",{ref:n,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));nl.displayName="AlertTitle";const rl=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));rl.displayName="AlertDescription";const w9=({onLoginSuccess:e})=>{const[t,n]=v.useState(""),[r,s]=v.useState(""),[o,i]=v.useState(null),[a,l]=v.useState(!1),[c,u]=v.useState(null),f=async h=>{h.preventDefault(),l(!0),i(null),u(null);const{error:w}=await Ne.auth.signInWithPassword({email:t,password:r});w?i(w.message):(u("Login successful! Redirecting..."),e&&e()),l(!1)},p=async()=>{l(!0),i(null);const{error:h}=await Ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});h&&(i(h.message),l(!1))};return d.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-xl",children:[d.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-6",children:"Login"}),o&&d.jsxs(tl,{variant:"destructive",className:"mb-4",children:[d.jsx(nl,{children:"Error"}),d.jsx(rl,{children:o})]}),c&&d.jsxs(tl,{variant:"default",className:"mb-4",children:[" ",d.jsx(nl,{children:"Success"}),d.jsx(rl,{children:c})]}),d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx(me,{id:"email",type:"email",value:t,onChange:h=>n(h.target.value),placeholder:"you@example.com",required:!0,className:"pl-10"})]})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx(me,{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),placeholder:"",required:!0,className:"pl-10"})]})]}),d.jsx(Se,{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700",children:a?"Logging in...":"Login with Email"})]}),d.jsxs("div",{className:"relative my-4",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),d.jsxs(Se,{variant:"outline",onClick:p,disabled:a,className:"w-full",children:[d.jsx(q1,{className:"mr-2 h-4 w-4"})," ","Sign in with Google"]})]})},b9=({onSignUpSuccess:e})=>{const[t,n]=v.useState(""),[r,s]=v.useState(""),[o,i]=v.useState(""),[a,l]=v.useState(null),[c,u]=v.useState(!1),[f,p]=v.useState(null),h=async m=>{if(m.preventDefault(),l(null),p(null),r!==o){l("Passwords do not match.");return}if(r.length<6){l("Password must be at least 6 characters long.");return}u(!0);const{error:b}=await Ne.auth.signUp({email:t,password:r});b?l(b.message):p("Sign up successful! Please check your email to confirm your account."),u(!1)},w=async()=>{u(!0),l(null);const{error:m}=await Ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});m&&(l(m.message),u(!1))};return d.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-xl",children:[d.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-6",children:"Create Account"}),a&&d.jsxs(tl,{variant:"destructive",className:"mb-4",children:[d.jsx(nl,{children:"Error"}),d.jsx(rl,{children:a})]}),f&&d.jsxs(tl,{variant:"default",className:"mb-4",children:[d.jsx(nl,{children:"Success"}),d.jsx(rl,{children:f})]}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"email-signup",className:"text-gray-700 dark:text-gray-300",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx(me,{id:"email-signup",type:"email",value:t,onChange:m=>n(m.target.value),placeholder:"you@example.com",required:!0,className:"pl-10"})]})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"password-signup",className:"text-gray-700 dark:text-gray-300",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx(me,{id:"password-signup",type:"password",value:r,onChange:m=>s(m.target.value),placeholder:" (min. 6 characters)",required:!0,className:"pl-10"})]})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"confirm-password-signup",className:"text-gray-700 dark:text-gray-300",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(fp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx(me,{id:"confirm-password-signup",type:"password",value:o,onChange:m=>i(m.target.value),placeholder:"",required:!0,className:"pl-10"})]})]}),d.jsxs(Se,{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[d.jsx(hp,{className:"mr-2 h-4 w-4"}),c?"Creating Account...":"Create Account with Email"]})]}),d.jsxs("div",{className:"relative my-4",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"Or sign up with"})})]}),d.jsxs(Se,{variant:"outline",onClick:w,disabled:c,className:"w-full",children:[d.jsx(q1,{className:"mr-2 h-4 w-4"})," ","Sign up with Google"]})]})},_9=eN,S9=tN,HN=v.forwardRef(({className:e,...t},n)=>d.jsx(Gd,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));HN.displayName=Gd.displayName;const E9=hl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),VN=v.forwardRef(({side:e="right",className:t,children:n,...r},s)=>d.jsxs(S9,{children:[d.jsx(HN,{}),d.jsxs(Kd,{ref:s,className:ie(E9({side:e}),t),...r,children:[n,d.jsxs(nN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(pl,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));VN.displayName=Kd.displayName;const k9=v.forwardRef(({className:e,...t},n)=>d.jsx(Yd,{ref:n,className:ie("text-lg font-semibold text-foreground",e),...t}));k9.displayName=Yd.displayName;const C9=v.forwardRef(({className:e,...t},n)=>d.jsx(qd,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));C9.displayName=qd.displayName;const N9=[{to:"/",label:"Home"},{to:"/members",label:"Members"},{to:"/magazines",label:"Magazines"}],j9=()=>{var ee,Q;const{user:e,loading:t,signOut:n}=$C(),[r,s]=v.useState(null),[o,i]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState(!1),[f,p]=v.useState([]),[h,w]=v.useState(null),[m,b]=v.useState(!0),[y,x]=v.useState(null),[g,_]=v.useState(null),[E,j]=v.useState(""),[C,P]=v.useState(!1),[I,O]=v.useState(null),[L,A]=v.useState("FullTree"),[D,S]=v.useState("Descendants"),[R,N]=v.useState(null),[M,T]=v.useState(!1),k=v.useCallback(async()=>{b(!0),x(null);const{data:H,error:re}=await Ne.from("family_members").select("*");re?(console.error("Error fetching members:",re),x(re.message),p([])):p([...H]),b(!1)},[]);v.useEffect(()=>{k()},[k]);const $=v.useCallback(async H=>{if(!e){console.error("User not authenticated. Cannot add member."),x("You must be logged in to add a member.");return}const re=g9(),xe={...{...H,id:re,generation:H.generation||1},generation:typeof H.generation=="number"&&H.generation>0?H.generation:1},{error:pe}=await Ne.from("family_members").insert([xe]);if(pe)throw console.error("Error adding member:",pe),x(`Failed to add member: ${pe.message}`),pe;await k(),u(!1)},[k,e]),F=v.useCallback(H=>{if(H){const re=f.find(se=>se.id===H.id);w(re||null)}else w(null)},[f]),z=v.useCallback(async H=>{if(!e){console.error("User not authenticated. Cannot save member."),x("You must be logged in to save changes.");return}const{id:re,...se}=H,xe={...se};H.photo===void 0||H.photo===""?xe.photo=null:xe.photo=H.photo;const{error:pe}=await Ne.from("family_members").update(xe).eq("id",re);pe?(console.error("Error updating member:",pe),x(`Failed to update member: ${pe.message}`)):(await k(),w(null))},[k,e]),V=v.useCallback(async H=>{if(!e){console.error("User not authenticated. Cannot delete member."),x("You must be logged in to delete a member.");return}const{error:re}=await Ne.from("family_members").delete().eq("id",H);re?(console.error("Error deleting member:",re),x(`Failed to delete member: ${re.message}`)):(await k(),(r==null?void 0:r.id)===H&&s(null),(h==null?void 0:h.id)===H&&w(null))},[k,r,h,e]),U=v.useCallback(H=>{if(H){_(H);const re=f.find(se=>se.id===H);s(re||null)}else _(null),s(null)},[f]),K=v.useCallback(H=>{U(H),P(!1)},[U]),Y=v.useCallback(()=>{U(null),A("FullTree"),j("")},[U,A,j]),B=v.useCallback(H=>{j(H),H||_(null)},[]),W=v.useCallback(H=>{N(H),T(!0)},[]),J=v.useCallback(()=>{P(H=>!H)},[]);return m?d.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading family data..."}):y?d.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:["Error loading data: ",y]}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 flex flex-col",children:[d.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[" ",d.jsx("img",{src:"/unityLogo.png",alt:"Custom Icon",className:"h-8 w-8"}),d.jsx("h1",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})]}),d.jsxs("div",{className:"flex items-center min-w-0",children:[" ",d.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[d.jsx(Kt,{to:"/",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Home"}),d.jsx(Kt,{to:"/members",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Members"}),d.jsx(Kt,{to:"/magazines",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Magazines"})]}),d.jsxs("div",{className:"hidden md:flex items-center",children:[!t&&e&&d.jsxs(Se,{variant:"outline",className:"mr-2",onClick:()=>u(!0),children:[d.jsx(hp,{className:"mr-2 h-4 w-4"})," Add Member"]}),t?d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Loading..."}):e?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 mr-3 hidden sm:inline",children:["Hi, ",(ee=e.email)==null?void 0:ee.split("@")[0]]}),d.jsx(Se,{variant:"outline",onClick:n,className:"mr-2",children:"Logout"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Se,{variant:"outline",onClick:()=>i(!0),className:"mr-2",children:"Login"}),d.jsx(Se,{variant:"default",onClick:()=>l(!0),className:"mr-2",children:"Sign Up"})]})]}),d.jsx("div",{className:"hidden md:block ml-2",children:d.jsx(Eu,{})}),d.jsx(Se,{variant:"outline",size:"icon",onClick:J,"aria-label":C?"Close sidebar":"Open sidebar",className:"ml-2",children:C?d.jsx(oA,{className:"h-5 w-5"}):d.jsx(iA,{className:"h-5 w-5"})})]})]})})}),d.jsx("section",{className:"pt-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx(wE,{focusedMemberId:g,members:f,onSelectMember:_,className:"mb-4 ml-1"}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:["Our Family",d.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 block",children:"Legacy Tree"})]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Explore our family connections and discover the stories that connect us across generations."})]})]})}),d.jsxs("div",{className:"flex-1 w-full pb-8 flex flex-col",children:[" ",d.jsxs("main",{className:"flex-grow px-4 sm:px-6 lg:px-8 flex flex-col",children:[" ",d.jsxs("section",{className:"relative min-h-[400px] flex-1",children:["  ",d.jsx("div",{className:"absolute inset-0 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:d.jsxs("div",{className:"h-full w-full relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-800 dark:via-slate-900 dark:to-black"}),d.jsx(eB,{members:f,onMemberSelect:H=>U(H.id),searchQuery:E,onSetEditingMember:F,onDeleteMember:V,focusedMemberId:g,hoveredMemberId:I,viewMode:L,lineageDirection:D,onNodeClick:W})]})})]})]}),d.jsx(_9,{open:C,onOpenChange:P,children:d.jsx(VN,{side:"right",className:"w-full sm:w-[400px] p-0 overflow-y-auto",children:d.jsxs("div",{className:"flex flex-col h-full p-4 space-y-4",children:[" ",d.jsx("nav",{className:"flex flex-col space-y-1",children:N9.map(H=>d.jsx(Kt,{to:H.to,className:"text-lg py-2 px-3 hover:bg-accent rounded-md text-foreground font-medium",onClick:()=>P(!1),children:H.label},H.to))}),d.jsx("hr",{}),d.jsx(F4,{members:f,searchQuery:E,onSearchQueryChange:B,onMemberSelect:H=>{K(H)},focusedMemberId:g,onResetFocus:Y,onHoverMember:O,viewMode:L,setViewMode:A,lineageDirection:D,setLineageDirection:S,isSidebarOpen:C,onToggleSidebar:J}),d.jsx("div",{className:"flex-grow"}),d.jsx("hr",{}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Eu,{}),d.jsxs("div",{className:"flex flex-col space-y-2",children:[!t&&e&&d.jsxs(Se,{variant:"outline",onClick:()=>{u(!0),P(!1)},children:[d.jsx(hp,{className:"mr-2 h-4 w-4"})," Add Member"]}),t?d.jsx("span",{className:"text-sm text-center text-muted-foreground py-2",children:"Loading user..."}):e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-sm text-center text-muted-foreground py-1",children:["Hi, ",(Q=e.email)==null?void 0:Q.split("@")[0]]}),d.jsx(Se,{variant:"outline",onClick:()=>{n(),P(!1)},children:"Logout"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Se,{variant:"outline",onClick:()=>{i(!0),P(!1)},children:"Login"}),d.jsx(Se,{variant:"default",onClick:()=>{l(!0),P(!1)},children:"Sign Up"})]})]})]})]})})})]}),r&&d.jsx(x7,{member:r,onClose:()=>s(null),onEditRequest:F,canEdit:!t&&!!e&&e.role==="admin"}),c&&d.jsx(u9,{onAdd:$,onCancel:()=>u(!1),existingMembers:f}),h&&d.jsx(d9,{member:h,onSave:z,onCancel:()=>w(null),existingMembers:f}),o&&d.jsx(Bo,{open:o,onOpenChange:i,children:d.jsx(Os,{className:"sm:max-w-md",children:d.jsx(w9,{onLoginSuccess:()=>i(!1)})})}),a&&d.jsx(Bo,{open:a,onOpenChange:l,children:d.jsx(Os,{className:"sm:max-w-md",children:d.jsx(b9,{onSignUpSuccess:()=>l(!1)})})}),R&&d.jsx(Bo,{open:M,onOpenChange:T,children:d.jsxs(Os,{className:"sm:max-w-md",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Member Details (Modal)"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",R.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"ID:"})," ",R.id]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Gender:"})," ",R.gender]}),d.jsx(Se,{onClick:()=>T(!1),className:"mt-4",children:"Close"})]})})]})},P9=()=>{const[e,t]=v.useState(""),[n,r]=v.useState([]),[s,o]=v.useState(!0),[i,a]=v.useState(null),l=v.useCallback(async()=>{o(!0),a(null);const{data:h,error:w}=await Ne.from("family_members").select("*");w?(console.error("Error fetching members for Members page:",w),a(w.message),r([])):r(h),o(!1)},[]);v.useEffect(()=>{l()},[l]);const c=h=>OC(h.partners),u=(h,w)=>{if(!h)return null;const m=new Date(h);return(w?new Date(w):new Date).getFullYear()-m.getFullYear()},f=n.filter(h=>{var w,m;return h.name.toLowerCase().includes(e.toLowerCase())||((w=h.occupation)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))||((m=h.birthPlace)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))}),p=()=>{t("")};return s?d.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 text-gray-700 dark:text-slate-300",children:"Loading members..."}):i?d.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 text-red-700 dark:text-red-400 p-4",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Error Fetching Data"}),d.jsx("p",{className:"mb-2",children:"There was an issue retrieving the family members list:"}),d.jsx("p",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded border border-red-300 dark:border-red-700",children:i}),d.jsx(Button,{onClick:l,className:"mt-6",children:"Try Again"})]}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 py-8",children:[d.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 mb-8",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx(Kt,{to:"/",className:"flex items-center space-x-3",children:d.jsx("span",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[d.jsx(Kt,{to:"/",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Home"}),d.jsx(Kt,{to:"/members",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Members"}),d.jsx(Kt,{to:"/magazines",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Magazines"})]}),d.jsx(Eu,{})]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:"Family Members"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 mb-6",children:"Meet all our wonderful family members"}),d.jsxs("div",{className:"max-w-md mx-auto relative",children:[d.jsxs("div",{className:"relative",children:[d.jsx(aA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),d.jsx("input",{type:"text",placeholder:"Search family members...",value:e,onChange:h=>t(h.target.value),className:`w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg 
                           focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 
                           dark:focus:ring-emerald-600 dark:focus:border-emerald-600
                           transition-colors bg-white dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:placeholder-gray-400 shadow-sm`}),e&&d.jsx("button",{onClick:p,className:`absolute right-3 top-1/2 transform -translate-y-1/2 
                             h-5 w-5 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors`,children:d.jsx(pl,{className:"h-4 w-4"})})]}),e&&n.length>0&&d.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 
                              rounded-lg shadow-lg z-10 p-2`,children:d.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["Found ",f.length," member",f.length!==1?"s":""," matching: ",d.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:['"',e,'"']})]})})]})]}),!e&&!s&&n.length===0&&d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:"No members found in the database."})}),n.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(h=>{const w=c(h),m=u(h.birthDate,h.deathDate),b=h.parents&&h.parents.length>0?h.parents.map(y=>{const x=n.find(g=>g.id===y);return x?x.name:null}).filter(y=>y!==null):[];return d.jsxs(ai,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300 dark:bg-slate-800",children:[d.jsx(bd,{className:`pb-4 ${h.gender==="male"?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-rose-500 to-pink-600"} text-white`,children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-16 h-16 bg-white/20 dark:bg-slate-700/30 rounded-full flex items-center justify-center",children:h.photo?d.jsx("img",{src:h.photo,alt:h.name,className:"w-full h-full object-cover rounded-full"}):d.jsx(id,{className:"w-8 h-8 text-white"})}),d.jsxs("div",{children:[d.jsx(_d,{className:"text-xl font-bold text-white",children:h.name}),d.jsxs("p",{className:"text-white/80 text-sm",children:["Generation ",h.generation]})]})]})}),d.jsxs(Sd,{className:"p-6 space-y-4 dark:text-slate-300",children:[d.jsxs("div",{className:"space-y-3",children:[h.birthDate&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(Us,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsxs("span",{children:["Born: ",new Date(h.birthDate).toLocaleDateString(),m&&` (${m} years old)`]})]}),h.deathDate&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(Us,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsxs("span",{children:["Died: ",new Date(h.deathDate).toLocaleDateString()]})]}),h.birthPlace&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(X1,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsx("span",{children:h.birthPlace})]}),h.occupation&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(cg,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsx("span",{children:h.occupation})]}),h.bloodType&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(ZT,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsxs("span",{children:["Blood Type: ",h.bloodType]})]}),h.mobileNumber&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(Q1,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsx("span",{children:h.mobileNumber})]}),h.email&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(ug,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsx("span",{children:h.email})]}),b.length>0&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(Rs,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsxs("span",{children:["Parents: ",b.join(" & ")]})]}),h.coParentName&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[d.jsx(Rs,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),d.jsxs("span",{children:["Co-parent: ",h.coParentName]})]})]}),w.length>0&&d.jsxs("div",{className:"border-t dark:border-slate-700 pt-4",children:[d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx(Y1,{className:"w-4 h-4 mr-2 text-red-500"}),d.jsx("span",{className:"font-semibold text-gray-800 dark:text-slate-200",children:"Partner(s)"})]}),w.map((y,x)=>d.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-3 mb-2 last:mb-0",children:d.jsx("div",{className:"font-medium text-gray-800 dark:text-slate-200",children:y})},x))]}),h.bio&&d.jsx("div",{className:"border-t dark:border-slate-700 pt-4",children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-300 leading-relaxed",children:h.bio})})]})]},h.id)})}),n.length>0&&f.length===0&&e&&d.jsxs("div",{className:"text-center py-12",children:[d.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:['No family members found matching "',e,'"']}),d.jsx("button",{onClick:p,className:"mt-4 text-emerald-600 hover:text-emerald-700 dark:text-emerald-500 dark:hover:text-emerald-400 font-medium",children:"Clear search"})]})]})]})},WN=v.forwardRef(({className:e,...t},n)=>d.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));WN.displayName="Textarea";const T9=({onSubmit:e,onCancel:t})=>{const[n,r]=v.useState({title:"",description:"",coverImage:"",publishDate:"",pages:0,redirectUrl:""}),[s,o]=v.useState(null),i=c=>{const{name:u,value:f,type:p}=c.target;r(h=>({...h,[u]:p==="number"?parseInt(f,10)||0:f}))},a=c=>{c.target.files&&c.target.files[0]?o(c.target.files[0]):o(null)},l=c=>{if(c.preventDefault(),!s){alert("Please select a PDF file.");return}e({...n,pdfFile:s})};return d.jsxs("form",{onSubmit:l,className:"space-y-6 p-4 bg-white dark:bg-slate-800 shadow-md rounded-lg",children:[d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Magazine Title"}),d.jsx(me,{id:"title",name:"title",type:"text",value:n.title,onChange:i,required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),d.jsx(WN,{id:"description",name:"description",value:n.description,onChange:i,required:!0,rows:4,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"coverImage",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Cover Image URL"}),d.jsx(me,{id:"coverImage",name:"coverImage",type:"url",value:n.coverImage,onChange:i,required:!0,placeholder:"https://example.com/image.png",className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"publishDate",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Publish Date"}),d.jsx(me,{id:"publishDate",name:"publishDate",type:"date",value:n.publishDate,onChange:i,required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"pages",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pages"}),d.jsx(me,{id:"pages",name:"pages",type:"number",value:n.pages,onChange:i,required:!0,min:"1",className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"redirectUrl",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Flipbook Redirect URL"}),d.jsx(me,{id:"redirectUrl",name:"redirectUrl",type:"url",value:n.redirectUrl,onChange:i,placeholder:"https://yourflipbook.com/magazine",required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),d.jsxs("div",{children:[d.jsx(Rt,{htmlFor:"pdfFile",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Magazine PDF"}),d.jsx(me,{id:"pdfFile",name:"pdfFile",type:"file",accept:".pdf",onChange:a,required:!0,className:`mt-1 block w-full text-sm text-gray-500 dark:text-slate-400
                     file:mr-4 file:py-2 file:px-4
                     file:rounded-md file:border-0
                     file:text-sm file:font-semibold
                     file:bg-emerald-50 dark:file:bg-emerald-900
                     file:text-emerald-700 dark:file:text-emerald-300
                     hover:file:bg-emerald-100 dark:hover:file:bg-emerald-800`})]}),d.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[d.jsx(Se,{type:"button",variant:"outline",onClick:t,className:"dark:text-slate-300 dark:border-slate-600 hover:dark:bg-slate-700",children:"Cancel"}),d.jsx(Se,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 text-white",children:"Add Magazine"})]})]})},A9=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!1),[s,o]=v.useState(!0),[i,a]=v.useState(null),[l,c]=v.useState(!1),[u,f]=v.useState(!1);async function p(){a(null);const{data:m,error:b}=await Ne.from("magazines").select("*").order("created_at",{ascending:!1});if(b)console.error("Error fetching magazines:",b),a("Could not fetch magazines. Please try again later."),t([]);else if(m){const y=await Promise.all(m.map(async x=>{let g="";if(x.pdf_storage_path){const{data:_}=Ne.storage.from("emagazines").getPublicUrl(x.pdf_storage_path);g=(_==null?void 0:_.publicUrl)||""}return{id:x.id,title:x.title,description:x.description,coverImage:x.cover_image_url||"",publishDate:x.publish_date||"",pages:x.pages,redirectUrl:x.redirect_url||"",pdfUrl:g,pdf_storage_path:x.pdf_storage_path||""}}));t(y)}o(!1)}v.useEffect(()=>{(async()=>{var x;o(!0);const{data:{user:b},error:y}=await Ne.auth.getUser();if(y)y.message==="Auth session missing!"||(console.error("Error fetching user session:",y),st.error(`Error fetching user session: ${y.message}`)),f(!1);else if(b){const g=((x=b.app_metadata)==null?void 0:x.app_role)==="admin"||!1;f(g)}else f(!1);await p()})()},[]);const h=async m=>{if(!u){st.error("Unauthorized: Only admins can add magazines.");return}if(c(!0),st.info("Uploading PDF...",{id:"upload-toast"}),!m.pdfFile){st.error("No PDF file selected. Please select a PDF to upload."),c(!1);return}const y=`public/magazine-pdfs/${`${Date.now()}_${m.pdfFile.name.replace(/[^a-zA-Z0-9._-]/g,"")}`}`,{data:x,error:g}=await Ne.storage.from("emagazines").upload(y,m.pdfFile,{cacheControl:"3600",upsert:!1});if(g||!x){console.error("Error uploading PDF:",g),st.error(`PDF Upload Failed: ${(g==null?void 0:g.message)||"Unknown error"}`),c(!1);return}st.success("PDF uploaded successfully!",{id:"upload-toast"}),st.info("Saving magazine details...",{id:"save-toast"});const _={title:m.title,description:m.description,cover_image_url:m.coverImage,publish_date:m.publishDate,pages:m.pages,redirect_url:m.redirectUrl,pdf_storage_path:x.path},{error:E}=await Ne.from("magazines").insert([_]);if(E){console.error("Error inserting magazine data:",E),st.error(`Failed to save magazine: ${E.message}`),c(!1);return}st.success("Magazine saved successfully!",{id:"save-toast"}),await p(),r(!1),c(!1)},w=async(m,b)=>{if(!u){st.error("Unauthorized: Only admins can delete magazines.");return}if(!window.confirm("Are you sure you want to delete this magazine? This action cannot be undone."))return;const y=`delete-${m}`;if(st.loading("Deleting magazine...",{id:y}),b&&b.trim()!==""){const{error:g}=await Ne.storage.from("emagazines").remove([b]);g?(console.error("Error deleting PDF from storage:",g),st.error(`Failed to delete magazine PDF: ${g.message}. DB record may still exist.`,{id:y})):st.success("Magazine PDF deleted from storage.",{id:y})}else st.info("No PDF storage path found, skipping storage deletion.",{id:y});const{error:x}=await Ne.from("magazines").delete().match({id:m});if(x){console.error("Error deleting magazine from database:",x),st.error(`Failed to delete magazine from database: ${x.message}`,{id:y});return}st.success("Magazine deleted successfully!",{id:y,duration:4e3}),await p()};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 py-8",children:[d.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 mb-8",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx(Kt,{to:"/",className:"flex items-center space-x-3",children:d.jsx("span",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[d.jsx(Kt,{to:"/",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Home"}),d.jsx(Kt,{to:"/members",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Members"}),d.jsx(Kt,{to:"/magazines",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Magazines"})]}),d.jsx(Eu,{})]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:"Family Magazines"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Discover our collection of digital family magazines, featuring stories, photos, and memories that celebrate our family heritage and milestones."})]}),s&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Lf,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500 animate-pulse"}),d.jsx("p",{className:"mt-2 text-lg font-medium text-gray-700 dark:text-slate-300",children:"Loading magazines..."})]}),i&&!s&&d.jsxs("div",{className:"text-center py-12 bg-red-50 dark:bg-red-900/30 p-4 rounded-md",children:[d.jsx(Rs,{className:"mx-auto h-12 w-12 text-red-500 dark:text-red-400"})," ",d.jsxs("p",{className:"mt-2 text-lg font-medium text-red-700 dark:text-red-300",children:["Error: ",i]})]}),!s&&!i&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[d.jsxs(Bo,{open:n,onOpenChange:r,children:[d.jsx(T7,{asChild:!0,children:u&&d.jsxs(ai,{className:"flex flex-col items-center justify-center text-center p-6 cursor-pointer hover:shadow-xl transition-all duration-300 group min-h-[480px] dark:bg-slate-800 hover:dark:bg-slate-700",children:[" ",d.jsx(K1,{className:"w-16 h-16 text-emerald-500 dark:text-emerald-400 mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-slate-200",children:"Add New Magazine"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Click to upload a new issue."})]})}),d.jsxs(Os,{className:"sm:max-w-[600px] dark:bg-slate-800",children:[d.jsx(Xd,{children:d.jsx(Qd,{className:"text-gray-900 dark:text-slate-100",children:"Upload New Magazine"})}),d.jsx(T9,{onSubmit:h,onCancel:()=>{l||r(!1)}})]})]}),e.map(m=>d.jsxs(ai,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 group min-h-[480px] dark:bg-slate-800",children:[" ",d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("img",{src:m.coverImage,alt:m.title,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d.jsx("div",{className:"absolute top-4 right-4 bg-white/90 dark:bg-slate-700/90 backdrop-blur-sm px-2 py-1 rounded-md",children:d.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:[m.pages," pages"]})})]}),d.jsxs(bd,{className:"pb-4",children:[d.jsx(_d,{className:"text-xl font-bold text-gray-900 dark:text-slate-100 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:m.title}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-slate-400 mt-2",children:[d.jsx(Us,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:new Date(m.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),d.jsxs(Sd,{className:"pt-0 flex flex-col flex-grow",children:[" ",d.jsxs("p",{className:"text-gray-600 dark:text-slate-300 text-sm leading-relaxed mb-6 flex-grow h-20 overflow-hidden",children:[" ",m.description]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("a",{href:m.redirectUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[d.jsx(eA,{className:"w-4 h-4"}),d.jsx("span",{children:"Read"})]}),d.jsxs("a",{href:m.pdfUrl,download:`${m.title}.pdf`,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[d.jsx(JT,{className:"w-4 h-4"}),d.jsx("span",{children:"Download"})]})]}),u&&d.jsx("div",{className:"mt-4 px-6 pb-4",children:d.jsx("button",{onClick:()=>w(m.id,m.pdf_storage_path),className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:d.jsx("span",{children:"Delete Magazine"})})})]})]},m.id)),!s&&!i&&e.length===0&&d.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 text-center py-12",children:[d.jsx(Lf,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500"}),d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-slate-100",children:"No magazines found."}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Why not add the first one?"})]})]}),d.jsxs("div",{className:"mt-16 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-8",children:[e.length===0&&!s&&!i&&d.jsxs("div",{className:"text-center pb-8",children:[d.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-slate-100",children:"No magazines available to show stats."}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Add a magazine to see statistics here."})]}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100 mb-2",children:"Magazine Statistics"}),d.jsx("p",{className:"text-gray-600 dark:text-slate-300",children:"Our family publication journey"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Lf,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),d.jsx("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400 mb-2",children:e.length}),d.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Total Issues"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Rs,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"150+"}),d.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Stories Featured"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Us,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"2"}),d.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Years Publishing"})]})]})]})]})]})},R9=()=>{const e=vl();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},M9=new SI,I9=()=>d.jsxs(kI,{client:M9,children:[d.jsxs(y7,{children:[" ",d.jsxs(ZM,{children:[d.jsx(GA,{}),d.jsx(NR,{}),d.jsxs(EO,{children:[" ",d.jsxs(vO,{children:[d.jsx(Qi,{path:"/",element:d.jsx(j9,{})}),d.jsx(Qi,{path:"/members",element:d.jsx(P9,{})}),d.jsx(Qi,{path:"/magazines",element:d.jsx(A9,{})}),d.jsx(Qi,{path:"*",element:d.jsx(R9,{})})]})]})," "]})]})," "]});g1(document.getElementById("root")).render(d.jsx(qA,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:d.jsx(I9,{})}));export{cm as g};
