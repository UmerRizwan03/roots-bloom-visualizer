var C0=e=>{throw TypeError(e)};var pf=(e,t,n)=>t.has(e)||C0("Cannot "+n);var W=(e,t,n)=>(pf(e,t,"read from private field"),n?n.call(e):t.get(e)),we=(e,t,n)=>t.has(e)?C0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ce=(e,t,n,r)=>(pf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),it=(e,t,n)=>(pf(e,t,"access private method"),n);var Ul=(e,t,n,r)=>({set _(s){ce(e,t,s,n)},get _(){return W(e,t,r)}});function Aj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var uw={exports:{}},Yu={},dw={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=Symbol.for("react.element"),Mj=Symbol.for("react.portal"),Ij=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),Dj=Symbol.for("react.profiler"),$j=Symbol.for("react.provider"),Lj=Symbol.for("react.context"),Fj=Symbol.for("react.forward_ref"),zj=Symbol.for("react.suspense"),Bj=Symbol.for("react.memo"),Uj=Symbol.for("react.lazy"),N0=Symbol.iterator;function Hj(e){return e===null||typeof e!="object"?null:(e=N0&&e[N0]||e["@@iterator"],typeof e=="function"?e:null)}var fw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hw=Object.assign,pw={};function _i(e,t,n){this.props=e,this.context=t,this.refs=pw,this.updater=n||fw}_i.prototype.isReactComponent={};_i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mw(){}mw.prototype=_i.prototype;function vm(e,t,n){this.props=e,this.context=t,this.refs=pw,this.updater=n||fw}var ym=vm.prototype=new mw;ym.constructor=vm;hw(ym,_i.prototype);ym.isPureReactComponent=!0;var j0=Array.isArray,gw=Object.prototype.hasOwnProperty,xm={current:null},vw={key:!0,ref:!0,__self:!0,__source:!0};function yw(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)gw.call(t,r)&&!vw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dl,type:e,key:o,ref:i,props:s,_owner:xm.current}}function Vj(e,t){return{$$typeof:dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wm(e){return typeof e=="object"&&e!==null&&e.$$typeof===dl}function Wj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var P0=/\/+/g;function mf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wj(""+e.key):t.toString(36)}function Tc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case dl:case Mj:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+mf(i,0):r,j0(s)?(n="",e!=null&&(n=e.replace(P0,"$&/")+"/"),Tc(s,t,n,"",function(c){return c})):s!=null&&(wm(s)&&(s=Vj(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(P0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",j0(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+mf(o,a);i+=Tc(o,t,n,l,s)}else if(l=Hj(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+mf(o,a++),i+=Tc(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hl(e,t,n){if(e==null)return e;var r=[],s=0;return Tc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Gj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Ac={transition:null},Kj={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:xm};function xw(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Hl,forEach:function(e,t,n){Hl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hl(e,function(){t++}),t},toArray:function(e){return Hl(e,function(t){return t})||[]},only:function(e){if(!wm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=_i;me.Fragment=Ij;me.Profiler=Dj;me.PureComponent=vm;me.StrictMode=Oj;me.Suspense=zj;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kj;me.act=xw;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=xm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)gw.call(t,l)&&!vw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:dl,type:e.type,key:s,ref:o,props:r,_owner:i}};me.createContext=function(e){return e={$$typeof:Lj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$j,_context:e},e.Consumer=e};me.createElement=yw;me.createFactory=function(e){var t=yw.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Fj,render:e}};me.isValidElement=wm;me.lazy=function(e){return{$$typeof:Uj,_payload:{_status:-1,_result:e},_init:Gj}};me.memo=function(e,t){return{$$typeof:Bj,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Ac.transition;Ac.transition={};try{e()}finally{Ac.transition=t}};me.unstable_act=xw;me.useCallback=function(e,t){return vt.current.useCallback(e,t)};me.useContext=function(e){return vt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};me.useEffect=function(e,t){return vt.current.useEffect(e,t)};me.useId=function(){return vt.current.useId()};me.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return vt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};me.useRef=function(e){return vt.current.useRef(e)};me.useState=function(e){return vt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return vt.current.useTransition()};me.version="18.3.1";dw.exports=me;var g=dw.exports;const X=gm(g),bm=Aj({__proto__:null,default:X},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj=g,qj=Symbol.for("react.element"),Xj=Symbol.for("react.fragment"),Qj=Object.prototype.hasOwnProperty,Jj=Yj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zj={key:!0,ref:!0,__self:!0,__source:!0};function ww(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Qj.call(t,r)&&!Zj.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:qj,type:e,key:o,ref:i,props:s,_owner:Jj.current}}Yu.Fragment=Xj;Yu.jsx=ww;Yu.jsxs=ww;uw.exports=Yu;var u=uw.exports,bw={exports:{}},Wt={},_w={exports:{}},Sw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,C){var D=A.length;A.push(C);e:for(;0<D;){var F=D-1>>>1,z=A[F];if(0<s(z,C))A[F]=C,A[D]=z,D=F;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var C=A[0],D=A.pop();if(D!==C){A[0]=D;e:for(var F=0,z=A.length,H=z>>>1;F<H;){var U=2*(F+1)-1,G=A[U],K=U+1,B=A[K];if(0>s(G,D))K<z&&0>s(B,G)?(A[F]=B,A[K]=D,F=K):(A[F]=G,A[U]=D,F=U);else if(K<z&&0>s(B,D))A[F]=B,A[K]=D,F=K;else break e}}return C}function s(A,C){var D=A.sortIndex-C.sortIndex;return D!==0?D:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,p=3,h=!1,b=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var C=n(c);C!==null;){if(C.callback===null)r(c);else if(C.startTime<=A)r(c),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(c)}}function _(A){if(m=!1,v(A),!b)if(n(l)!==null)b=!0,j(E);else{var C=n(c);C!==null&&M(_,C.startTime-A)}}function E(A,C){b=!1,m&&(m=!1,y(N),N=-1),h=!0;var D=p;try{for(v(C),f=n(l);f!==null&&(!(f.expirationTime>C)||A&&!L());){var F=f.callback;if(typeof F=="function"){f.callback=null,p=f.priorityLevel;var z=F(f.expirationTime<=C);C=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),v(C)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var U=n(c);U!==null&&M(_,U.startTime-C),H=!1}return H}finally{f=null,p=D,h=!1}}var P=!1,k=null,N=-1,I=5,O=-1;function L(){return!(e.unstable_now()-O<I)}function R(){if(k!==null){var A=e.unstable_now();O=A;var C=!0;try{C=k(!0,A)}finally{C?$():(P=!1,k=null)}}else P=!1}var $;if(typeof x=="function")$=function(){x(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,T=S.port2;S.port1.onmessage=R,$=function(){T.postMessage(null)}}else $=function(){w(R,0)};function j(A){k=A,P||(P=!0,$())}function M(A,C){N=w(function(){A(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,j(E))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var C=3;break;default:C=p}var D=p;p=C;try{return A()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=p;p=A;try{return C()}finally{p=D}},e.unstable_scheduleCallback=function(A,C,D){var F=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,A={id:d++,callback:C,priorityLevel:A,startTime:D,expirationTime:z,sortIndex:-1},D>F?(A.sortIndex=D,t(c,A),n(l)===null&&A===n(c)&&(m?(y(N),N=-1):m=!0,M(_,D-F))):(A.sortIndex=z,t(l,A),b||h||(b=!0,j(E))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var C=p;return function(){var D=p;p=C;try{return A.apply(this,arguments)}finally{p=D}}}})(Sw);_w.exports=Sw;var e2=_w.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=g,Ht=e2;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ew=new Set,_a={};function to(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(_a[e]=t,e=0;e<t.length;e++)Ew.add(t[e])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,n2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},A0={};function r2(e){return _h.call(A0,e)?!0:_h.call(T0,e)?!1:n2.test(e)?A0[e]=!0:(T0[e]=!0,!1)}function s2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o2(e,t,n,r){if(t===null||typeof t>"u"||s2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function Sm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,Sm);rt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,Sm);rt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,Sm);rt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,n,r){var s=rt.hasOwnProperty(t)?rt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o2(t,n,s,r)&&(n=null),r||s===null?r2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wr=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),bo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),Cw=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),Nw=Symbol.for("react.offscreen"),R0=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=R0&&e[R0]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,gf;function Qi(e){if(gf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gf=t&&t[1]||""}return`
`+gf+e}var vf=!1;function yf(e,t){if(!e||vf)return"";vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{vf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qi(e):""}function i2(e){switch(e.tag){case 5:return Qi(e.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 2:case 15:return e=yf(e.type,!1),e;case 11:return e=yf(e.type.render,!1),e;case 1:return e=yf(e.type,!0),e;default:return""}}function Ch(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _o:return"Fragment";case bo:return"Portal";case Sh:return"Profiler";case km:return"StrictMode";case Eh:return"Suspense";case kh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cw:return(e.displayName||"Context")+".Consumer";case kw:return(e._context.displayName||"Context")+".Provider";case Cm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nm:return t=e.displayName||null,t!==null?t:Ch(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return Ch(e(t))}catch{}}return null}function a2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(t);case 8:return t===km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l2(e){var t=jw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wl(e){e._valueTracker||(e._valueTracker=l2(e))}function Pw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nh(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function M0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=as(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tw(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function jh(e,t){Tw(e,t);var n=as(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ph(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ph(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ph(e,t,n){(t!=="number"||Jc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ji=Array.isArray;function Oo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+as(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Th(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(Ji(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:as(n)}}function Aw(e,t){var n=as(t.value),r=as(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function D0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ah(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gl,Mw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c2=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(e){c2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aa[t]=aa[e]})});function Iw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||aa.hasOwnProperty(e)&&aa[e]?(""+t).trim():t+"px"}function Ow(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Iw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var u2=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(e,t){if(t){if(u2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Mh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=null;function jm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oh=null,Do=null,$o=null;function $0(e){if(e=pl(e)){if(typeof Oh!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Zu(t),Oh(e.stateNode,e.type,t))}}function Dw(e){Do?$o?$o.push(e):$o=[e]:Do=e}function $w(){if(Do){var e=Do,t=$o;if($o=Do=null,$0(e),t)for(e=0;e<t.length;e++)$0(t[e])}}function Lw(e,t){return e(t)}function Fw(){}var xf=!1;function zw(e,t,n){if(xf)return e(t,n);xf=!0;try{return Lw(e,t,n)}finally{xf=!1,(Do!==null||$o!==null)&&(Fw(),$w())}}function Ea(e,t){var n=e.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Dh=!1;if(fr)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Dh=!1}function d2(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var la=!1,Zc=null,eu=!1,$h=null,f2={onError:function(e){la=!0,Zc=e}};function h2(e,t,n,r,s,o,i,a,l){la=!1,Zc=null,d2.apply(f2,arguments)}function p2(e,t,n,r,s,o,i,a,l){if(h2.apply(this,arguments),la){if(la){var c=Zc;la=!1,Zc=null}else throw Error(Y(198));eu||(eu=!0,$h=c)}}function no(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L0(e){if(no(e)!==e)throw Error(Y(188))}function m2(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return L0(s),e;if(o===r)return L0(s),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function Uw(e){return e=m2(e),e!==null?Hw(e):null}function Hw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hw(e);if(t!==null)return t;e=e.sibling}return null}var Vw=Ht.unstable_scheduleCallback,F0=Ht.unstable_cancelCallback,g2=Ht.unstable_shouldYield,v2=Ht.unstable_requestPaint,Ue=Ht.unstable_now,y2=Ht.unstable_getCurrentPriorityLevel,Pm=Ht.unstable_ImmediatePriority,Ww=Ht.unstable_UserBlockingPriority,tu=Ht.unstable_NormalPriority,x2=Ht.unstable_LowPriority,Gw=Ht.unstable_IdlePriority,qu=null,zn=null;function w2(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(qu,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:S2,b2=Math.log,_2=Math.LN2;function S2(e){return e>>>=0,e===0?32:31-(b2(e)/_2|0)|0}var Kl=64,Yl=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Zi(a):(o&=i,o!==0&&(r=Zi(o)))}else i=n&~s,i!==0?r=Zi(i):o!==0&&(r=Zi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bn(t),s=1<<n,r|=e[n],t&=~s;return r}function E2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-bn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=E2(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Lh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kw(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function wf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function C2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-bn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Tm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ee=0;function Yw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qw,Am,Xw,Qw,Jw,Fh=!1,ql=[],Jr=null,Zr=null,es=null,ka=new Map,Ca=new Map,Lr=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(t.pointerId)}}function zi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=pl(t),t!==null&&Am(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function j2(e,t,n,r,s){switch(t){case"focusin":return Jr=zi(Jr,e,t,n,r,s),!0;case"dragenter":return Zr=zi(Zr,e,t,n,r,s),!0;case"mouseover":return es=zi(es,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return ka.set(o,zi(ka.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ca.set(o,zi(Ca.get(o)||null,e,t,n,r,s)),!0}return!1}function Zw(e){var t=ks(e.target);if(t!==null){var n=no(t);if(n!==null){if(t=n.tag,t===13){if(t=Bw(n),t!==null){e.blockedOn=t,Jw(e.priority,function(){Xw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ih=r,n.target.dispatchEvent(r),Ih=null}else return t=pl(n),t!==null&&Am(t),e.blockedOn=n,!1;t.shift()}return!0}function B0(e,t,n){Rc(e)&&n.delete(t)}function P2(){Fh=!1,Jr!==null&&Rc(Jr)&&(Jr=null),Zr!==null&&Rc(Zr)&&(Zr=null),es!==null&&Rc(es)&&(es=null),ka.forEach(B0),Ca.forEach(B0)}function Bi(e,t){e.blockedOn===t&&(e.blockedOn=null,Fh||(Fh=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,P2)))}function Na(e){function t(s){return Bi(s,e)}if(0<ql.length){Bi(ql[0],e);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jr!==null&&Bi(Jr,e),Zr!==null&&Bi(Zr,e),es!==null&&Bi(es,e),ka.forEach(t),Ca.forEach(t),n=0;n<Lr.length;n++)r=Lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)Zw(n),n.blockedOn===null&&Lr.shift()}var Lo=wr.ReactCurrentBatchConfig,ru=!0;function T2(e,t,n,r){var s=Ee,o=Lo.transition;Lo.transition=null;try{Ee=1,Rm(e,t,n,r)}finally{Ee=s,Lo.transition=o}}function A2(e,t,n,r){var s=Ee,o=Lo.transition;Lo.transition=null;try{Ee=4,Rm(e,t,n,r)}finally{Ee=s,Lo.transition=o}}function Rm(e,t,n,r){if(ru){var s=zh(e,t,n,r);if(s===null)Tf(e,t,r,su,n),z0(e,r);else if(j2(s,e,t,n,r))r.stopPropagation();else if(z0(e,r),t&4&&-1<N2.indexOf(e)){for(;s!==null;){var o=pl(s);if(o!==null&&qw(o),o=zh(e,t,n,r),o===null&&Tf(e,t,r,su,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Tf(e,t,r,null,n)}}var su=null;function zh(e,t,n,r){if(su=null,e=jm(r),e=ks(e),e!==null)if(t=no(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return su=e,null}function eb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y2()){case Pm:return 1;case Ww:return 4;case tu:case x2:return 16;case Gw:return 536870912;default:return 16}default:return 16}}var Kr=null,Mm=null,Mc=null;function tb(){if(Mc)return Mc;var e,t=Mm,n=t.length,r,s="value"in Kr?Kr.value:Kr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Mc=s.slice(e,1<r?1-r:void 0)}function Ic(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function U0(){return!1}function Gt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xl:U0,this.isPropagationStopped=U0,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Im=Gt(Si),hl=Le({},Si,{view:0,detail:0}),R2=Gt(hl),bf,_f,Ui,Xu=Le({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Om,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(bf=e.screenX-Ui.screenX,_f=e.screenY-Ui.screenY):_f=bf=0,Ui=e),bf)},movementY:function(e){return"movementY"in e?e.movementY:_f}}),H0=Gt(Xu),M2=Le({},Xu,{dataTransfer:0}),I2=Gt(M2),O2=Le({},hl,{relatedTarget:0}),Sf=Gt(O2),D2=Le({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=Gt(D2),L2=Le({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F2=Gt(L2),z2=Le({},Si,{data:0}),V0=Gt(z2),B2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H2[e])?!!t[e]:!1}function Om(){return V2}var W2=Le({},hl,{key:function(e){if(e.key){var t=B2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ic(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Om,charCode:function(e){return e.type==="keypress"?Ic(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ic(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G2=Gt(W2),K2=Le({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W0=Gt(K2),Y2=Le({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Om}),q2=Gt(Y2),X2=Le({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q2=Gt(X2),J2=Le({},Xu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z2=Gt(J2),eP=[9,13,27,32],Dm=fr&&"CompositionEvent"in window,ca=null;fr&&"documentMode"in document&&(ca=document.documentMode);var tP=fr&&"TextEvent"in window&&!ca,nb=fr&&(!Dm||ca&&8<ca&&11>=ca),G0=" ",K0=!1;function rb(e,t){switch(e){case"keyup":return eP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var So=!1;function nP(e,t){switch(e){case"compositionend":return sb(t);case"keypress":return t.which!==32?null:(K0=!0,G0);case"textInput":return e=t.data,e===G0&&K0?null:e;default:return null}}function rP(e,t){if(So)return e==="compositionend"||!Dm&&rb(e,t)?(e=tb(),Mc=Mm=Kr=null,So=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nb&&t.locale!=="ko"?null:t.data;default:return null}}var sP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sP[e.type]:t==="textarea"}function ob(e,t,n,r){Dw(r),t=ou(t,"onChange"),0<t.length&&(n=new Im("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ua=null,ja=null;function oP(e){gb(e,0)}function Qu(e){var t=Co(e);if(Pw(t))return e}function iP(e,t){if(e==="change")return t}var ib=!1;if(fr){var Ef;if(fr){var kf="oninput"in document;if(!kf){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),kf=typeof q0.oninput=="function"}Ef=kf}else Ef=!1;ib=Ef&&(!document.documentMode||9<document.documentMode)}function X0(){ua&&(ua.detachEvent("onpropertychange",ab),ja=ua=null)}function ab(e){if(e.propertyName==="value"&&Qu(ja)){var t=[];ob(t,ja,e,jm(e)),zw(oP,t)}}function aP(e,t,n){e==="focusin"?(X0(),ua=t,ja=n,ua.attachEvent("onpropertychange",ab)):e==="focusout"&&X0()}function lP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(ja)}function cP(e,t){if(e==="click")return Qu(t)}function uP(e,t){if(e==="input"||e==="change")return Qu(t)}function dP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:dP;function Pa(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_h.call(t,s)||!Sn(e[s],t[s]))return!1}return!0}function Q0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J0(e,t){var n=Q0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q0(n)}}function lb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cb(){for(var e=window,t=Jc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jc(e.document)}return t}function $m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fP(e){var t=cb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lb(n.ownerDocument.documentElement,n)){if(r!==null&&$m(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=J0(n,o);var i=J0(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hP=fr&&"documentMode"in document&&11>=document.documentMode,Eo=null,Bh=null,da=null,Uh=!1;function Z0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||Eo==null||Eo!==Jc(r)||(r=Eo,"selectionStart"in r&&$m(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Pa(da,r)||(da=r,r=ou(Bh,"onSelect"),0<r.length&&(t=new Im("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Eo)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ko={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Cf={},ub={};fr&&(ub=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Ju(e){if(Cf[e])return Cf[e];if(!ko[e])return e;var t=ko[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ub)return Cf[e]=t[n];return e}var db=Ju("animationend"),fb=Ju("animationiteration"),hb=Ju("animationstart"),pb=Ju("transitionend"),mb=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(e,t){mb.set(e,t),to(t,[e])}for(var Nf=0;Nf<ev.length;Nf++){var jf=ev[Nf],pP=jf.toLowerCase(),mP=jf[0].toUpperCase()+jf.slice(1);ds(pP,"on"+mP)}ds(db,"onAnimationEnd");ds(fb,"onAnimationIteration");ds(hb,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(pb,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function tv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,p2(r,t,void 0,e),e.currentTarget=null}function gb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;tv(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;tv(s,a,c),o=l}}}if(eu)throw e=$h,eu=!1,$h=null,e}function Ae(e,t){var n=t[Kh];n===void 0&&(n=t[Kh]=new Set);var r=e+"__bubble";n.has(r)||(vb(t,e,2,!1),n.add(r))}function Pf(e,t,n){var r=0;t&&(r|=4),vb(n,e,r,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[Jl]){e[Jl]=!0,Ew.forEach(function(n){n!=="selectionchange"&&(gP.has(n)||Pf(n,!1,e),Pf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,Pf("selectionchange",!1,t))}}function vb(e,t,n,r){switch(eb(t)){case 1:var s=T2;break;case 4:s=A2;break;default:s=Rm}n=s.bind(null,t,n,e),s=void 0,!Dh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Tf(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ks(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}zw(function(){var c=o,d=jm(n),f=[];e:{var p=mb.get(e);if(p!==void 0){var h=Im,b=e;switch(e){case"keypress":if(Ic(n)===0)break e;case"keydown":case"keyup":h=G2;break;case"focusin":b="focus",h=Sf;break;case"focusout":b="blur",h=Sf;break;case"beforeblur":case"afterblur":h=Sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=I2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=q2;break;case db:case fb:case hb:h=$2;break;case pb:h=Q2;break;case"scroll":h=R2;break;case"wheel":h=Z2;break;case"copy":case"cut":case"paste":h=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=W0}var m=(t&4)!==0,w=!m&&e==="scroll",y=m?p!==null?p+"Capture":null:p;m=[];for(var x=c,v;x!==null;){v=x;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=Ea(x,y),_!=null&&m.push(Aa(x,_,v)))),w)break;x=x.return}0<m.length&&(p=new h(p,b,null,n,d),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Ih&&(b=n.relatedTarget||n.fromElement)&&(ks(b)||b[hr]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(b=n.relatedTarget||n.toElement,h=c,b=b?ks(b):null,b!==null&&(w=no(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=c),h!==b)){if(m=H0,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=W0,_="onPointerLeave",y="onPointerEnter",x="pointer"),w=h==null?p:Co(h),v=b==null?p:Co(b),p=new m(_,x+"leave",h,n,d),p.target=w,p.relatedTarget=v,_=null,ks(d)===c&&(m=new m(y,x+"enter",b,n,d),m.target=v,m.relatedTarget=w,_=m),w=_,h&&b)t:{for(m=h,y=b,x=0,v=m;v;v=fo(v))x++;for(v=0,_=y;_;_=fo(_))v++;for(;0<x-v;)m=fo(m),x--;for(;0<v-x;)y=fo(y),v--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=fo(m),y=fo(y)}m=null}else m=null;h!==null&&nv(f,p,h,m,!1),b!==null&&w!==null&&nv(f,w,b,m,!0)}}e:{if(p=c?Co(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var E=iP;else if(Y0(p))if(ib)E=uP;else{E=lP;var P=aP}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=cP);if(E&&(E=E(e,c))){ob(f,E,n,d);break e}P&&P(e,p,c),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Ph(p,"number",p.value)}switch(P=c?Co(c):window,e){case"focusin":(Y0(P)||P.contentEditable==="true")&&(Eo=P,Bh=c,da=null);break;case"focusout":da=Bh=Eo=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Z0(f,n,d);break;case"selectionchange":if(hP)break;case"keydown":case"keyup":Z0(f,n,d)}var k;if(Dm)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else So?rb(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(nb&&n.locale!=="ko"&&(So||N!=="onCompositionStart"?N==="onCompositionEnd"&&So&&(k=tb()):(Kr=d,Mm="value"in Kr?Kr.value:Kr.textContent,So=!0)),P=ou(c,N),0<P.length&&(N=new V0(N,e,null,n,d),f.push({event:N,listeners:P}),k?N.data=k:(k=sb(n),k!==null&&(N.data=k)))),(k=tP?nP(e,n):rP(e,n))&&(c=ou(c,"onBeforeInput"),0<c.length&&(d=new V0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=k))}gb(f,t)})}function Aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ou(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ea(e,n),o!=null&&r.unshift(Aa(e,o,s)),o=Ea(e,t),o!=null&&r.push(Aa(e,o,s))),e=e.return}return r}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nv(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ea(n,o),l!=null&&i.unshift(Aa(n,l,a))):s||(l=Ea(n,o),l!=null&&i.push(Aa(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var vP=/\r\n?/g,yP=/\u0000|\uFFFD/g;function rv(e){return(typeof e=="string"?e:""+e).replace(vP,`
`).replace(yP,"")}function Zl(e,t,n){if(t=rv(t),rv(e)!==t&&n)throw Error(Y(425))}function iu(){}var Hh=null,Vh=null;function Wh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,xP=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,wP=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(bP)}:Gh;function bP(e){setTimeout(function(){throw e})}function Af(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Na(t)}function ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ov(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ei,Ra="__reactProps$"+Ei,hr="__reactContainer$"+Ei,Kh="__reactEvents$"+Ei,_P="__reactListeners$"+Ei,SP="__reactHandles$"+Ei;function ks(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[$n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ov(e);e!==null;){if(n=e[$n])return n;e=ov(e)}return t}e=n,n=e.parentNode}return null}function pl(e){return e=e[$n]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Zu(e){return e[Ra]||null}var Yh=[],No=-1;function fs(e){return{current:e}}function Re(e){0>No||(e.current=Yh[No],Yh[No]=null,No--)}function Pe(e,t){No++,Yh[No]=e.current,e.current=t}var ls={},ft=fs(ls),Ct=fs(!1),zs=ls;function si(e,t){var n=e.type.contextTypes;if(!n)return ls;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(e){return e=e.childContextTypes,e!=null}function au(){Re(Ct),Re(ft)}function iv(e,t,n){if(ft.current!==ls)throw Error(Y(168));Pe(ft,t),Pe(Ct,n)}function yb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Y(108,a2(e)||"Unknown",s));return Le({},n,r)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,zs=ft.current,Pe(ft,e),Pe(Ct,Ct.current),!0}function av(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=yb(e,t,zs),r.__reactInternalMemoizedMergedChildContext=e,Re(Ct),Re(ft),Pe(ft,e)):Re(Ct),Pe(Ct,n)}var nr=null,ed=!1,Rf=!1;function xb(e){nr===null?nr=[e]:nr.push(e)}function EP(e){ed=!0,xb(e)}function hs(){if(!Rf&&nr!==null){Rf=!0;var e=0,t=Ee;try{var n=nr;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nr=null,ed=!1}catch(s){throw nr!==null&&(nr=nr.slice(e+1)),Vw(Pm,hs),s}finally{Ee=t,Rf=!1}}return null}var jo=[],Po=0,cu=null,uu=0,qt=[],Xt=0,Bs=null,sr=1,or="";function xs(e,t){jo[Po++]=uu,jo[Po++]=cu,cu=e,uu=t}function wb(e,t,n){qt[Xt++]=sr,qt[Xt++]=or,qt[Xt++]=Bs,Bs=e;var r=sr;e=or;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var o=32-bn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,sr=1<<32-bn(t)+s|n<<s|r,or=o+e}else sr=1<<o|n<<s|r,or=e}function Lm(e){e.return!==null&&(xs(e,1),wb(e,1,0))}function Fm(e){for(;e===cu;)cu=jo[--Po],jo[Po]=null,uu=jo[--Po],jo[Po]=null;for(;e===Bs;)Bs=qt[--Xt],qt[Xt]=null,or=qt[--Xt],qt[Xt]=null,sr=qt[--Xt],qt[Xt]=null}var Bt=null,zt=null,Ie=!1,yn=null;function bb(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,zt=ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bs!==null?{id:sr,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,zt=null,!0):!1;default:return!1}}function qh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xh(e){if(Ie){var t=zt;if(t){var n=t;if(!lv(e,t)){if(qh(e))throw Error(Y(418));t=ts(n.nextSibling);var r=Bt;t&&lv(e,t)?bb(r,n):(e.flags=e.flags&-4097|2,Ie=!1,Bt=e)}}else{if(qh(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ie=!1,Bt=e}}}function cv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function ec(e){if(e!==Bt)return!1;if(!Ie)return cv(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wh(e.type,e.memoizedProps)),t&&(t=zt)){if(qh(e))throw _b(),Error(Y(418));for(;t;)bb(e,t),t=ts(t.nextSibling)}if(cv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zt=ts(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zt=null}}else zt=Bt?ts(e.stateNode.nextSibling):null;return!0}function _b(){for(var e=zt;e;)e=ts(e.nextSibling)}function oi(){zt=Bt=null,Ie=!1}function zm(e){yn===null?yn=[e]:yn.push(e)}var kP=wr.ReactCurrentBatchConfig;function Hi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function tc(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uv(e){var t=e._init;return t(e._payload)}function Sb(e){function t(y,x){if(e){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=os(y,x),y.index=0,y.sibling=null,y}function o(y,x,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,v,_){return x===null||x.tag!==6?(x=Ff(v,y.mode,_),x.return=y,x):(x=s(x,v),x.return=y,x)}function l(y,x,v,_){var E=v.type;return E===_o?d(y,x,v.props.children,_,v.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&uv(E)===x.type)?(_=s(x,v.props),_.ref=Hi(y,x,v),_.return=y,_):(_=Bc(v.type,v.key,v.props,null,y.mode,_),_.ref=Hi(y,x,v),_.return=y,_)}function c(y,x,v,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=zf(v,y.mode,_),x.return=y,x):(x=s(x,v.children||[]),x.return=y,x)}function d(y,x,v,_,E){return x===null||x.tag!==7?(x=Os(v,y.mode,_,E),x.return=y,x):(x=s(x,v),x.return=y,x)}function f(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ff(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vl:return v=Bc(x.type,x.key,x.props,null,y.mode,v),v.ref=Hi(y,null,x),v.return=y,v;case bo:return x=zf(x,y.mode,v),x.return=y,x;case Ir:var _=x._init;return f(y,_(x._payload),v)}if(Ji(x)||Li(x))return x=Os(x,y.mode,v,null),x.return=y,x;tc(y,x)}return null}function p(y,x,v,_){var E=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,x,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vl:return v.key===E?l(y,x,v,_):null;case bo:return v.key===E?c(y,x,v,_):null;case Ir:return E=v._init,p(y,x,E(v._payload),_)}if(Ji(v)||Li(v))return E!==null?null:d(y,x,v,_,null);tc(y,v)}return null}function h(y,x,v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(x,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:return y=y.get(_.key===null?v:_.key)||null,l(x,y,_,E);case bo:return y=y.get(_.key===null?v:_.key)||null,c(x,y,_,E);case Ir:var P=_._init;return h(y,x,v,P(_._payload),E)}if(Ji(_)||Li(_))return y=y.get(v)||null,d(x,y,_,E,null);tc(x,_)}return null}function b(y,x,v,_){for(var E=null,P=null,k=x,N=x=0,I=null;k!==null&&N<v.length;N++){k.index>N?(I=k,k=null):I=k.sibling;var O=p(y,k,v[N],_);if(O===null){k===null&&(k=I);break}e&&k&&O.alternate===null&&t(y,k),x=o(O,x,N),P===null?E=O:P.sibling=O,P=O,k=I}if(N===v.length)return n(y,k),Ie&&xs(y,N),E;if(k===null){for(;N<v.length;N++)k=f(y,v[N],_),k!==null&&(x=o(k,x,N),P===null?E=k:P.sibling=k,P=k);return Ie&&xs(y,N),E}for(k=r(y,k);N<v.length;N++)I=h(k,y,N,v[N],_),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?N:I.key),x=o(I,x,N),P===null?E=I:P.sibling=I,P=I);return e&&k.forEach(function(L){return t(y,L)}),Ie&&xs(y,N),E}function m(y,x,v,_){var E=Li(v);if(typeof E!="function")throw Error(Y(150));if(v=E.call(v),v==null)throw Error(Y(151));for(var P=E=null,k=x,N=x=0,I=null,O=v.next();k!==null&&!O.done;N++,O=v.next()){k.index>N?(I=k,k=null):I=k.sibling;var L=p(y,k,O.value,_);if(L===null){k===null&&(k=I);break}e&&k&&L.alternate===null&&t(y,k),x=o(L,x,N),P===null?E=L:P.sibling=L,P=L,k=I}if(O.done)return n(y,k),Ie&&xs(y,N),E;if(k===null){for(;!O.done;N++,O=v.next())O=f(y,O.value,_),O!==null&&(x=o(O,x,N),P===null?E=O:P.sibling=O,P=O);return Ie&&xs(y,N),E}for(k=r(y,k);!O.done;N++,O=v.next())O=h(k,y,N,O.value,_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?N:O.key),x=o(O,x,N),P===null?E=O:P.sibling=O,P=O);return e&&k.forEach(function(R){return t(y,R)}),Ie&&xs(y,N),E}function w(y,x,v,_){if(typeof v=="object"&&v!==null&&v.type===_o&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Vl:e:{for(var E=v.key,P=x;P!==null;){if(P.key===E){if(E=v.type,E===_o){if(P.tag===7){n(y,P.sibling),x=s(P,v.props.children),x.return=y,y=x;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&uv(E)===P.type){n(y,P.sibling),x=s(P,v.props),x.ref=Hi(y,P,v),x.return=y,y=x;break e}n(y,P);break}else t(y,P);P=P.sibling}v.type===_o?(x=Os(v.props.children,y.mode,_,v.key),x.return=y,y=x):(_=Bc(v.type,v.key,v.props,null,y.mode,_),_.ref=Hi(y,x,v),_.return=y,y=_)}return i(y);case bo:e:{for(P=v.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),x=s(x,v.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=zf(v,y.mode,_),x.return=y,y=x}return i(y);case Ir:return P=v._init,w(y,x,P(v._payload),_)}if(Ji(v))return b(y,x,v,_);if(Li(v))return m(y,x,v,_);tc(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,v),x.return=y,y=x):(n(y,x),x=Ff(v,y.mode,_),x.return=y,y=x),i(y)):n(y,x)}return w}var ii=Sb(!0),Eb=Sb(!1),du=fs(null),fu=null,To=null,Bm=null;function Um(){Bm=To=fu=null}function Hm(e){var t=du.current;Re(du),e._currentValue=t}function Qh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){fu=e,Bm=To=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(Bm!==e)if(e={context:e,memoizedValue:t,next:null},To===null){if(fu===null)throw Error(Y(308));To=e,fu.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Cs=null;function Vm(e){Cs===null?Cs=[e]:Cs.push(e)}function kb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vm(t)):(n.next=s.next,s.next=n),t.interleaved=n,pr(e,r)}function pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Or=!1;function Wm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,pr(e,n)}return s=r.interleaved,s===null?(t.next=t,Vm(r)):(t.next=s.next,s.next=t),r.interleaved=t,pr(e,n)}function Oc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tm(e,n)}}function dv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hu(e,t,n,r){var s=e.updateQueue;Or=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var p=a.lane,h=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,m=a;switch(p=t,h=n,m.tag){case 1:if(b=m.payload,typeof b=="function"){f=b.call(h,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=m.payload,p=typeof b=="function"?b.call(h,f,p):b,p==null)break e;f=Le({},f,p);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=h,l=f):d=d.next=h,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Hs|=i,e.lanes=i,e.memoizedState=f}}function fv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var ml={},Bn=fs(ml),Ma=fs(ml),Ia=fs(ml);function Ns(e){if(e===ml)throw Error(Y(174));return e}function Gm(e,t){switch(Pe(Ia,t),Pe(Ma,e),Pe(Bn,ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ah(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ah(t,e)}Re(Bn),Pe(Bn,t)}function ai(){Re(Bn),Re(Ma),Re(Ia)}function Nb(e){Ns(Ia.current);var t=Ns(Bn.current),n=Ah(t,e.type);t!==n&&(Pe(Ma,e),Pe(Bn,n))}function Km(e){Ma.current===e&&(Re(Bn),Re(Ma))}var De=fs(0);function pu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mf=[];function Ym(){for(var e=0;e<Mf.length;e++)Mf[e]._workInProgressVersionPrimary=null;Mf.length=0}var Dc=wr.ReactCurrentDispatcher,If=wr.ReactCurrentBatchConfig,Us=0,$e=null,Ye=null,Qe=null,mu=!1,fa=!1,Oa=0,CP=0;function at(){throw Error(Y(321))}function qm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function Xm(e,t,n,r,s,o){if(Us=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dc.current=e===null||e.memoizedState===null?TP:AP,e=n(r,s),fa){o=0;do{if(fa=!1,Oa=0,25<=o)throw Error(Y(301));o+=1,Qe=Ye=null,t.updateQueue=null,Dc.current=RP,e=n(r,s)}while(fa)}if(Dc.current=gu,t=Ye!==null&&Ye.next!==null,Us=0,Qe=Ye=$e=null,mu=!1,t)throw Error(Y(300));return e}function Qm(){var e=Oa!==0;return Oa=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?$e.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function rn(){if(Ye===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Qe===null?$e.memoizedState:Qe.next;if(t!==null)Qe=t,Ye=e;else{if(e===null)throw Error(Y(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Qe===null?$e.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Da(e,t){return typeof t=="function"?t(e):t}function Of(e){var t=rn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=Ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((Us&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,$e.lanes|=d,Hs|=d}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Sn(r,t.memoizedState)||(Et=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,$e.lanes|=o,Hs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Df(e){var t=rn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Sn(o,t.memoizedState)||(Et=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jb(){}function Pb(e,t){var n=$e,r=rn(),s=t(),o=!Sn(r.memoizedState,s);if(o&&(r.memoizedState=s,Et=!0),r=r.queue,Jm(Rb.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,$a(9,Ab.bind(null,n,r,s,t),void 0,null),Je===null)throw Error(Y(349));Us&30||Tb(n,t,s)}return s}function Tb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ab(e,t,n,r){t.value=n,t.getSnapshot=r,Mb(t)&&Ib(e)}function Rb(e,t,n){return n(function(){Mb(t)&&Ib(e)})}function Mb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function Ib(e){var t=pr(e,1);t!==null&&_n(t,e,1,-1)}function hv(e){var t=Mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t.queue=e,e=e.dispatch=PP.bind(null,$e,e),[t.memoizedState,e]}function $a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ob(){return rn().memoizedState}function $c(e,t,n,r){var s=Mn();$e.flags|=e,s.memoizedState=$a(1|t,n,void 0,r===void 0?null:r)}function td(e,t,n,r){var s=rn();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,r!==null&&qm(r,i.deps)){s.memoizedState=$a(t,n,o,r);return}}$e.flags|=e,s.memoizedState=$a(1|t,n,o,r)}function pv(e,t){return $c(8390656,8,e,t)}function Jm(e,t){return td(2048,8,e,t)}function Db(e,t){return td(4,2,e,t)}function $b(e,t){return td(4,4,e,t)}function Lb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fb(e,t,n){return n=n!=null?n.concat([e]):null,td(4,4,Lb.bind(null,t,e),n)}function Zm(){}function zb(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bb(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ub(e,t,n){return Us&21?(Sn(n,t)||(n=Kw(),$e.lanes|=n,Hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n)}function NP(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=If.transition;If.transition={};try{e(!1),t()}finally{Ee=n,If.transition=r}}function Hb(){return rn().memoizedState}function jP(e,t,n){var r=ss(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vb(e))Wb(t,n);else if(n=kb(e,t,n,r),n!==null){var s=gt();_n(n,e,r,s),Gb(n,t,r)}}function PP(e,t,n){var r=ss(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vb(e))Wb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Sn(a,i)){var l=t.interleaved;l===null?(s.next=s,Vm(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=kb(e,t,s,r),n!==null&&(s=gt(),_n(n,e,r,s),Gb(n,t,r))}}function Vb(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Wb(e,t){fa=mu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tm(e,n)}}var gu={readContext:nn,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},TP={readContext:nn,useCallback:function(e,t){return Mn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:pv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$c(4194308,4,Lb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $c(4194308,4,e,t)},useInsertionEffect:function(e,t){return $c(4,2,e,t)},useMemo:function(e,t){var n=Mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jP.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Mn();return e={current:e},t.memoizedState=e},useState:hv,useDebugValue:Zm,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=hv(!1),t=e[0];return e=NP.bind(null,e[1]),Mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,s=Mn();if(Ie){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Je===null)throw Error(Y(349));Us&30||Tb(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,pv(Rb.bind(null,r,o,e),[e]),r.flags|=2048,$a(9,Ab.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mn(),t=Je.identifierPrefix;if(Ie){var n=or,r=sr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AP={readContext:nn,useCallback:zb,useContext:nn,useEffect:Jm,useImperativeHandle:Fb,useInsertionEffect:Db,useLayoutEffect:$b,useMemo:Bb,useReducer:Of,useRef:Ob,useState:function(){return Of(Da)},useDebugValue:Zm,useDeferredValue:function(e){var t=rn();return Ub(t,Ye.memoizedState,e)},useTransition:function(){var e=Of(Da)[0],t=rn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Pb,useId:Hb,unstable_isNewReconciler:!1},RP={readContext:nn,useCallback:zb,useContext:nn,useEffect:Jm,useImperativeHandle:Fb,useInsertionEffect:Db,useLayoutEffect:$b,useMemo:Bb,useReducer:Df,useRef:Ob,useState:function(){return Df(Da)},useDebugValue:Zm,useDeferredValue:function(e){var t=rn();return Ye===null?t.memoizedState=e:Ub(t,Ye.memoizedState,e)},useTransition:function(){var e=Df(Da)[0],t=rn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Pb,useId:Hb,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nd={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gt(),s=ss(e),o=lr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ns(e,o,s),t!==null&&(_n(t,e,s,r),Oc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gt(),s=ss(e),o=lr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ns(e,o,s),t!==null&&(_n(t,e,s,r),Oc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),r=ss(e),s=lr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ns(e,s,r),t!==null&&(_n(t,e,r,n),Oc(t,e,r))}};function mv(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Pa(n,r)||!Pa(s,o):!0}function Kb(e,t,n){var r=!1,s=ls,o=t.contextType;return typeof o=="object"&&o!==null?o=nn(o):(s=Nt(t)?zs:ft.current,r=t.contextTypes,o=(r=r!=null)?si(e,s):ls),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function gv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nd.enqueueReplaceState(t,t.state,null)}function Zh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=nn(o):(o=Nt(t)?zs:ft.current,s.context=si(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Jh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nd.enqueueReplaceState(s,s.state,null),hu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function li(e,t){try{var n="",r=t;do n+=i2(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function $f(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ep(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MP=typeof WeakMap=="function"?WeakMap:Map;function Yb(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yu||(yu=!0,up=r),ep(e,t)},n}function qb(e,t,n){n=lr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ep(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ep(e,t),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function vv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MP;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=KP.bind(null,e,t,n),t.then(e,e))}function yv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,ns(n,t,1))),n.lanes|=1),e)}var IP=wr.ReactCurrentOwner,Et=!1;function pt(e,t,n,r){t.child=e===null?Eb(t,null,n,r):ii(t,e.child,n,r)}function wv(e,t,n,r,s){n=n.render;var o=t.ref;return Fo(t,s),r=Xm(e,t,n,r,o,s),n=Qm(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mr(e,t,s)):(Ie&&n&&Lm(t),t.flags|=1,pt(e,t,r,s),t.child)}function bv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!ag(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Xb(e,t,o,r,s)):(e=Bc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(i,r)&&e.ref===t.ref)return mr(e,t,s)}return t.flags|=1,e=os(o,r),e.ref=t.ref,e.return=t,t.child=e}function Xb(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Pa(o,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,mr(e,t,s)}return tp(e,t,n,r,s)}function Qb(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ro,Ot),Ot|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Ro,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(Ro,Ot),Ot|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pe(Ro,Ot),Ot|=r;return pt(e,t,s,n),t.child}function Jb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tp(e,t,n,r,s){var o=Nt(n)?zs:ft.current;return o=si(t,o),Fo(t,s),n=Xm(e,t,n,r,o,s),r=Qm(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mr(e,t,s)):(Ie&&r&&Lm(t),t.flags|=1,pt(e,t,n,s),t.child)}function _v(e,t,n,r,s){if(Nt(n)){var o=!0;lu(t)}else o=!1;if(Fo(t,s),t.stateNode===null)Lc(e,t),Kb(t,n,r),Zh(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=Nt(n)?zs:ft.current,c=si(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&gv(t,i,r,c),Or=!1;var p=t.memoizedState;i.state=p,hu(t,r,i,s),l=t.memoizedState,a!==r||p!==l||Ct.current||Or?(typeof d=="function"&&(Jh(t,n,d,r),l=t.memoizedState),(a=Or||mv(t,n,a,r,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Cb(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:dn(t.type,a),i.props=c,f=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=Nt(n)?zs:ft.current,l=si(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&gv(t,i,r,l),Or=!1,p=t.memoizedState,i.state=p,hu(t,r,i,s);var b=t.memoizedState;a!==f||p!==b||Ct.current||Or?(typeof h=="function"&&(Jh(t,n,h,r),b=t.memoizedState),(c=Or||mv(t,n,c,r,p,b,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return np(e,t,n,r,o,s)}function np(e,t,n,r,s,o){Jb(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&av(t,n,!1),mr(e,t,o);r=t.stateNode,IP.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ii(t,e.child,null,o),t.child=ii(t,null,a,o)):pt(e,t,a,o),t.memoizedState=r.state,s&&av(t,n,!0),t.child}function Zb(e){var t=e.stateNode;t.pendingContext?iv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iv(e,t.context,!1),Gm(e,t.containerInfo)}function Sv(e,t,n,r,s){return oi(),zm(s),t.flags|=256,pt(e,t,n,r),t.child}var rp={dehydrated:null,treeContext:null,retryLane:0};function sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function e1(e,t,n){var r=t.pendingProps,s=De.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pe(De,s&1),e===null)return Xh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=od(i,r,0,null),e=Os(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=sp(n),t.memoizedState=rp,e):eg(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return OP(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=os(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=os(a,o):(o=Os(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?sp(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=rp,r}return o=e.child,e=o.sibling,r=os(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function eg(e,t){return t=od({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nc(e,t,n,r){return r!==null&&zm(r),ii(t,e.child,null,n),e=eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OP(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=$f(Error(Y(422))),nc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=od({mode:"visible",children:r.children},s,0,null),o=Os(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ii(t,e.child,null,i),t.child.memoizedState=sp(i),t.memoizedState=rp,o);if(!(t.mode&1))return nc(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Y(419)),r=$f(o,r,void 0),nc(e,t,i,r)}if(a=(i&e.childLanes)!==0,Et||a){if(r=Je,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,pr(e,s),_n(r,e,s,-1))}return ig(),r=$f(Error(Y(421))),nc(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YP.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,zt=ts(s.nextSibling),Bt=t,Ie=!0,yn=null,e!==null&&(qt[Xt++]=sr,qt[Xt++]=or,qt[Xt++]=Bs,sr=e.id,or=e.overflow,Bs=t),t=eg(t,r.children),t.flags|=4096,t)}function Ev(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qh(e.return,t,n)}function Lf(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function t1(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(pt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ev(e,n,t);else if(e.tag===19)Ev(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pe(De,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&pu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Lf(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Lf(t,!0,n,null,o);break;case"together":Lf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=os(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=os(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DP(e,t,n){switch(t.tag){case 3:Zb(t),oi();break;case 5:Nb(t);break;case 1:Nt(t.type)&&lu(t);break;case 4:Gm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pe(du,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pe(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?e1(e,t,n):(Pe(De,De.current&1),e=mr(e,t,n),e!==null?e.sibling:null);Pe(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return t1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,Qb(e,t,n)}return mr(e,t,n)}var n1,op,r1,s1;n1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};r1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ns(Bn.current);var o=null;switch(n){case"input":s=Nh(e,s),r=Nh(e,r),o=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),o=[];break;case"textarea":s=Th(e,s),r=Th(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=iu)}Rh(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_a.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};s1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vi(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $P(e,t,n){var r=t.pendingProps;switch(Fm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Nt(t.type)&&au(),lt(t),null;case 3:return r=t.stateNode,ai(),Re(Ct),Re(ft),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ec(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(hp(yn),yn=null))),op(e,t),lt(t),null;case 5:Km(t);var s=Ns(Ia.current);if(n=t.type,e!==null&&t.stateNode!=null)r1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return lt(t),null}if(e=Ns(Bn.current),ec(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[$n]=t,r[Ra]=o,e=(t.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<ea.length;s++)Ae(ea[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":M0(r,o),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ae("invalid",r);break;case"textarea":O0(r,o),Ae("invalid",r)}Rh(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zl(r.textContent,a,e),s=["children",""+a]):_a.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Wl(r),I0(r,o,!0);break;case"textarea":Wl(r),D0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=iu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[$n]=t,e[Ra]=r,n1(e,t,!1,!1),t.stateNode=e;e:{switch(i=Mh(n,r),n){case"dialog":Ae("cancel",e),Ae("close",e),s=r;break;case"iframe":case"object":case"embed":Ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<ea.length;s++)Ae(ea[s],e);s=r;break;case"source":Ae("error",e),s=r;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),s=r;break;case"details":Ae("toggle",e),s=r;break;case"input":M0(e,r),s=Nh(e,r),Ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ae("invalid",e);break;case"textarea":O0(e,r),s=Th(e,r),Ae("invalid",e);break;default:s=r}Rh(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ow(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sa(e,l):typeof l=="number"&&Sa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_a.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ae("scroll",e):l!=null&&Em(e,o,l,i))}switch(n){case"input":Wl(e),I0(e,r,!1);break;case"textarea":Wl(e),D0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+as(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Oo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Oo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)s1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=Ns(Ia.current),Ns(Bn.current),ec(t)){if(r=t.stateNode,n=t.memoizedProps,r[$n]=t,(o=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:Zl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=t,t.stateNode=r}return lt(t),null;case 13:if(Re(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&zt!==null&&t.mode&1&&!(t.flags&128))_b(),oi(),t.flags|=98560,o=!1;else if(o=ec(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[$n]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else yn!==null&&(hp(yn),yn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?qe===0&&(qe=3):ig())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return ai(),op(e,t),e===null&&Ta(t.stateNode.containerInfo),lt(t),null;case 10:return Hm(t.type._context),lt(t),null;case 17:return Nt(t.type)&&au(),lt(t),null;case 19:if(Re(De),o=t.memoizedState,o===null)return lt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Vi(o,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=pu(e),i!==null){for(t.flags|=128,Vi(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>ci&&(t.flags|=128,r=!0,Vi(o,!1),t.lanes=4194304)}else{if(!r)if(e=pu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ie)return lt(t),null}else 2*Ue()-o.renderingStartTime>ci&&n!==1073741824&&(t.flags|=128,r=!0,Vi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,n=De.current,Pe(De,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return og(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function LP(e,t){switch(Fm(t),t.tag){case 1:return Nt(t.type)&&au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),Re(Ct),Re(ft),Ym(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Km(t),null;case 13:if(Re(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(De),null;case 4:return ai(),null;case 10:return Hm(t.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var rc=!1,dt=!1,FP=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function ip(e,t,n){try{n()}catch(r){ze(e,t,r)}}var kv=!1;function zP(e,t){if(Hh=ru,e=cb(),$m(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===s&&(a=i),p===o&&++d===r&&(l=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vh={focusedElem:e,selectionRange:n},ru=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var m=b.memoizedProps,w=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:dn(t.type,m),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(_){ze(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return b=kv,kv=!1,b}function ha(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ip(t,n,o)}s=s.next}while(s!==r)}}function rd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ap(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function o1(e){var t=e.alternate;t!==null&&(e.alternate=null,o1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[Ra],delete t[Kh],delete t[_P],delete t[SP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i1(e){return e.tag===5||e.tag===3||e.tag===4}function Cv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=iu));else if(r!==4&&(e=e.child,e!==null))for(lp(e,t,n),e=e.sibling;e!==null;)lp(e,t,n),e=e.sibling}function cp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cp(e,t,n),e=e.sibling;e!==null;)cp(e,t,n),e=e.sibling}var tt=null,mn=!1;function kr(e,t,n){for(n=n.child;n!==null;)a1(e,t,n),n=n.sibling}function a1(e,t,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(qu,n)}catch{}switch(n.tag){case 5:dt||Ao(n,t);case 6:var r=tt,s=mn;tt=null,kr(e,t,n),tt=r,mn=s,tt!==null&&(mn?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(mn?(e=tt,n=n.stateNode,e.nodeType===8?Af(e.parentNode,n):e.nodeType===1&&Af(e,n),Na(e)):Af(tt,n.stateNode));break;case 4:r=tt,s=mn,tt=n.stateNode.containerInfo,mn=!0,kr(e,t,n),tt=r,mn=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ip(n,t,i),s=s.next}while(s!==r)}kr(e,t,n);break;case 1:if(!dt&&(Ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,t,a)}kr(e,t,n);break;case 21:kr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,kr(e,t,n),dt=r):kr(e,t,n);break;default:kr(e,t,n)}}function Nv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FP),t.forEach(function(r){var s=qP.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,mn=!1;break e;case 3:tt=a.stateNode.containerInfo,mn=!0;break e;case 4:tt=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(tt===null)throw Error(Y(160));a1(o,i,s),tt=null,mn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ze(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l1(t,e),t=t.sibling}function l1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),An(e),r&4){try{ha(3,e,e.return),rd(3,e)}catch(m){ze(e,e.return,m)}try{ha(5,e,e.return)}catch(m){ze(e,e.return,m)}}break;case 1:ln(t,e),An(e),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(ln(t,e),An(e),r&512&&n!==null&&Ao(n,n.return),e.flags&32){var s=e.stateNode;try{Sa(s,"")}catch(m){ze(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Tw(s,o),Mh(a,i);var c=Mh(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Ow(s,f):d==="dangerouslySetInnerHTML"?Mw(s,f):d==="children"?Sa(s,f):Em(s,d,f,c)}switch(a){case"input":jh(s,o);break;case"textarea":Aw(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Oo(s,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?Oo(s,!!o.multiple,o.defaultValue,!0):Oo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ra]=o}catch(m){ze(e,e.return,m)}}break;case 6:if(ln(t,e),An(e),r&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){ze(e,e.return,m)}}break;case 3:if(ln(t,e),An(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(t.containerInfo)}catch(m){ze(e,e.return,m)}break;case 4:ln(t,e),An(e);break;case 13:ln(t,e),An(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(rg=Ue())),r&4&&Nv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(c=dt)||d,ln(t,e),dt=c):ln(t,e),An(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(p=te,h=p.child,p.tag){case 0:case 11:case 14:case 15:ha(4,p,p.return);break;case 1:Ao(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(m){ze(r,n,m)}}break;case 5:Ao(p,p.return);break;case 22:if(p.memoizedState!==null){Pv(f);continue}}h!==null?(h.return=p,te=h):Pv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Iw("display",i))}catch(m){ze(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ze(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(t,e),An(e),r&4&&Nv(e);break;case 21:break;default:ln(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sa(s,""),r.flags&=-33);var o=Cv(e);cp(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Cv(e);lp(e,a,i);break;default:throw Error(Y(161))}}catch(l){ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BP(e,t,n){te=e,c1(e)}function c1(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||rc;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||dt;a=rc;var c=dt;if(rc=i,(dt=l)&&!c)for(te=s;te!==null;)i=te,l=i.child,i.tag===22&&i.memoizedState!==null?Tv(s):l!==null?(l.return=i,te=l):Tv(s);for(;o!==null;)te=o,c1(o),o=o.sibling;te=s,rc=a,dt=c}jv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,te=o):jv(e)}}function jv(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||rd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&fv(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fv(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Na(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}dt||t.flags&512&&ap(t)}catch(p){ze(t,t.return,p)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function Pv(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function Tv(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rd(4,t)}catch(l){ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ze(t,s,l)}}var o=t.return;try{ap(t)}catch(l){ze(t,o,l)}break;case 5:var i=t.return;try{ap(t)}catch(l){ze(t,i,l)}}}catch(l){ze(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var UP=Math.ceil,vu=wr.ReactCurrentDispatcher,tg=wr.ReactCurrentOwner,Zt=wr.ReactCurrentBatchConfig,ye=0,Je=null,Ve=null,nt=0,Ot=0,Ro=fs(0),qe=0,La=null,Hs=0,sd=0,ng=0,pa=null,_t=null,rg=0,ci=1/0,er=null,yu=!1,up=null,rs=null,sc=!1,Yr=null,xu=0,ma=0,dp=null,Fc=-1,zc=0;function gt(){return ye&6?Ue():Fc!==-1?Fc:Fc=Ue()}function ss(e){return e.mode&1?ye&2&&nt!==0?nt&-nt:kP.transition!==null?(zc===0&&(zc=Kw()),zc):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:eb(e.type)),e):1}function _n(e,t,n,r){if(50<ma)throw ma=0,dp=null,Error(Y(185));fl(e,n,r),(!(ye&2)||e!==Je)&&(e===Je&&(!(ye&2)&&(sd|=n),qe===4&&Fr(e,nt)),jt(e,r),n===1&&ye===0&&!(t.mode&1)&&(ci=Ue()+500,ed&&hs()))}function jt(e,t){var n=e.callbackNode;k2(e,t);var r=nu(e,e===Je?nt:0);if(r===0)n!==null&&F0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&F0(n),t===1)e.tag===0?EP(Av.bind(null,e)):xb(Av.bind(null,e)),wP(function(){!(ye&6)&&hs()}),n=null;else{switch(Yw(r)){case 1:n=Pm;break;case 4:n=Ww;break;case 16:n=tu;break;case 536870912:n=Gw;break;default:n=tu}n=v1(n,u1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function u1(e,t){if(Fc=-1,zc=0,ye&6)throw Error(Y(327));var n=e.callbackNode;if(zo()&&e.callbackNode!==n)return null;var r=nu(e,e===Je?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wu(e,r);else{t=r;var s=ye;ye|=2;var o=f1();(Je!==e||nt!==t)&&(er=null,ci=Ue()+500,Is(e,t));do try{WP();break}catch(a){d1(e,a)}while(!0);Um(),vu.current=o,ye=s,Ve!==null?t=0:(Je=null,nt=0,t=qe)}if(t!==0){if(t===2&&(s=Lh(e),s!==0&&(r=s,t=fp(e,s))),t===1)throw n=La,Is(e,0),Fr(e,r),jt(e,Ue()),n;if(t===6)Fr(e,r);else{if(s=e.current.alternate,!(r&30)&&!HP(s)&&(t=wu(e,r),t===2&&(o=Lh(e),o!==0&&(r=o,t=fp(e,o))),t===1))throw n=La,Is(e,0),Fr(e,r),jt(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:ws(e,_t,er);break;case 3:if(Fr(e,r),(r&130023424)===r&&(t=rg+500-Ue(),10<t)){if(nu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gh(ws.bind(null,e,_t,er),t);break}ws(e,_t,er);break;case 4:if(Fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-bn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UP(r/1960))-r,10<r){e.timeoutHandle=Gh(ws.bind(null,e,_t,er),r);break}ws(e,_t,er);break;case 5:ws(e,_t,er);break;default:throw Error(Y(329))}}}return jt(e,Ue()),e.callbackNode===n?u1.bind(null,e):null}function fp(e,t){var n=pa;return e.current.memoizedState.isDehydrated&&(Is(e,t).flags|=256),e=wu(e,t),e!==2&&(t=_t,_t=n,t!==null&&hp(t)),e}function hp(e){_t===null?_t=e:_t.push.apply(_t,e)}function HP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Sn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fr(e,t){for(t&=~ng,t&=~sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),r=1<<n;e[n]=-1,t&=~r}}function Av(e){if(ye&6)throw Error(Y(327));zo();var t=nu(e,0);if(!(t&1))return jt(e,Ue()),null;var n=wu(e,t);if(e.tag!==0&&n===2){var r=Lh(e);r!==0&&(t=r,n=fp(e,r))}if(n===1)throw n=La,Is(e,0),Fr(e,t),jt(e,Ue()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ws(e,_t,er),jt(e,Ue()),null}function sg(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(ci=Ue()+500,ed&&hs())}}function Vs(e){Yr!==null&&Yr.tag===0&&!(ye&6)&&zo();var t=ye;ye|=1;var n=Zt.transition,r=Ee;try{if(Zt.transition=null,Ee=1,e)return e()}finally{Ee=r,Zt.transition=n,ye=t,!(ye&6)&&hs()}}function og(){Ot=Ro.current,Re(Ro)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xP(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:ai(),Re(Ct),Re(ft),Ym();break;case 5:Km(r);break;case 4:ai();break;case 13:Re(De);break;case 19:Re(De);break;case 10:Hm(r.type._context);break;case 22:case 23:og()}n=n.return}if(Je=e,Ve=e=os(e.current,null),nt=Ot=t,qe=0,La=null,ng=sd=Hs=0,_t=pa=null,Cs!==null){for(t=0;t<Cs.length;t++)if(n=Cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Cs=null}return e}function d1(e,t){do{var n=Ve;try{if(Um(),Dc.current=gu,mu){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mu=!1}if(Us=0,Qe=Ye=$e=null,fa=!1,Oa=0,tg.current=null,n===null||n.return===null){qe=1,La=t,Ve=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=yv(i);if(h!==null){h.flags&=-257,xv(h,i,a,o,t),h.mode&1&&vv(o,c,t),t=h,l=c;var b=t.updateQueue;if(b===null){var m=new Set;m.add(l),t.updateQueue=m}else b.add(l);break e}else{if(!(t&1)){vv(o,c,t),ig();break e}l=Error(Y(426))}}else if(Ie&&a.mode&1){var w=yv(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xv(w,i,a,o,t),zm(li(l,a));break e}}o=l=li(l,a),qe!==4&&(qe=2),pa===null?pa=[o]:pa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Yb(o,l,t);dv(o,y);break e;case 1:a=l;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rs===null||!rs.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=qb(o,a,t);dv(o,_);break e}}o=o.return}while(o!==null)}p1(n)}catch(E){t=E,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function f1(){var e=vu.current;return vu.current=gu,e===null?gu:e}function ig(){(qe===0||qe===3||qe===2)&&(qe=4),Je===null||!(Hs&268435455)&&!(sd&268435455)||Fr(Je,nt)}function wu(e,t){var n=ye;ye|=2;var r=f1();(Je!==e||nt!==t)&&(er=null,Is(e,t));do try{VP();break}catch(s){d1(e,s)}while(!0);if(Um(),ye=n,vu.current=r,Ve!==null)throw Error(Y(261));return Je=null,nt=0,qe}function VP(){for(;Ve!==null;)h1(Ve)}function WP(){for(;Ve!==null&&!g2();)h1(Ve)}function h1(e){var t=g1(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?p1(e):Ve=t,tg.current=null}function p1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LP(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ve=null;return}}else if(n=$P(n,t,Ot),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);qe===0&&(qe=5)}function ws(e,t,n){var r=Ee,s=Zt.transition;try{Zt.transition=null,Ee=1,GP(e,t,n,r)}finally{Zt.transition=s,Ee=r}return null}function GP(e,t,n,r){do zo();while(Yr!==null);if(ye&6)throw Error(Y(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(C2(e,o),e===Je&&(Ve=Je=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sc||(sc=!0,v1(tu,function(){return zo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zt.transition,Zt.transition=null;var i=Ee;Ee=1;var a=ye;ye|=4,tg.current=null,zP(e,n),l1(n,e),fP(Vh),ru=!!Hh,Vh=Hh=null,e.current=n,BP(n),v2(),ye=a,Ee=i,Zt.transition=o}else e.current=n;if(sc&&(sc=!1,Yr=e,xu=s),o=e.pendingLanes,o===0&&(rs=null),w2(n.stateNode),jt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,e=up,up=null,e;return xu&1&&e.tag!==0&&zo(),o=e.pendingLanes,o&1?e===dp?ma++:(ma=0,dp=e):ma=0,hs(),null}function zo(){if(Yr!==null){var e=Yw(xu),t=Zt.transition,n=Ee;try{if(Zt.transition=null,Ee=16>e?16:e,Yr===null)var r=!1;else{if(e=Yr,Yr=null,xu=0,ye&6)throw Error(Y(331));var s=ye;for(ye|=4,te=e.current;te!==null;){var o=te,i=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:ha(8,d,o)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var p=d.sibling,h=d.return;if(o1(d),d===c){te=null;break}if(p!==null){p.return=h,te=p;break}te=h}}}var b=o.alternate;if(b!==null){var m=b.child;if(m!==null){b.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}te=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,te=i;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ha(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,te=y;break e}te=o.return}}var x=e.current;for(te=x;te!==null;){i=te;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,te=v;else e:for(i=x;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rd(9,a)}}catch(E){ze(a,a.return,E)}if(a===i){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(ye=s,hs(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(qu,e)}catch{}r=!0}return r}finally{Ee=n,Zt.transition=t}}return!1}function Rv(e,t,n){t=li(n,t),t=Yb(e,t,1),e=ns(e,t,1),t=gt(),e!==null&&(fl(e,1,t),jt(e,t))}function ze(e,t,n){if(e.tag===3)Rv(e,e,n);else for(;t!==null;){if(t.tag===3){Rv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){e=li(n,e),e=qb(t,e,1),t=ns(t,e,1),e=gt(),t!==null&&(fl(t,1,e),jt(t,e));break}}t=t.return}}function KP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(nt&n)===n&&(qe===4||qe===3&&(nt&130023424)===nt&&500>Ue()-rg?Is(e,0):ng|=n),jt(e,t)}function m1(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var n=gt();e=pr(e,t),e!==null&&(fl(e,t,n),jt(e,n))}function YP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),m1(e,n)}function qP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),m1(e,n)}var g1;g1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Et=!1,DP(e,t,n);Et=!!(e.flags&131072)}else Et=!1,Ie&&t.flags&1048576&&wb(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lc(e,t),e=t.pendingProps;var s=si(t,ft.current);Fo(t,n),s=Xm(null,t,r,e,s,n);var o=Qm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(r)?(o=!0,lu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wm(t),s.updater=nd,t.stateNode=s,s._reactInternals=t,Zh(t,r,e,n),t=np(null,t,r,!0,o,n)):(t.tag=0,Ie&&o&&Lm(t),pt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=QP(r),e=dn(r,e),s){case 0:t=tp(null,t,r,e,n);break e;case 1:t=_v(null,t,r,e,n);break e;case 11:t=wv(null,t,r,e,n);break e;case 14:t=bv(null,t,r,dn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),tp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),_v(e,t,r,s,n);case 3:e:{if(Zb(t),e===null)throw Error(Y(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Cb(e,t),hu(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=li(Error(Y(423)),t),t=Sv(e,t,r,n,s);break e}else if(r!==s){s=li(Error(Y(424)),t),t=Sv(e,t,r,n,s);break e}else for(zt=ts(t.stateNode.containerInfo.firstChild),Bt=t,Ie=!0,yn=null,n=Eb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),r===s){t=mr(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return Nb(t),e===null&&Xh(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Wh(r,s)?i=null:o!==null&&Wh(r,o)&&(t.flags|=32),Jb(e,t),pt(e,t,i,n),t.child;case 6:return e===null&&Xh(t),null;case 13:return e1(e,t,n);case 4:return Gm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ii(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),wv(e,t,r,s,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Pe(du,r._currentValue),r._currentValue=i,o!==null)if(Sn(o.value,i)){if(o.children===s.children&&!Ct.current){t=mr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=lr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Y(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Qh(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fo(t,n),s=nn(s),r=r(s),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,s=dn(r,t.pendingProps),s=dn(r.type,s),bv(e,t,r,s,n);case 15:return Xb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Lc(e,t),t.tag=1,Nt(r)?(e=!0,lu(t)):e=!1,Fo(t,n),Kb(t,r,s),Zh(t,r,s,n),np(null,t,r,!0,e,n);case 19:return t1(e,t,n);case 22:return Qb(e,t,n)}throw Error(Y(156,t.tag))};function v1(e,t){return Vw(e,t)}function XP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new XP(e,t,n,r)}function ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QP(e){if(typeof e=="function")return ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cm)return 11;if(e===Nm)return 14}return 2}function os(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bc(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")ag(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _o:return Os(n.children,s,o,t);case km:i=8,s|=8;break;case Sh:return e=Qt(12,n,t,s|2),e.elementType=Sh,e.lanes=o,e;case Eh:return e=Qt(13,n,t,s),e.elementType=Eh,e.lanes=o,e;case kh:return e=Qt(19,n,t,s),e.elementType=kh,e.lanes=o,e;case Nw:return od(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kw:i=10;break e;case Cw:i=9;break e;case Cm:i=11;break e;case Nm:i=14;break e;case Ir:i=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Qt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Os(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function od(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=Nw,e.lanes=n,e.stateNode={isHidden:!1},e}function Ff(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function zf(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JP(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lg(e,t,n,r,s,o,i,a,l){return e=new JP(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Qt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wm(o),e}function ZP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function y1(e){if(!e)return ls;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(Nt(n))return yb(e,n,t)}return t}function x1(e,t,n,r,s,o,i,a,l){return e=lg(n,r,!0,e,s,o,i,a,l),e.context=y1(null),n=e.current,r=gt(),s=ss(n),o=lr(r,s),o.callback=t??null,ns(n,o,s),e.current.lanes=s,fl(e,s,r),jt(e,r),e}function id(e,t,n,r){var s=t.current,o=gt(),i=ss(s);return n=y1(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ns(s,t,i),e!==null&&(_n(e,s,i,o),Oc(e,s,i)),i}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cg(e,t){Mv(e,t),(e=e.alternate)&&Mv(e,t)}function eT(){return null}var w1=typeof reportError=="function"?reportError:function(e){console.error(e)};function ug(e){this._internalRoot=e}ad.prototype.render=ug.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));id(e,t,null,null)};ad.prototype.unmount=ug.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vs(function(){id(null,e,null,null)}),t[hr]=null}};function ad(e){this._internalRoot=e}ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lr.length&&t!==0&&t<Lr[n].priority;n++);Lr.splice(n,0,e),n===0&&Zw(e)}};function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function tT(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=bu(i);o.call(c)}}var i=x1(t,r,e,0,null,!1,!1,"",Iv);return e._reactRootContainer=i,e[hr]=i.current,Ta(e.nodeType===8?e.parentNode:e),Vs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=bu(l);a.call(c)}}var l=lg(e,0,!1,null,null,!1,!1,"",Iv);return e._reactRootContainer=l,e[hr]=l.current,Ta(e.nodeType===8?e.parentNode:e),Vs(function(){id(t,l,n,r)}),l}function cd(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=bu(i);a.call(l)}}id(t,i,e,s)}else i=tT(n,t,e,s,r);return bu(i)}qw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zi(t.pendingLanes);n!==0&&(Tm(t,n|1),jt(t,Ue()),!(ye&6)&&(ci=Ue()+500,hs()))}break;case 13:Vs(function(){var r=pr(e,1);if(r!==null){var s=gt();_n(r,e,1,s)}}),cg(e,1)}};Am=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var n=gt();_n(t,e,134217728,n)}cg(e,134217728)}};Xw=function(e){if(e.tag===13){var t=ss(e),n=pr(e,t);if(n!==null){var r=gt();_n(n,e,t,r)}cg(e,t)}};Qw=function(){return Ee};Jw=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};Oh=function(e,t,n){switch(t){case"input":if(jh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Zu(r);if(!s)throw Error(Y(90));Pw(r),jh(r,s)}}}break;case"textarea":Aw(e,n);break;case"select":t=n.value,t!=null&&Oo(e,!!n.multiple,t,!1)}};Lw=sg;Fw=Vs;var nT={usingClientEntryPoint:!1,Events:[pl,Co,Zu,Dw,$w,sg]},Wi={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rT={bundleType:Wi.bundleType,version:Wi.version,rendererPackageName:Wi.rendererPackageName,rendererConfig:Wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uw(e),e===null?null:e.stateNode},findFiberByHostInstance:Wi.findFiberByHostInstance||eT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{qu=oc.inject(rT),zn=oc}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nT;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dg(t))throw Error(Y(200));return ZP(e,t,null,n)};Wt.createRoot=function(e,t){if(!dg(e))throw Error(Y(299));var n=!1,r="",s=w1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lg(e,1,!1,null,null,n,!1,r,s),e[hr]=t.current,Ta(e.nodeType===8?e.parentNode:e),new ug(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Uw(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return Vs(e)};Wt.hydrate=function(e,t,n){if(!ld(t))throw Error(Y(200));return cd(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!dg(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=w1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=x1(t,null,e,1,n??null,s,!1,o,i),e[hr]=t.current,Ta(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ad(t)};Wt.render=function(e,t,n){if(!ld(t))throw Error(Y(200));return cd(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!ld(e))throw Error(Y(40));return e._reactRootContainer?(Vs(function(){cd(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};Wt.unstable_batchedUpdates=sg;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ld(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return cd(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function b1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b1)}catch(e){console.error(e)}}b1(),bw.exports=Wt;var ro=bw.exports;const _1=gm(ro);var S1,Ov=ro;S1=Ov.createRoot,Ov.hydrateRoot;const sT=1,oT=1e6;let Bf=0;function iT(){return Bf=(Bf+1)%Number.MAX_SAFE_INTEGER,Bf.toString()}const Uf=new Map,Dv=e=>{if(Uf.has(e))return;const t=setTimeout(()=>{Uf.delete(e),ga({type:"REMOVE_TOAST",toastId:e})},oT);Uf.set(e,t)},aT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Dv(n):e.toasts.forEach(r=>{Dv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Uc=[];let Hc={toasts:[]};function ga(e){Hc=aT(Hc,e),Uc.forEach(t=>{t(Hc)})}function lT({...e}){const t=iT(),n=s=>ga({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ga({type:"DISMISS_TOAST",toastId:t});return ga({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function cT(){const[e,t]=g.useState(Hc);return g.useEffect(()=>(Uc.push(t),()=>{const n=Uc.indexOf(t);n>-1&&Uc.splice(n,1)}),[e]),{...e,toast:lT,dismiss:n=>ga({type:"DISMISS_TOAST",toastId:n})}}function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function $v(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ud(...e){return t=>{let n=!1;const r=e.map(s=>{const o=$v(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():$v(e[s],null)}}}}function be(...e){return g.useCallback(ud(...e),e)}function uT(e,t){const n=g.createContext(t),r=o=>{const{children:i,...a}=o,l=g.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function br(e,t=[]){let n=[];function r(o,i){const a=g.createContext(i),l=n.length;n=[...n,i];const c=f=>{var y;const{scope:p,children:h,...b}=f,m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,w=g.useMemo(()=>b,Object.values(b));return u.jsx(m.Provider,{value:w,children:h})};c.displayName=o+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[e])==null?void 0:m[l])||a,b=g.useContext(h);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,dT(s,...t)]}function dT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ws(e){const t=hT(e),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,a=g.Children.toArray(o),l=a.find(mT);if(l){const c=l.props.children,d=a.map(f=>f===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...i,ref:s,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var fT=Ws("Slot");function hT(e){const t=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=vT(s),a=gT(o,s.props);return s.type!==g.Fragment&&(a.ref=r?ud(r,i):i),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var E1=Symbol("radix.slottable");function pT(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=E1,t}function mT(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===E1}function gT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function vT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dd(e){const t=e+"CollectionProvider",[n,r]=br(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:w,children:y}=m,x=X.useRef(null),v=X.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:v,collectionRef:x,children:y})};i.displayName=t;const a=e+"CollectionSlot",l=Ws(a),c=X.forwardRef((m,w)=>{const{scope:y,children:x}=m,v=o(a,y),_=be(w,v.collectionRef);return u.jsx(l,{ref:_,children:x})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=Ws(d),h=X.forwardRef((m,w)=>{const{scope:y,children:x,...v}=m,_=X.useRef(null),E=be(w,_),P=o(d,y);return X.useEffect(()=>(P.itemMap.set(_,{ref:_,...v}),()=>void P.itemMap.delete(_))),u.jsx(p,{[f]:"",ref:E,children:x})});h.displayName=d;function b(m){const w=o(e+"CollectionConsumer",m);return X.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((P,k)=>v.indexOf(P.ref.current)-v.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},b,r]}var yT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=yT.reduce((e,t)=>{const n=Ws(`Primitive.${t}`),r=g.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function fg(e,t){e&&ro.flushSync(()=>e.dispatchEvent(t))}function Pt(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function xT(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var wT="DismissableLayer",pp="dismissableLayer.update",bT="dismissableLayer.pointerDownOutside",_T="dismissableLayer.focusOutside",Lv,k1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ki=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=g.useContext(k1),[d,f]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=g.useState({}),b=be(t,k=>f(k)),m=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),x=d?m.indexOf(d):-1,v=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,E=ET(k=>{const N=k.target,I=[...c.branches].some(O=>O.contains(N));!_||I||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},p),P=kT(k=>{const N=k.target;[...c.branches].some(O=>O.contains(N))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},p);return xT(k=>{x===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Lv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Fv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Lv)}},[d,p,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Fv())},[d,c]),g.useEffect(()=>{const k=()=>h({});return document.addEventListener(pp,k),()=>document.removeEventListener(pp,k)},[]),u.jsx(ue.div,{...l,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,E.onPointerDownCapture)})});ki.displayName=wT;var ST="DismissableLayerBranch",C1=g.forwardRef((e,t)=>{const n=g.useContext(k1),r=g.useRef(null),s=be(t,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(ue.div,{...e,ref:s})});C1.displayName=ST;function ET(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){N1(bT,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kT(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&N1(_T,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fv(){const e=new CustomEvent(pp);document.dispatchEvent(e)}function N1(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?fg(s,o):s.dispatchEvent(o)}var CT=ki,NT=C1,st=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},jT="Portal",gl=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=g.useState(!1);st(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?_1.createPortal(u.jsx(ue.div,{...r,ref:t}),i):null});gl.displayName=jT;function PT(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Kn=e=>{const{present:t,children:n}=e,r=TT(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=be(r.ref,AT(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};Kn.displayName="Presence";function TT(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),o=g.useRef("none"),i=e?"mounted":"unmounted",[a,l]=PT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=ic(r.current);o.current=a==="mounted"?c:"none"},[a]),st(()=>{const c=r.current,d=s.current;if(d!==e){const p=o.current,h=ic(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),st(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=h=>{const m=ic(r.current).includes(h.animationName);if(h.target===t&&m&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=h=>{h.target===t&&(o.current=ic(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function ic(e){return(e==null?void 0:e.animationName)||"none"}function AT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var RT=bm[" useInsertionEffect ".trim().toString()]||st;function Gs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=MT({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=g.useCallback(d=>{var f;if(a){const p=IT(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,e,o,i]);return[l,c]}function MT({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),o=g.useRef(t);return RT(()=>{o.current=t},[t]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function IT(e){return typeof e=="function"}var j1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OT="VisuallyHidden",fd=g.forwardRef((e,t)=>u.jsx(ue.span,{...e,ref:t,style:{...j1,...e.style}}));fd.displayName=OT;var DT=fd,hg="ToastProvider",[pg,$T,LT]=dd("Toast"),[P1,X9]=br("Toast",[LT]),[FT,hd]=P1(hg),T1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=g.useState(null),[c,d]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hg}\`. Expected non-empty \`string\`.`),u.jsx(pg.Provider,{scope:t,children:u.jsx(FT,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(h=>h+1),[]),onToastRemove:g.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};T1.displayName=hg;var A1="ToastViewport",zT=["F8"],mp="toast.viewportPause",gp="toast.viewportResume",R1=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=zT,label:s="Notifications ({hotkey})",...o}=e,i=hd(A1,n),a=$T(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),f=g.useRef(null),p=be(t,f,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;g.useEffect(()=>{const w=y=>{var v;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),g.useEffect(()=>{const w=l.current,y=f.current;if(b&&w&&y){const x=()=>{if(!i.isClosePausedRef.current){const P=new CustomEvent(mp);y.dispatchEvent(P),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const P=new CustomEvent(gp);y.dispatchEvent(P),i.isClosePausedRef.current=!1}},_=P=>{!w.contains(P.relatedTarget)&&v()},E=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",x),w.addEventListener("focusout",_),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[b,i.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:w})=>{const x=a().map(v=>{const _=v.ref.current,E=[_,...ZT(_)];return w==="forwards"?E:E.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return g.useEffect(()=>{const w=f.current;if(w){const y=x=>{var E,P,k;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const N=document.activeElement,I=x.shiftKey;if(x.target===w&&I){(E=c.current)==null||E.focus();return}const R=m({tabbingDirection:I?"backwards":"forwards"}),$=R.findIndex(S=>S===N);Hf(R.slice($+1))?x.preventDefault():I?(P=c.current)==null||P.focus():(k=d.current)==null||k.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,m]),u.jsxs(NT,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(vp,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Hf(w)}}),u.jsx(pg.Slot,{scope:n,children:u.jsx(ue.ol,{tabIndex:-1,...o,ref:p})}),b&&u.jsx(vp,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Hf(w)}})]})});R1.displayName=A1;var M1="ToastFocusProxy",vp=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=hd(M1,n);return u.jsx(fd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});vp.displayName=M1;var vl="Toast",BT="toast.swipeStart",UT="toast.swipeMove",HT="toast.swipeCancel",VT="toast.swipeEnd",I1=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=Gs({prop:r,defaultProp:s??!0,onChange:o,caller:vl});return u.jsx(Kn,{present:n||a,children:u.jsx(KT,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:Pt(e.onPause),onResume:Pt(e.onResume),onSwipeStart:Z(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});I1.displayName=vl;var[WT,GT]=P1(vl,{onClose(){}}),KT=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...b}=e,m=hd(vl,n),[w,y]=g.useState(null),x=be(t,S=>y(S)),v=g.useRef(null),_=g.useRef(null),E=s||m.duration,P=g.useRef(0),k=g.useRef(E),N=g.useRef(0),{onToastAdd:I,onToastRemove:O}=m,L=Pt(()=>{var T;(w==null?void 0:w.contains(document.activeElement))&&((T=m.viewport)==null||T.focus()),i()}),R=g.useCallback(S=>{!S||S===1/0||(window.clearTimeout(N.current),P.current=new Date().getTime(),N.current=window.setTimeout(L,S))},[L]);g.useEffect(()=>{const S=m.viewport;if(S){const T=()=>{R(k.current),c==null||c()},j=()=>{const M=new Date().getTime()-P.current;k.current=k.current-M,window.clearTimeout(N.current),l==null||l()};return S.addEventListener(mp,j),S.addEventListener(gp,T),()=>{S.removeEventListener(mp,j),S.removeEventListener(gp,T)}}},[m.viewport,E,l,c,R]),g.useEffect(()=>{o&&!m.isClosePausedRef.current&&R(E)},[o,E,m.isClosePausedRef,R]),g.useEffect(()=>(I(),()=>O()),[I,O]);const $=g.useMemo(()=>w?B1(w):null,[w]);return m.viewport?u.jsxs(u.Fragment,{children:[$&&u.jsx(YT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),u.jsx(WT,{scope:n,onClose:L,children:ro.createPortal(u.jsx(pg.ItemSlot,{scope:n,children:u.jsx(CT,{asChild:!0,onEscapeKeyDown:Z(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,S=>{S.key==="Escape"&&(a==null||a(S.nativeEvent),S.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Z(e.onPointerDown,S=>{S.button===0&&(v.current={x:S.clientX,y:S.clientY})}),onPointerMove:Z(e.onPointerMove,S=>{if(!v.current)return;const T=S.clientX-v.current.x,j=S.clientY-v.current.y,M=!!_.current,A=["left","right"].includes(m.swipeDirection),C=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,D=A?C(0,T):0,F=A?0:C(0,j),z=S.pointerType==="touch"?10:2,H={x:D,y:F},U={originalEvent:S,delta:H};M?(_.current=H,ac(UT,f,U,{discrete:!1})):zv(H,m.swipeDirection,z)?(_.current=H,ac(BT,d,U,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(T)>z||Math.abs(j)>z)&&(v.current=null)}),onPointerUp:Z(e.onPointerUp,S=>{const T=_.current,j=S.target;if(j.hasPointerCapture(S.pointerId)&&j.releasePointerCapture(S.pointerId),_.current=null,v.current=null,T){const M=S.currentTarget,A={originalEvent:S,delta:T};zv(T,m.swipeDirection,m.swipeThreshold)?ac(VT,h,A,{discrete:!0}):ac(HT,p,A,{discrete:!0}),M.addEventListener("click",C=>C.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),YT=e=>{const{__scopeToast:t,children:n,...r}=e,s=hd(vl,t),[o,i]=g.useState(!1),[a,l]=g.useState(!1);return QT(()=>i(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(gl,{asChild:!0,children:u.jsx(fd,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},qT="ToastTitle",O1=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(ue.div,{...r,ref:t})});O1.displayName=qT;var XT="ToastDescription",D1=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(ue.div,{...r,ref:t})});D1.displayName=XT;var $1="ToastAction",L1=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(z1,{altText:n,asChild:!0,children:u.jsx(mg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$1}\`. Expected non-empty \`string\`.`),null)});L1.displayName=$1;var F1="ToastClose",mg=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=GT(F1,n);return u.jsx(z1,{asChild:!0,children:u.jsx(ue.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,s.onClose)})})});mg.displayName=F1;var z1=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function B1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),JT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...B1(r))}}),t}function ac(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?fg(s,o):s.dispatchEvent(o)}var zv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function QT(e=()=>{}){const t=Pt(e);st(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function JT(e){return e.nodeType===e.ELEMENT_NODE}function ZT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Hf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var eA=T1,U1=R1,H1=I1,V1=O1,W1=D1,G1=L1,K1=mg;function Y1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Y1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function q1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Y1(e))&&(r&&(r+=" "),r+=t);return r}const Bv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Uv=q1,yl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Uv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const p=Bv(d)||Bv(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(b=>{let[m,w]=b;return Array.isArray(w)?w.includes({...o,...a}[m]):{...o,...a}[m]===w})?[...c,f,p]:c},[]);return Uv(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>g.createElement("svg",{ref:l,...nA,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:X1("lucide",s),...a},[...i.map(([c,d])=>g.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=g.forwardRef(({className:r,...s},o)=>g.createElement(rA,{ref:o,iconNode:t,className:X1(`lucide-${tA(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=pe("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=pe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=pe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=pe("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=pe("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=pe("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=pe("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=pe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),yg="-",_A=e=>{const t=EA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(yg);return a[0]===""&&a.length!==1&&a.shift(),i_(a,t)||SA(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},i_=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?i_(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(yg);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Vv=/^\[(.+)\]$/,SA=e=>{if(Vv.test(e)){const t=Vv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},EA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return CA(Object.entries(e.classGroups),n).forEach(([o,i])=>{wp(i,r,o,t)}),r},wp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Wv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(kA(s)){wp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{wp(i,Wv(t,o),n,r)})})},Wv=(e,t)=>{let n=e;return t.split(yg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},kA=e=>e.isThemeGetter,CA=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,NA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},a_="!",jA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===s&&(r||a.slice(w,w+o)===t)){l.push(a.slice(d,w)),d=w+o;continue}if(y==="/"){f=w;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?a:a.substring(d),h=p.startsWith(a_),b=h?p.substring(1):p,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},PA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},TA=e=>({cache:NA(e.cacheSize),parseClassName:jA(e),..._A(e)}),AA=/\s+/,RA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(AA);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(c);let b=!!h,m=r(b?p.substring(0,h):p);if(!m){if(!b){a=c+(a.length>0?" "+a:a);continue}if(m=r(p),!m){a=c+(a.length>0?" "+a:a);continue}b=!1}const w=PA(d).join(":"),y=f?w+a_:w,x=y+m;if(o.includes(x))continue;o.push(x);const v=s(m,b);for(let _=0;_<v.length;++_){const E=v[_];o.push(y+E)}a=c+(a.length>0?" "+a:a)}return a};function MA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=l_(t))&&(r&&(r+=" "),r+=n);return r}const l_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=l_(e[r]))&&(n&&(n+=" "),n+=t);return n};function IA(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((d,f)=>f(d),e());return n=TA(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=RA(l,n);return s(l,d),d}return function(){return o(MA.apply(null,arguments))}}const Te=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},c_=/^\[(?:([a-z-]+):)?(.+)\]$/i,OA=/^\d+\/\d+$/,DA=new Set(["px","full","screen"]),$A=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qn=e=>Bo(e)||DA.has(e)||OA.test(e),Cr=e=>Ni(e,"length",qA),Bo=e=>!!e&&!Number.isNaN(Number(e)),Wf=e=>Ni(e,"number",Bo),Gi=e=>!!e&&Number.isInteger(Number(e)),UA=e=>e.endsWith("%")&&Bo(e.slice(0,-1)),de=e=>c_.test(e),Nr=e=>$A.test(e),HA=new Set(["length","size","percentage"]),VA=e=>Ni(e,HA,u_),WA=e=>Ni(e,"position",u_),GA=new Set(["image","url"]),KA=e=>Ni(e,GA,QA),YA=e=>Ni(e,"",XA),Ki=()=>!0,Ni=(e,t,n)=>{const r=c_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},qA=e=>LA.test(e)&&!FA.test(e),u_=()=>!1,XA=e=>zA.test(e),QA=e=>BA.test(e),JA=()=>{const e=Te("colors"),t=Te("spacing"),n=Te("blur"),r=Te("brightness"),s=Te("borderColor"),o=Te("borderRadius"),i=Te("borderSpacing"),a=Te("borderWidth"),l=Te("contrast"),c=Te("grayscale"),d=Te("hueRotate"),f=Te("invert"),p=Te("gap"),h=Te("gradientColorStops"),b=Te("gradientColorStopPositions"),m=Te("inset"),w=Te("margin"),y=Te("opacity"),x=Te("padding"),v=Te("saturate"),_=Te("scale"),E=Te("sepia"),P=Te("skew"),k=Te("space"),N=Te("translate"),I=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",de,t],R=()=>[de,t],$=()=>["",Qn,Cr],S=()=>["auto",Bo,de],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],C=()=>["","0",de],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Bo,de];return{cacheSize:500,separator:":",theme:{colors:[Ki],spacing:[Qn,Cr],blur:["none","",Nr,de],brightness:F(),borderColor:[e],borderRadius:["none","","full",Nr,de],borderSpacing:R(),borderWidth:$(),contrast:F(),grayscale:C(),hueRotate:F(),invert:C(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[UA,Cr],inset:L(),margin:L(),opacity:F(),padding:R(),saturate:F(),scale:F(),sepia:C(),skew:F(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Nr]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),de]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gi,de]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Gi,de]}],"grid-cols":[{"grid-cols":[Ki]}],"col-start-end":[{col:["auto",{span:["full",Gi,de]},de]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[Ki]}],"row-start-end":[{row:["auto",{span:[Gi,de]},de]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,t]}],"min-w":[{"min-w":[de,t,"min","max","fit"]}],"max-w":[{"max-w":[de,t,"none","full","min","max","fit","prose",{screen:[Nr]},Nr]}],h:[{h:[de,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Nr,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wf]}],"font-family":[{font:[Ki]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Bo,Wf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qn,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qn,Cr]}],"underline-offset":[{"underline-offset":["auto",Qn,de]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),WA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Qn,de]}],"outline-w":[{outline:[Qn,Cr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qn,Cr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nr,YA]}],"shadow-color":[{shadow:[Ki]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Nr,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Gi,de]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qn,Cr,Wf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZA=IA(JA);function oe(...e){return ZA(q1(e))}const eR=eA,d_=g.forwardRef(({className:e,...t},n)=>u.jsx(U1,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));d_.displayName=U1.displayName;const tR=yl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f_=g.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(H1,{ref:r,className:oe(tR({variant:t}),e),...n}));f_.displayName=H1.displayName;const nR=g.forwardRef(({className:e,...t},n)=>u.jsx(G1,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));nR.displayName=G1.displayName;const h_=g.forwardRef(({className:e,...t},n)=>u.jsx(K1,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Ci,{className:"h-4 w-4"})}));h_.displayName=K1.displayName;const p_=g.forwardRef(({className:e,...t},n)=>u.jsx(V1,{ref:n,className:oe("text-sm font-semibold",e),...t}));p_.displayName=V1.displayName;const m_=g.forwardRef(({className:e,...t},n)=>u.jsx(W1,{ref:n,className:oe("text-sm opacity-90",e),...t}));m_.displayName=W1.displayName;function rR(){const{toasts:e}=cT();return u.jsxs(eR,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return u.jsxs(f_,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(p_,{children:n}),r&&u.jsx(m_,{children:r})]}),s,u.jsx(h_,{})]},t)}),u.jsx(d_,{})]})}var Su=["light","dark"],xg="(prefers-color-scheme: dark)",sR=typeof window>"u",wg=g.createContext(void 0),oR={setTheme:e=>{},themes:[]},g_=()=>{var e;return(e=g.useContext(wg))!=null?e:oR},iR=e=>g.useContext(wg)?e.children:g.createElement(lR,{...e}),aR=["light","dark"],lR=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=aR,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d})=>{let[f,p]=g.useState(()=>Gv(s,i)),[h,b]=g.useState(()=>Gv(s)),m=l?Object.values(l):o,w=g.useCallback(_=>{let E=_;if(!E)return;_==="system"&&n&&(E=Kv());let P=l?l[E]:E,k=t?uR():null,N=document.documentElement;if(a==="class"?(N.classList.remove(...m),P&&N.classList.add(P)):P?N.setAttribute(a,P):N.removeAttribute(a),r){let I=Su.includes(i)?i:null,O=Su.includes(E)?E:I;N.style.colorScheme=O}k==null||k()},[]),y=g.useCallback(_=>{let E=typeof _=="function"?_(_):_;p(E);try{localStorage.setItem(s,E)}catch{}},[e]),x=g.useCallback(_=>{let E=Kv(_);b(E),f==="system"&&n&&!e&&w("system")},[f,e]);g.useEffect(()=>{let _=window.matchMedia(xg);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),g.useEffect(()=>{let _=E=>{if(E.key!==s)return;let P=E.newValue||i;y(P)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),g.useEffect(()=>{w(e??f)},[e,f]);let v=g.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:n?[...o,"system"]:o,systemTheme:n?h:void 0}),[f,y,e,h,n,o]);return g.createElement(wg.Provider,{value:v},g.createElement(cR,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:l,children:c,attrs:m,nonce:d}),c)},cR=g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Su.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,m=!1,w=!0)=>{let y=i?i[b]:b,x=m?b+"|| ''":`'${y}'`,v="";return s&&w&&!m&&Su.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),n==="class"?m||y?v+=`c.add(${x})`:v+="null":y&&(v+=`d[s](n,${x})`),v},h=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${xg}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})}),Gv=(e,t)=>{if(sR)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},uR=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Kv=e=>(e||(e=window.matchMedia(xg)),e.matches?"dark":"light"),dR=e=>{switch(e){case"success":return pR;case"info":return gR;case"warning":return mR;case"error":return vR;default:return null}},fR=Array(12).fill(0),hR=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},fR.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xR=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},bp=1,wR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:bp++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],X.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(_R(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:c,description:d})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||bp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bt=new wR,bR=(e,t)=>{let n=(t==null?void 0:t.id)||bp++;return bt.addToast({title:e,...t,id:n}),n},_R=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",SR=bR,ER=()=>bt.toasts,kR=()=>bt.getActiveToasts(),ct=Object.assign(SR,{success:bt.success,info:bt.info,warning:bt.warning,error:bt.error,custom:bt.custom,message:bt.message,promise:bt.promise,dismiss:bt.dismiss,loading:bt.loading},{getHistory:ER,getToasts:kR});function CR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}CR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lc(e){return e.label!==void 0}var NR=3,jR="32px",PR="16px",Yv=4e3,TR=356,AR=14,RR=20,MR=200;function cn(...e){return e.filter(Boolean).join(" ")}function IR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var OR=e=>{var t,n,r,s,o,i,a,l,c,d,f;let{invert:p,toast:h,unstyled:b,interacting:m,setHeights:w,visibleToasts:y,heights:x,index:v,toasts:_,expanded:E,removeToast:P,defaultRichColors:k,closeButton:N,style:I,cancelButtonStyle:O,actionButtonStyle:L,className:R="",descriptionClassName:$="",duration:S,position:T,gap:j,loadingIcon:M,expandByDefault:A,classNames:C,icons:D,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:z}=e,[H,U]=X.useState(null),[G,K]=X.useState(null),[B,V]=X.useState(!1),[J,ee]=X.useState(!1),[Q,q]=X.useState(!1),[ie,ae]=X.useState(!1),[Se,ke]=X.useState(!1),[ot,Kt]=X.useState(0),[Tt,sn]=X.useState(0),ne=X.useRef(h.duration||S||Yv),Me=X.useRef(null),He=X.useRef(null),on=v===0,Ze=v+1<=y,Ke=h.type,an=h.dismissible!==!1,lf=h.className||"",Oi=h.descriptionClassName||"",uo=X.useMemo(()=>x.findIndex(le=>le.toastId===h.id)||0,[x,h.id]),cf=X.useMemo(()=>{var le;return(le=h.closeButton)!=null?le:N},[h.closeButton,N]),Dl=X.useMemo(()=>h.duration||S||Yv,[h.duration,S]),Di=X.useRef(0),Sr=X.useRef(0),$l=X.useRef(0),Er=X.useRef(null),[uf,df]=T.split("-"),Ll=X.useMemo(()=>x.reduce((le,_e,Ce)=>Ce>=uo?le:le+_e.height,0),[x,uo]),Fl=xR(),ff=h.invert||p,$i=Ke==="loading";Sr.current=X.useMemo(()=>uo*j+Ll,[uo,Ll]),X.useEffect(()=>{ne.current=Dl},[Dl]),X.useEffect(()=>{V(!0)},[]),X.useEffect(()=>{let le=He.current;if(le){let _e=le.getBoundingClientRect().height;return sn(_e),w(Ce=>[{toastId:h.id,height:_e,position:h.position},...Ce]),()=>w(Ce=>Ce.filter(At=>At.toastId!==h.id))}},[w,h.id]),X.useLayoutEffect(()=>{if(!B)return;let le=He.current,_e=le.style.height;le.style.height="auto";let Ce=le.getBoundingClientRect().height;le.style.height=_e,sn(Ce),w(At=>At.find(Rt=>Rt.toastId===h.id)?At.map(Rt=>Rt.toastId===h.id?{...Rt,height:Ce}:Rt):[{toastId:h.id,height:Ce,position:h.position},...At])},[B,h.title,h.description,w,h.id]);let jn=X.useCallback(()=>{ee(!0),Kt(Sr.current),w(le=>le.filter(_e=>_e.toastId!==h.id)),setTimeout(()=>{P(h)},MR)},[h,P,w,Sr]);X.useEffect(()=>{if(h.promise&&Ke==="loading"||h.duration===1/0||h.type==="loading")return;let le;return E||m||z&&Fl?(()=>{if($l.current<Di.current){let _e=new Date().getTime()-Di.current;ne.current=ne.current-_e}$l.current=new Date().getTime()})():ne.current!==1/0&&(Di.current=new Date().getTime(),le=setTimeout(()=>{var _e;(_e=h.onAutoClose)==null||_e.call(h,h),jn()},ne.current)),()=>clearTimeout(le)},[E,m,h,Ke,z,Fl,jn]),X.useEffect(()=>{h.delete&&jn()},[jn,h.delete]);function zl(){var le,_e,Ce;return D!=null&&D.loading?X.createElement("div",{className:cn(C==null?void 0:C.loader,(le=h==null?void 0:h.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Ke==="loading"},D.loading):M?X.createElement("div",{className:cn(C==null?void 0:C.loader,(_e=h==null?void 0:h.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Ke==="loading"},M):X.createElement(hR,{className:cn(C==null?void 0:C.loader,(Ce=h==null?void 0:h.classNames)==null?void 0:Ce.loader),visible:Ke==="loading"})}return X.createElement("li",{tabIndex:0,ref:He,className:cn(R,lf,C==null?void 0:C.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[Ke],(n=h==null?void 0:h.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:k,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":B,"data-promise":!!h.promise,"data-swiped":Se,"data-removed":J,"data-visible":Ze,"data-y-position":uf,"data-x-position":df,"data-index":v,"data-front":on,"data-swiping":Q,"data-dismissible":an,"data-type":Ke,"data-invert":ff,"data-swipe-out":ie,"data-swipe-direction":G,"data-expanded":!!(E||A&&B),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${J?ot:Sr.current}px`,"--initial-height":A?"auto":`${Tt}px`,...I,...h.style},onDragEnd:()=>{q(!1),U(null),Er.current=null},onPointerDown:le=>{$i||!an||(Me.current=new Date,Kt(Sr.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(q(!0),Er.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,_e,Ce,At;if(ie||!an)return;Er.current=null;let Rt=Number(((le=He.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pn=Number(((_e=He.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xn=new Date().getTime()-((Ce=Me.current)==null?void 0:Ce.getTime()),Mt=H==="x"?Rt:Pn,Tn=Math.abs(Mt)/Xn;if(Math.abs(Mt)>=RR||Tn>.11){Kt(Sr.current),(At=h.onDismiss)==null||At.call(h,h),K(H==="x"?Rt>0?"right":"left":Pn>0?"down":"up"),jn(),ae(!0),ke(!1);return}q(!1),U(null)},onPointerMove:le=>{var _e,Ce,At,Rt;if(!Er.current||!an||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let Pn=le.clientY-Er.current.y,Xn=le.clientX-Er.current.x,Mt=(Ce=e.swipeDirections)!=null?Ce:IR(T);!H&&(Math.abs(Xn)>1||Math.abs(Pn)>1)&&U(Math.abs(Xn)>Math.abs(Pn)?"x":"y");let Tn={x:0,y:0};H==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&Pn<0||Mt.includes("bottom")&&Pn>0)&&(Tn.y=Pn):H==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&Xn<0||Mt.includes("right")&&Xn>0)&&(Tn.x=Xn),(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&ke(!0),(At=He.current)==null||At.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(Rt=He.current)==null||Rt.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},cf&&!h.jsx?X.createElement("button",{"aria-label":F,"data-disabled":$i,"data-close-button":!0,onClick:$i||!an?()=>{}:()=>{var le;jn(),(le=h.onDismiss)==null||le.call(h,h)},className:cn(C==null?void 0:C.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(o=D==null?void 0:D.close)!=null?o:yR):null,h.jsx||g.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:X.createElement(X.Fragment,null,Ke||h.icon||h.promise?X.createElement("div",{"data-icon":"",className:cn(C==null?void 0:C.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zl():null,h.type!=="loading"?h.icon||(D==null?void 0:D[Ke])||dR(Ke):null):null,X.createElement("div",{"data-content":"",className:cn(C==null?void 0:C.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},X.createElement("div",{"data-title":"",className:cn(C==null?void 0:C.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?X.createElement("div",{"data-description":"",className:cn($,Oi,C==null?void 0:C.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),g.isValidElement(h.cancel)?h.cancel:h.cancel&&lc(h.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:le=>{var _e,Ce;lc(h.cancel)&&an&&((Ce=(_e=h.cancel).onClick)==null||Ce.call(_e,le),jn())},className:cn(C==null?void 0:C.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,g.isValidElement(h.action)?h.action:h.action&&lc(h.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:le=>{var _e,Ce;lc(h.action)&&((Ce=(_e=h.action).onClick)==null||Ce.call(_e,le),!le.defaultPrevented&&jn())},className:cn(C==null?void 0:C.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function qv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DR(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?PR:jR;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${i}-${c}`]=a:n[`${i}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var $R=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:b=NR,toastOptions:m,dir:w=qv(),gap:y=AR,loadingIcon:x,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E}=e,[P,k]=X.useState([]),N=X.useMemo(()=>Array.from(new Set([r].concat(P.filter(z=>z.position).map(z=>z.position)))),[P,r]),[I,O]=X.useState([]),[L,R]=X.useState(!1),[$,S]=X.useState(!1),[T,j]=X.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=X.useRef(null),A=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=X.useRef(null),D=X.useRef(!1),F=X.useCallback(z=>{k(H=>{var U;return(U=H.find(G=>G.id===z.id))!=null&&U.delete||bt.dismiss(z.id),H.filter(({id:G})=>G!==z.id)})},[]);return X.useEffect(()=>bt.subscribe(z=>{if(z.dismiss){k(H=>H.map(U=>U.id===z.id?{...U,delete:!0}:U));return}setTimeout(()=>{_1.flushSync(()=>{k(H=>{let U=H.findIndex(G=>G.id===z.id);return U!==-1?[...H.slice(0,U),{...H[U],...z},...H.slice(U+1)]:[z,...H]})})})}),[]),X.useEffect(()=>{if(d!=="system"){j(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:H})=>{j(H?"dark":"light")})}catch{z.addListener(({matches:U})=>{try{j(U?"dark":"light")}catch(G){console.error(G)}})}},[d]),X.useEffect(()=>{P.length<=1&&R(!1)},[P]),X.useEffect(()=>{let z=H=>{var U,G;s.every(K=>H[K]||H.code===K)&&(R(!0),(U=M.current)==null||U.focus()),H.code==="Escape"&&(document.activeElement===M.current||(G=M.current)!=null&&G.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),X.useEffect(()=>{if(M.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,D.current=!1)}},[M.current]),X.createElement("section",{ref:t,"aria-label":`${_} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((z,H)=>{var U;let[G,K]=z.split("-");return P.length?X.createElement("ol",{key:z,dir:w==="auto"?qv():w,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":G,"data-lifted":L&&P.length>1&&!o,"data-x-position":K,style:{"--front-toast-height":`${((U=I[0])==null?void 0:U.height)||0}px`,"--width":`${TR}px`,"--gap":`${y}px`,...h,...DR(l,c)},onBlur:B=>{D.current&&!B.currentTarget.contains(B.relatedTarget)&&(D.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||D.current||(D.current=!0,C.current=B.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{$||R(!1)},onDragEnd:()=>R(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||S(!0)},onPointerUp:()=>S(!1)},P.filter(B=>!B.position&&H===0||B.position===z).map((B,V)=>{var J,ee;return X.createElement(OR,{key:B.id,icons:v,index:V,toast:B,defaultRichColors:f,duration:(J=m==null?void 0:m.duration)!=null?J:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ee=m==null?void 0:m.closeButton)!=null?ee:i,interacting:$,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:F,toasts:P.filter(Q=>Q.position==B.position),heights:I.filter(Q=>Q.position==B.position),setHeights:O,expandByDefault:o,gap:y,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const LR=({...e})=>{const{theme:t="system"}=g_();return u.jsx($R,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FR=bm[" useId ".trim().toString()]||(()=>{}),zR=0;function Un(e){const[t,n]=g.useState(FR());return st(()=>{n(r=>r??String(zR++))},[e]),t?`radix-${t}`:""}const BR=["top","right","bottom","left"],cs=Math.min,$t=Math.max,Eu=Math.round,cc=Math.floor,Hn=e=>({x:e,y:e}),UR={left:"right",right:"left",bottom:"top",top:"bottom"},HR={start:"end",end:"start"};function _p(e,t,n){return $t(e,cs(t,n))}function gr(e,t){return typeof e=="function"?e(t):e}function vr(e){return e.split("-")[0]}function ji(e){return e.split("-")[1]}function bg(e){return e==="x"?"y":"x"}function _g(e){return e==="y"?"height":"width"}function cr(e){return["top","bottom"].includes(vr(e))?"y":"x"}function Sg(e){return bg(cr(e))}function VR(e,t,n){n===void 0&&(n=!1);const r=ji(e),s=Sg(e),o=_g(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=ku(i)),[i,ku(i)]}function WR(e){const t=ku(e);return[Sp(e),t,Sp(t)]}function Sp(e){return e.replace(/start|end/g,t=>HR[t])}function GR(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function KR(e,t,n,r){const s=ji(e);let o=GR(vr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Sp)))),o}function ku(e){return e.replace(/left|right|bottom|top/g,t=>UR[t])}function YR(e){return{top:0,right:0,bottom:0,left:0,...e}}function v_(e){return typeof e!="number"?YR(e):{top:e,right:e,bottom:e,left:e}}function Cu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Xv(e,t,n){let{reference:r,floating:s}=e;const o=cr(t),i=Sg(t),a=_g(i),l=vr(t),c=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(ji(t)){case"start":h[i]-=p*(n&&c?-1:1);break;case"end":h[i]+=p*(n&&c?-1:1);break}return h}const qR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Xv(c,r,l),p=r,h={},b=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x,y:v,data:_,reset:E}=await y({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=x??d,f=v??f,h={...h,[w]:{...h[w],..._}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(c=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:f}=Xv(c,p,l)),m=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:h}};async function Fa(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=gr(t,e),b=v_(h),w=a[p?f==="floating"?"reference":"floating":f],y=Cu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},E=Cu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:v,strategy:l}):x);return{top:(y.top-E.top+b.top)/_.y,bottom:(E.bottom-y.bottom+b.bottom)/_.y,left:(y.left-E.left+b.left)/_.x,right:(E.right-y.right+b.right)/_.x}}const XR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=gr(e,t)||{};if(c==null)return{};const f=v_(d),p={x:n,y:r},h=Sg(s),b=_g(h),m=await i.getDimensions(c),w=h==="y",y=w?"top":"left",x=w?"bottom":"right",v=w?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[h]-p[h]-o.floating[b],E=p[h]-o.reference[h],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=P?P[v]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=a.floating[v]||o.floating[b]);const N=_/2-E/2,I=k/2-m[b]/2-1,O=cs(f[y],I),L=cs(f[x],I),R=O,$=k-m[b]-L,S=k/2-m[b]/2+N,T=_p(R,S,$),j=!l.arrow&&ji(s)!=null&&S!==T&&o.reference[b]/2-(S<R?O:L)-m[b]/2<0,M=j?S<R?S-R:S-$:0;return{[h]:p[h]+M,data:{[h]:T,centerOffset:S-T-M,...j&&{alignmentOffset:M}},reset:j}}}),QR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...w}=gr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=vr(s),x=cr(a),v=vr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=p||(v||!m?[ku(a)]:WR(a)),P=b!=="none";!p&&P&&E.push(...KR(a,m,b,_));const k=[a,...E],N=await Fa(t,w),I=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[y]),f){const T=VR(s,i,_);I.push(N[T[0]],N[T[1]])}if(O=[...O,{placement:s,overflows:I}],!I.every(T=>T<=0)){var L,R;const T=(((L=o.flip)==null?void 0:L.index)||0)+1,j=k[T];if(j){var $;const A=f==="alignment"?x!==cr(j):!1,C=(($=O[0])==null?void 0:$.overflows[0])>0;if(!A||C)return{data:{index:T,overflows:O},reset:{placement:j}}}let M=(R=O.filter(A=>A.overflows[0]<=0).sort((A,C)=>A.overflows[1]-C.overflows[1])[0])==null?void 0:R.placement;if(!M)switch(h){case"bestFit":{var S;const A=(S=O.filter(C=>{if(P){const D=cr(C.placement);return D===x||D==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(D=>D>0).reduce((D,F)=>D+F,0)]).sort((C,D)=>C[1]-D[1])[0])==null?void 0:S[0];A&&(M=A);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Qv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jv(e){return BR.some(t=>e[t]>=0)}const JR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=gr(e,t);switch(r){case"referenceHidden":{const o=await Fa(t,{...s,elementContext:"reference"}),i=Qv(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Jv(i)}}}case"escaped":{const o=await Fa(t,{...s,altBoundary:!0}),i=Qv(o,n.floating);return{data:{escapedOffsets:i,escaped:Jv(i)}}}default:return{}}}}};async function ZR(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=vr(n),a=ji(n),l=cr(n)==="y",c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,f=gr(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(h=a==="end"?b*-1:b),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}const eM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await ZR(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},tM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...l}=gr(e,t),c={x:n,y:r},d=await Fa(t,l),f=cr(vr(s)),p=bg(f);let h=c[p],b=c[f];if(o){const w=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=h+d[w],v=h-d[y];h=_p(x,h,v)}if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=b+d[w],v=b-d[y];b=_p(x,b,v)}const m=a.fn({...t,[p]:h,[f]:b});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:o,[f]:i}}}}}},nM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=gr(e,t),d={x:n,y:r},f=cr(s),p=bg(f);let h=d[p],b=d[f];const m=gr(a,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const v=p==="y"?"height":"width",_=o.reference[p]-o.floating[v]+w.mainAxis,E=o.reference[p]+o.reference[v]-w.mainAxis;h<_?h=_:h>E&&(h=E)}if(c){var y,x;const v=p==="y"?"width":"height",_=["top","left"].includes(vr(s)),E=o.reference[f]-o.floating[v]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:w.crossAxis),P=o.reference[f]+o.reference[v]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?w.crossAxis:0);b<E?b=E:b>P&&(b=P)}return{[p]:h,[f]:b}}}},rM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=gr(e,t),d=await Fa(t,c),f=vr(s),p=ji(s),h=cr(s)==="y",{width:b,height:m}=o.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=p==="end"?"top":"bottom");const x=m-d.top-d.bottom,v=b-d.left-d.right,_=cs(m-d[w],x),E=cs(b-d[y],v),P=!t.middlewareData.shift;let k=_,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=x),P&&!p){const O=$t(d.left,0),L=$t(d.right,0),R=$t(d.top,0),$=$t(d.bottom,0);h?N=b-2*(O!==0||L!==0?O+L:$t(d.left,d.right)):k=m-2*(R!==0||$!==0?R+$:$t(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:k});const I=await i.getDimensions(a.floating);return b!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function pd(){return typeof window<"u"}function Pi(e){return y_(e)?(e.nodeName||"").toLowerCase():"#document"}function Ut(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yn(e){var t;return(t=(y_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y_(e){return pd()?e instanceof Node||e instanceof Ut(e).Node:!1}function En(e){return pd()?e instanceof Element||e instanceof Ut(e).Element:!1}function Wn(e){return pd()?e instanceof HTMLElement||e instanceof Ut(e).HTMLElement:!1}function Zv(e){return!pd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ut(e).ShadowRoot}function wl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function sM(e){return["table","td","th"].includes(Pi(e))}function md(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Eg(e){const t=kg(),n=En(e)?kn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oM(e){let t=us(e);for(;Wn(t)&&!ui(t);){if(Eg(t))return t;if(md(t))return null;t=us(t)}return null}function kg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ui(e){return["html","body","#document"].includes(Pi(e))}function kn(e){return Ut(e).getComputedStyle(e)}function gd(e){return En(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function us(e){if(Pi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zv(e)&&e.host||Yn(e);return Zv(t)?t.host:t}function x_(e){const t=us(e);return ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(t)&&wl(t)?t:x_(t)}function za(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=x_(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ut(s);if(o){const a=Ep(i);return t.concat(i,i.visualViewport||[],wl(s)?s:[],a&&n?za(a):[])}return t.concat(s,za(s,[],n))}function Ep(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function w_(e){const t=kn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Wn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Eu(n)!==o||Eu(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Cg(e){return En(e)?e:e.contextElement}function Uo(e){const t=Cg(e);if(!Wn(t))return Hn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=w_(t);let i=(o?Eu(n.width):n.width)/r,a=(o?Eu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const iM=Hn(0);function b_(e){const t=Ut(e);return!kg()||!t.visualViewport?iM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ut(e)?!1:t}function Ys(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Cg(e);let i=Hn(1);t&&(r?En(r)&&(i=Uo(r)):i=Uo(e));const a=aM(o,n,r)?b_(o):Hn(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Ut(o),h=r&&En(r)?Ut(r):r;let b=p,m=Ep(b);for(;m&&r&&h!==b;){const w=Uo(m),y=m.getBoundingClientRect(),x=kn(m),v=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,_=y.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=v,c+=_,b=Ut(m),m=Ep(b)}}return Cu({width:d,height:f,x:l,y:c})}function Ng(e,t){const n=gd(e).scrollLeft;return t?t.left+n:Ys(Yn(e)).left+n}function __(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ng(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function lM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Yn(r),a=t?md(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Hn(1);const d=Hn(0),f=Wn(r);if((f||!f&&!o)&&((Pi(r)!=="body"||wl(i))&&(l=gd(r)),Wn(r))){const h=Ys(r);c=Uo(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=i&&!f&&!o?__(i,l,!0):Hn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function cM(e){return Array.from(e.getClientRects())}function uM(e){const t=Yn(e),n=gd(e),r=e.ownerDocument.body,s=$t(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=$t(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ng(e);const a=-n.scrollTop;return kn(r).direction==="rtl"&&(i+=$t(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function dM(e,t){const n=Ut(e),r=Yn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=kg();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function fM(e,t){const n=Ys(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Wn(e)?Uo(e):Hn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function ey(e,t,n){let r;if(t==="viewport")r=dM(e,n);else if(t==="document")r=uM(Yn(e));else if(En(t))r=fM(t,n);else{const s=b_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Cu(r)}function S_(e,t){const n=us(e);return n===t||!En(n)||ui(n)?!1:kn(n).position==="fixed"||S_(n,t)}function hM(e,t){const n=t.get(e);if(n)return n;let r=za(e,[],!1).filter(a=>En(a)&&Pi(a)!=="body"),s=null;const o=kn(e).position==="fixed";let i=o?us(e):e;for(;En(i)&&!ui(i);){const a=kn(i),l=Eg(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||wl(i)&&!l&&S_(e,i))?r=r.filter(d=>d!==i):s=a,i=us(i)}return t.set(e,r),r}function pM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?md(t)?[]:hM(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const f=ey(t,d,s);return c.top=$t(f.top,c.top),c.right=cs(f.right,c.right),c.bottom=cs(f.bottom,c.bottom),c.left=$t(f.left,c.left),c},ey(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mM(e){const{width:t,height:n}=w_(e);return{width:t,height:n}}function gM(e,t,n){const r=Wn(t),s=Yn(t),o=n==="fixed",i=Ys(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Hn(0);function c(){l.x=Ng(s)}if(r||!r&&!o)if((Pi(t)!=="body"||wl(s))&&(a=gd(t)),r){const h=Ys(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&c();o&&!r&&s&&c();const d=s&&!r&&!o?__(s,a):Hn(0),f=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function Gf(e){return kn(e).position==="static"}function ty(e,t){if(!Wn(e)||kn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Yn(e)===n&&(n=n.ownerDocument.body),n}function E_(e,t){const n=Ut(e);if(md(e))return n;if(!Wn(e)){let s=us(e);for(;s&&!ui(s);){if(En(s)&&!Gf(s))return s;s=us(s)}return n}let r=ty(e,t);for(;r&&sM(r)&&Gf(r);)r=ty(r,t);return r&&ui(r)&&Gf(r)&&!Eg(r)?n:r||oM(e)||n}const vM=async function(e){const t=this.getOffsetParent||E_,n=this.getDimensions,r=await n(e.floating);return{reference:gM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yM(e){return kn(e).direction==="rtl"}const xM={convertOffsetParentRelativeRectToViewportRelativeRect:lM,getDocumentElement:Yn,getClippingRect:pM,getOffsetParent:E_,getElementRects:vM,getClientRects:cM,getDimensions:mM,getScale:Uo,isElement:En,isRTL:yM};function k_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wM(e,t){let n=null,r;const s=Yn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=c;if(a||t(),!p||!h)return;const b=cc(f),m=cc(s.clientWidth-(d+p)),w=cc(s.clientHeight-(f+h)),y=cc(d),v={rootMargin:-b+"px "+-m+"px "+-w+"px "+-y+"px",threshold:$t(0,cs(1,l))||1};let _=!0;function E(P){const k=P[0].intersectionRatio;if(k!==l){if(!_)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!k_(c,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(E,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return i(!0),o}function bM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Cg(e),d=s||o?[...c?za(c):[],...za(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&a?wM(c,n):null;let p=-1,h=null;i&&(h=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let b,m=l?Ys(e):null;l&&w();function w(){const y=Ys(e);m&&!k_(m,y)&&n(),m=y,b=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(b)}}const _M=eM,SM=tM,EM=QR,kM=rM,CM=JR,ny=XR,NM=nM,jM=(e,t,n)=>{const r=new Map,s={platform:xM,...n},o={...s.platform,_c:r};return qR(e,t,{...s,platform:o})};var Vc=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Nu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Nu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Nu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function C_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ry(e,t){const n=C_(e);return Math.round(t*n)/n}function Kf(e){const t=g.useRef(e);return Vc(()=>{t.current=e}),t}function PM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=g.useState(r);Nu(p,r)||h(r);const[b,m]=g.useState(null),[w,y]=g.useState(null),x=g.useCallback(A=>{A!==P.current&&(P.current=A,m(A))},[]),v=g.useCallback(A=>{A!==k.current&&(k.current=A,y(A))},[]),_=o||b,E=i||w,P=g.useRef(null),k=g.useRef(null),N=g.useRef(d),I=l!=null,O=Kf(l),L=Kf(s),R=Kf(c),$=g.useCallback(()=>{if(!P.current||!k.current)return;const A={placement:t,strategy:n,middleware:p};L.current&&(A.platform=L.current),jM(P.current,k.current,A).then(C=>{const D={...C,isPositioned:R.current!==!1};S.current&&!Nu(N.current,D)&&(N.current=D,ro.flushSync(()=>{f(D)}))})},[p,t,n,L,R]);Vc(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[c]);const S=g.useRef(!1);Vc(()=>(S.current=!0,()=>{S.current=!1}),[]),Vc(()=>{if(_&&(P.current=_),E&&(k.current=E),_&&E){if(O.current)return O.current(_,E,$);$()}},[_,E,$,O,I]);const T=g.useMemo(()=>({reference:P,floating:k,setReference:x,setFloating:v}),[x,v]),j=g.useMemo(()=>({reference:_,floating:E}),[_,E]),M=g.useMemo(()=>{const A={position:n,left:0,top:0};if(!j.floating)return A;const C=ry(j.floating,d.x),D=ry(j.floating,d.y);return a?{...A,transform:"translate("+C+"px, "+D+"px)",...C_(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:D}},[n,a,j.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:$,refs:T,elements:j,floatingStyles:M}),[d,$,T,j,M])}const TM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ny({element:r.current,padding:s}).fn(n):{}:r?ny({element:r,padding:s}).fn(n):{}}}},AM=(e,t)=>({..._M(e),options:[e,t]}),RM=(e,t)=>({...SM(e),options:[e,t]}),MM=(e,t)=>({...NM(e),options:[e,t]}),IM=(e,t)=>({...EM(e),options:[e,t]}),OM=(e,t)=>({...kM(e),options:[e,t]}),DM=(e,t)=>({...CM(e),options:[e,t]}),$M=(e,t)=>({...TM(e),options:[e,t]});var LM="Arrow",N_=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return u.jsx(ue.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});N_.displayName=LM;var FM=N_;function zM(e){const[t,n]=g.useState(void 0);return st(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jg="Popper",[j_,Ti]=br(jg),[BM,P_]=j_(jg),T_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return u.jsx(BM,{scope:t,anchor:r,onAnchorChange:s,children:n})};T_.displayName=jg;var A_="PopperAnchor",R_=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=P_(A_,n),i=g.useRef(null),a=be(t,i);return g.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(ue.div,{...s,ref:a})});R_.displayName=A_;var Pg="PopperContent",[UM,HM]=j_(Pg),M_=g.forwardRef((e,t)=>{var B,V,J,ee,Q,q;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:b,...m}=e,w=P_(Pg,n),[y,x]=g.useState(null),v=be(t,ie=>x(ie)),[_,E]=g.useState(null),P=zM(_),k=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,I=r+(o!=="center"?"-"+o:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],R=L.length>0,$={padding:O,boundary:L.filter(WM),altBoundary:R},{refs:S,floatingStyles:T,placement:j,isPositioned:M,middlewareData:A}=PM({strategy:"fixed",placement:I,whileElementsMounted:(...ie)=>bM(...ie,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[AM({mainAxis:s+N,alignmentAxis:i}),l&&RM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MM():void 0,...$}),l&&IM({...$}),OM({...$,apply:({elements:ie,rects:ae,availableWidth:Se,availableHeight:ke})=>{const{width:ot,height:Kt}=ae.reference,Tt=ie.floating.style;Tt.setProperty("--radix-popper-available-width",`${Se}px`),Tt.setProperty("--radix-popper-available-height",`${ke}px`),Tt.setProperty("--radix-popper-anchor-width",`${ot}px`),Tt.setProperty("--radix-popper-anchor-height",`${Kt}px`)}}),_&&$M({element:_,padding:a}),GM({arrowWidth:k,arrowHeight:N}),p&&DM({strategy:"referenceHidden",...$})]}),[C,D]=D_(j),F=Pt(b);st(()=>{M&&(F==null||F())},[M,F]);const z=(B=A.arrow)==null?void 0:B.x,H=(V=A.arrow)==null?void 0:V.y,U=((J=A.arrow)==null?void 0:J.centerOffset)!==0,[G,K]=g.useState();return st(()=>{y&&K(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:M?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(ee=A.transformOrigin)==null?void 0:ee.x,(Q=A.transformOrigin)==null?void 0:Q.y].join(" "),...((q=A.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(UM,{scope:n,placedSide:C,onArrowChange:E,arrowX:z,arrowY:H,shouldHideArrow:U,children:u.jsx(ue.div,{"data-side":C,"data-align":D,...m,ref:v,style:{...m.style,animation:M?void 0:"none"}})})})});M_.displayName=Pg;var I_="PopperArrow",VM={top:"bottom",right:"left",bottom:"top",left:"right"},O_=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=HM(I_,r),i=VM[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(FM,{...s,ref:n,style:{...s.style,display:"block"}})})});O_.displayName=I_;function WM(e){return e!==null}var GM=e=>({name:"transformOrigin",options:e,fn(t){var w,y,x;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=D_(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,h=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let b="",m="";return c==="bottom"?(b=i?f:`${p}px`,m=`${-l}px`):c==="top"?(b=i?f:`${p}px`,m=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,m=i?f:`${h}px`):c==="left"&&(b=`${r.floating.width+l}px`,m=i?f:`${h}px`),{data:{x:b,y:m}}}});function D_(e){const[t,n="center"]=e.split("-");return[t,n]}var Tg=T_,Ag=R_,Rg=M_,Mg=O_,[vd,Q9]=br("Tooltip",[Ti]),yd=Ti(),$_="TooltipProvider",KM=700,kp="tooltip.open",[YM,Ig]=vd($_),L_=e=>{const{__scopeTooltip:t,delayDuration:n=KM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(YM,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};L_.displayName=$_;var Ba="Tooltip",[qM,xd]=vd(Ba),F_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Ig(Ba,e.__scopeTooltip),c=yd(t),[d,f]=g.useState(null),p=Un(),h=g.useRef(0),b=i??l.disableHoverableContent,m=a??l.delayDuration,w=g.useRef(!1),[y,x]=Gs({prop:r,defaultProp:s??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(kp))):l.onClose(),o==null||o(k)},caller:Ba}),v=g.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),_=g.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w.current=!1,x(!0)},[x]),E=g.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),P=g.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{w.current=!0,x(!0),h.current=0},m)},[m,x]);return g.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),u.jsx(Tg,{...c,children:u.jsx(qM,{scope:t,contentId:p,open:y,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?P():_()},[l.isOpenDelayedRef,P,_]),onTriggerLeave:g.useCallback(()=>{b?E():(window.clearTimeout(h.current),h.current=0)},[E,b]),onOpen:_,onClose:E,disableHoverableContent:b,children:n})})};F_.displayName=Ba;var Cp="TooltipTrigger",z_=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=xd(Cp,n),o=Ig(Cp,n),i=yd(n),a=g.useRef(null),l=be(t,a,s.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Ag,{asChild:!0,...i,children:u.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});z_.displayName=Cp;var XM="TooltipPortal",[J9,QM]=vd(XM,{forceMount:void 0}),di="TooltipContent",B_=g.forwardRef((e,t)=>{const n=QM(di,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=xd(di,e.__scopeTooltip);return u.jsx(Kn,{present:r||i.open,children:i.disableHoverableContent?u.jsx(U_,{side:s,...o,ref:t}):u.jsx(JM,{side:s,...o,ref:t})})}),JM=g.forwardRef((e,t)=>{const n=xd(di,e.__scopeTooltip),r=Ig(di,e.__scopeTooltip),s=g.useRef(null),o=be(t,s),[i,a]=g.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{a(null),f(!1)},[f]),h=g.useCallback((b,m)=>{const w=b.currentTarget,y={x:b.clientX,y:b.clientY},x=rI(y,w.getBoundingClientRect()),v=sI(y,x),_=oI(m.getBoundingClientRect()),E=aI([...v,..._]);a(E),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const b=w=>h(w,d),m=w=>h(w,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",m)}}},[l,d,h,p]),g.useEffect(()=>{if(i){const b=m=>{const w=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),v=!iI(y,i);x?p():v&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,i,c,p]),u.jsx(U_,{...e,ref:o})}),[ZM,eI]=vd(Ba,{isInside:!1}),tI=pT("TooltipContent"),U_=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=xd(di,n),c=yd(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(kp,d),()=>document.removeEventListener(kp,d)),[d]),g.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Rg,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(tI,{children:r}),u.jsx(ZM,{scope:n,isInside:!0,children:u.jsx(DT,{id:l.contentId,role:"tooltip",children:s||r})})]})})});B_.displayName=di;var H_="TooltipArrow",nI=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=yd(n);return eI(H_,n).isInside?null:u.jsx(Mg,{...s,...r,ref:t})});nI.displayName=H_;function rI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function oI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function iI(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function aI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lI(t)}function lI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cI=L_,uI=F_,dI=z_,V_=B_;const fI=cI,qr=uI,Xr=dI,ir=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(V_,{ref:r,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ir.displayName=V_.displayName;var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bd=typeof window>"u"||"Deno"in globalThis;function fn(){}function hI(e,t){return typeof e=="function"?e(t):e}function pI(e){return typeof e=="number"&&e>=0&&e!==1/0}function mI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sy(e,t){return typeof e=="function"?e(t):e}function gI(e,t){return typeof e=="function"?e(t):e}function oy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Og(i,t.options))return!1}else if(!Ha(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function iy(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ua(t.options.mutationKey)!==Ua(o))return!1}else if(!Ha(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Og(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ua)(e)}function Ua(e){return JSON.stringify(e,(t,n)=>Np(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ha(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ha(e[n],t[n])):!1}function W_(e,t){if(e===t)return e;const n=ay(e)&&ay(t);if(n||Np(e)&&Np(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=W_(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===i&&l===s?e:a}return t}function ay(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Np(e){if(!ly(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ly(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ly(e){return Object.prototype.toString.call(e)==="[object Object]"}function vI(e){return new Promise(t=>{setTimeout(t,e)})}function yI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?W_(e,t):t}function xI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Dg=Symbol();function G_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ps,Ur,Yo,nw,bI=(nw=class extends wd{constructor(){super();we(this,Ps);we(this,Ur);we(this,Yo);ce(this,Yo,t=>{if(!bd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Ur)||this.setEventListener(W(this,Yo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ur))==null||t.call(this),ce(this,Ur,void 0))}setEventListener(t){var n;ce(this,Yo,t),(n=W(this,Ur))==null||n.call(this),ce(this,Ur,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,Ps)!==t&&(ce(this,Ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,Ps)=="boolean"?W(this,Ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ps=new WeakMap,Ur=new WeakMap,Yo=new WeakMap,nw),K_=new bI,qo,Hr,Xo,rw,_I=(rw=class extends wd{constructor(){super();we(this,qo,!0);we(this,Hr);we(this,Xo);ce(this,Xo,t=>{if(!bd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Hr)||this.setEventListener(W(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Hr))==null||t.call(this),ce(this,Hr,void 0))}setEventListener(t){var n;ce(this,Xo,t),(n=W(this,Hr))==null||n.call(this),ce(this,Hr,t(this.setOnline.bind(this)))}setOnline(t){W(this,qo)!==t&&(ce(this,qo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,qo)}},qo=new WeakMap,Hr=new WeakMap,Xo=new WeakMap,rw),ju=new _I;function SI(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function EI(e){return Math.min(1e3*2**e,3e4)}function Y_(e){return(e??"online")==="online"?ju.isOnline():!0}var q_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yf(e){return e instanceof q_}function X_(e){let t=!1,n=0,r=!1,s;const o=SI(),i=m=>{var w;r||(p(new q_(m)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>K_.isFocused()&&(e.networkMode==="always"||ju.isOnline())&&e.canRun(),d=()=>Y_(e.networkMode)&&e.canRun(),f=m=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,m),s==null||s(),o.resolve(m))},p=m=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,m),s==null||s(),o.reject(m))},h=()=>new Promise(m=>{var w;s=y=>{(r||c())&&m(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),b=()=>{if(r)return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var P;if(r)return;const x=e.retry??(bd?0:3),v=e.retryDelay??EI,_=typeof v=="function"?v(n,y):v,E=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!E){p(y);return}n++,(P=e.onFail)==null||P.call(e,n,y),vI(_).then(()=>c()?void 0:h()).then(()=>{t?p(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():h().then(b),o)}}var kI=e=>setTimeout(e,0);function CI(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=kI;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var mt=CI(),Ts,sw,Q_=(sw=class{constructor(){we(this,Ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pI(this.gcTime)&&ce(this,Ts,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bd?1/0:5*60*1e3))}clearGcTimeout(){W(this,Ts)&&(clearTimeout(W(this,Ts)),ce(this,Ts,void 0))}},Ts=new WeakMap,sw),Qo,Jo,Yt,As,ut,cl,Rs,hn,Zn,ow,NI=(ow=class extends Q_{constructor(t){super();we(this,hn);we(this,Qo);we(this,Jo);we(this,Yt);we(this,As);we(this,ut);we(this,cl);we(this,Rs);ce(this,Rs,!1),ce(this,cl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,As,t.client),ce(this,Yt,W(this,As).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Qo,PI(this.options)),this.state=t.state??W(this,Qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,ut))==null?void 0:t.promise}setOptions(t){this.options={...W(this,cl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Yt).remove(this)}setData(t,n){const r=yI(this.state.data,t,this.options);return it(this,hn,Zn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){it(this,hn,Zn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=W(this,ut))==null?void 0:r.promise;return(s=W(this,ut))==null||s.cancel(t),n?n.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Qo))}isActive(){return this.observers.some(t=>gI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Yt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,ut)&&(W(this,Rs)?W(this,ut).cancel({revert:!0}):W(this,ut).cancelRetry()),this.scheduleGc()),W(this,Yt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,hn,Zn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,ut))return W(this,ut).continueRetry(),W(this,ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ce(this,Rs,!0),r.signal)})},o=()=>{const f=G_(this.options,n),p={client:W(this,As),queryKey:this.queryKey,meta:this.meta};return s(p),ce(this,Rs,!1),this.options.persister?this.options.persister(f,p,this):f(p)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,As),state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),ce(this,Jo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&it(this,hn,Zn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var p,h,b,m;Yf(f)&&f.silent||it(this,hn,Zn).call(this,{type:"error",error:f}),Yf(f)||((h=(p=W(this,Yt).config).onError)==null||h.call(p,f,this),(m=(b=W(this,Yt).config).onSettled)==null||m.call(b,this.state.data,f,this)),this.scheduleGc()};return ce(this,ut,X_({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,h,b,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(h=(p=W(this,Yt).config).onSuccess)==null||h.call(p,f,this),(m=(b=W(this,Yt).config).onSettled)==null||m.call(b,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{it(this,hn,Zn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{it(this,hn,Zn).call(this,{type:"pause"})},onContinue:()=>{it(this,hn,Zn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),W(this,ut).start()}},Qo=new WeakMap,Jo=new WeakMap,Yt=new WeakMap,As=new WeakMap,ut=new WeakMap,cl=new WeakMap,Rs=new WeakMap,hn=new WeakSet,Zn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Yf(s)&&s.revert&&W(this,Jo)?{...W(this,Jo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Yt).notify({query:this,type:"updated",action:t})})},ow);function jI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function PI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var In,iw,TI=(iw=class extends wd{constructor(t={}){super();we(this,In);this.config=t,ce(this,In,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Og(s,n);let i=this.get(o);return i||(i=new NI({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){W(this,In).has(t.queryHash)||(W(this,In).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,In).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,In).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,In).get(t)}getAll(){return[...W(this,In).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>oy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>oy(t,r)):n}notify(t){mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},In=new WeakMap,iw),On,ht,Ms,Dn,Tr,aw,AI=(aw=class extends Q_{constructor(t){super();we(this,Dn);we(this,On);we(this,ht);we(this,Ms);this.mutationId=t.mutationId,ce(this,ht,t.mutationCache),ce(this,On,[]),this.state=t.state||RI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,On).includes(t)||(W(this,On).push(t),this.clearGcTimeout(),W(this,ht).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,On,W(this,On).filter(n=>n!==t)),this.scheduleGc(),W(this,ht).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,On).length||(this.state.status==="pending"?this.scheduleGc():W(this,ht).remove(this))}continue(){var t;return((t=W(this,Ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,d,f,p,h,b,m,w,y,x,v,_,E,P,k,N;const n=()=>{it(this,Dn,Tr).call(this,{type:"continue"})};ce(this,Ms,X_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{it(this,Dn,Tr).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{it(this,Dn,Tr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,ht).canRun(this)}));const r=this.state.status==="pending",s=!W(this,Ms).canStart();try{if(r)n();else{it(this,Dn,Tr).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=W(this,ht).config).onMutate)==null?void 0:i.call(o,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&it(this,Dn,Tr).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const I=await W(this,Ms).start();return await((d=(c=W(this,ht).config).onSuccess)==null?void 0:d.call(c,I,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,t,this.state.context)),await((b=(h=W(this,ht).config).onSettled)==null?void 0:b.call(h,I,null,this.state.variables,this.state.context,this)),await((w=(m=this.options).onSettled)==null?void 0:w.call(m,I,null,t,this.state.context)),it(this,Dn,Tr).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(y=W(this,ht).config).onError)==null?void 0:x.call(y,I,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,I,t,this.state.context)),await((P=(E=W(this,ht).config).onSettled)==null?void 0:P.call(E,void 0,I,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,I,t,this.state.context)),I}finally{it(this,Dn,Tr).call(this,{type:"error",error:I})}}finally{W(this,ht).runNext(this)}}},On=new WeakMap,ht=new WeakMap,Ms=new WeakMap,Dn=new WeakSet,Tr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{W(this,On).forEach(r=>{r.onMutationUpdate(t)}),W(this,ht).notify({mutation:this,type:"updated",action:t})})},aw);function RI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rr,pn,ul,lw,MI=(lw=class extends wd{constructor(t={}){super();we(this,rr);we(this,pn);we(this,ul);this.config=t,ce(this,rr,new Set),ce(this,pn,new Map),ce(this,ul,0)}build(t,n,r){const s=new AI({mutationCache:this,mutationId:++Ul(this,ul)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){W(this,rr).add(t);const n=uc(t);if(typeof n=="string"){const r=W(this,pn).get(n);r?r.push(t):W(this,pn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,rr).delete(t)){const n=uc(t);if(typeof n=="string"){const r=W(this,pn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&W(this,pn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=uc(t);if(typeof n=="string"){const r=W(this,pn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=uc(t);if(typeof n=="string"){const s=(r=W(this,pn).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mt.batch(()=>{W(this,rr).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,rr).clear(),W(this,pn).clear()})}getAll(){return Array.from(W(this,rr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iy(n,r))}findAll(t={}){return this.getAll().filter(n=>iy(t,n))}notify(t){mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(t.map(n=>n.continue().catch(fn))))}},rr=new WeakMap,pn=new WeakMap,ul=new WeakMap,lw);function uc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function cy(e){return{onFetch:(t,n)=>{var d,f,p,h,b;const r=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=G_(t.options,t.fetchOptions),x=async(v,_,E)=>{if(m)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:E?"backward":"forward",meta:t.options.meta};w(P);const k=await y(P),{maxPages:N}=t.options,I=E?wI:xI;return{pages:I(v.pages,k,N),pageParams:I(v.pageParams,_,N)}};if(s&&o.length){const v=s==="backward",_=v?II:uy,E={pages:o,pageParams:i},P=_(r,E);a=await x(E,P,v)}else{const v=e??o.length;do{const _=l===0?i[0]??r.initialPageParam:uy(r,a);if(l>0&&_==null)break;a=await x(a,_),l++}while(l<v)}return a};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function uy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function II(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Fe,Vr,Wr,Zo,ei,Gr,ti,ni,cw,OI=(cw=class{constructor(e={}){we(this,Fe);we(this,Vr);we(this,Wr);we(this,Zo);we(this,ei);we(this,Gr);we(this,ti);we(this,ni);ce(this,Fe,e.queryCache||new TI),ce(this,Vr,e.mutationCache||new MI),ce(this,Wr,e.defaultOptions||{}),ce(this,Zo,new Map),ce(this,ei,new Map),ce(this,Gr,0)}mount(){Ul(this,Gr)._++,W(this,Gr)===1&&(ce(this,ti,K_.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Fe).onFocus())})),ce(this,ni,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Fe).onOnline())})))}unmount(){var e,t;Ul(this,Gr)._--,W(this,Gr)===0&&((e=W(this,ti))==null||e.call(this),ce(this,ti,void 0),(t=W(this,ni))==null||t.call(this),ce(this,ni,void 0))}isFetching(e){return W(this,Fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Vr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,Fe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=W(this,Fe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(sy(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return W(this,Fe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=W(this,Fe).get(r.queryHash),o=s==null?void 0:s.state.data,i=hI(t,o);if(i!==void 0)return W(this,Fe).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return mt.batch(()=>W(this,Fe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,Fe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,Fe);mt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,Fe);return mt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=mt.batch(()=>W(this,Fe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(fn).catch(fn)}invalidateQueries(e,t={}){return mt.batch(()=>(W(this,Fe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=mt.batch(()=>W(this,Fe).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(fn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(fn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,Fe).build(this,t);return n.isStaleByTime(sy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fn).catch(fn)}fetchInfiniteQuery(e){return e.behavior=cy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fn).catch(fn)}ensureInfiniteQueryData(e){return e.behavior=cy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ju.isOnline()?W(this,Vr).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Fe)}getMutationCache(){return W(this,Vr)}getDefaultOptions(){return W(this,Wr)}setDefaultOptions(e){ce(this,Wr,e)}setQueryDefaults(e,t){W(this,Zo).set(Ua(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Zo).values()],n={};return t.forEach(r=>{Ha(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){W(this,ei).set(Ua(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,ei).values()],n={};return t.forEach(r=>{Ha(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Wr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Og(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Wr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,Fe).clear(),W(this,Vr).clear()}},Fe=new WeakMap,Vr=new WeakMap,Wr=new WeakMap,Zo=new WeakMap,ei=new WeakMap,Gr=new WeakMap,ti=new WeakMap,ni=new WeakMap,cw),DI=g.createContext(void 0),$I=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(DI.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(this,arguments)}var Qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qr||(Qr={}));const dy="popstate";function LI(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:a="",hash:l=""}=so(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),jp("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:Pu(o))}function r(s,o){$g(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return zI(t,n,r,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $g(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FI(){return Math.random().toString(36).substr(2,8)}function fy(e,t){return{usr:e.state,key:e.key,idx:t}}function jp(e,t,n,r){return n===void 0&&(n=null),Va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?so(t):t,{state:n,key:t&&t.key||r||FI()})}function Pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function so(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Qr.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(Va({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Qr.Pop;let w=d(),y=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:y})}function p(w,y){a=Qr.Push;let x=jp(m.location,w,y);n&&n(x,w),c=d()+1;let v=fy(x,c),_=m.createHref(x);try{i.pushState(v,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}o&&l&&l({action:a,location:m.location,delta:1})}function h(w,y){a=Qr.Replace;let x=jp(m.location,w,y);n&&n(x,w),c=d();let v=fy(x,c),_=m.createHref(x);i.replaceState(v,"",_),o&&l&&l({action:a,location:m.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Pu(w);return x=x.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return a},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(dy,f),l=w,()=>{s.removeEventListener(dy,f),l=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(w){return i.go(w)}};return m}var hy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hy||(hy={}));function BI(e,t,n){return n===void 0&&(n="/"),UI(e,t,n)}function UI(e,t,n,r){let s=typeof t=="string"?so(t):t,o=Lg(s.pathname||"/",n);if(o==null)return null;let i=J_(e);HI(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=tO(o);a=JI(i[l],c)}return a}function J_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=is([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(We(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),J_(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:XI(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of Z_(o.path))s(o,i,l)}),t}function Z_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Z_(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function HI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VI=/^:[\w-]+$/,WI=3,GI=2,KI=1,YI=10,qI=-2,py=e=>e==="*";function XI(e,t){let n=e.split("/"),r=n.length;return n.some(py)&&(r+=qI),t&&(r+=GI),n.filter(s=>!py(s)).reduce((s,o)=>s+(VI.test(o)?WI:o===""?KI:YI),r)}function QI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function JI(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ZI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:is([o,f.pathname]),pathnameBase:oO(is([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=is([o,f.pathnameBase]))}return i}function ZI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eO(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let m=a[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const b=a[f];return h&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function eO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$g(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function tO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nO(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?so(e):e;return{pathname:n?n.startsWith("/")?n:rO(n,t):t,search:iO(r),hash:aO(s)}}function rO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function eS(e,t){let n=sO(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tS(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=so(e):(s=Va({},e),We(!s.pathname||!s.pathname.includes("?"),qf("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),qf("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),qf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=nO(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const is=e=>e.join("/").replace(/\/\/+/g,"/"),oO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nS=["post","put","patch","delete"];new Set(nS);const cO=["get",...nS];new Set(cO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa.apply(this,arguments)}const Fg=g.createContext(null),uO=g.createContext(null),oo=g.createContext(null),_d=g.createContext(null),io=g.createContext({outlet:null,matches:[],isDataRoute:!1}),rS=g.createContext(null);function dO(e,t){let{relative:n}=t===void 0?{}:t;bl()||We(!1);let{basename:r,navigator:s}=g.useContext(oo),{hash:o,pathname:i,search:a}=oS(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:is([r,i])),s.createHref({pathname:l,search:a,hash:o})}function bl(){return g.useContext(_d)!=null}function _l(){return bl()||We(!1),g.useContext(_d).location}function sS(e){g.useContext(oo).static||g.useLayoutEffect(e)}function fO(){let{isDataRoute:e}=g.useContext(io);return e?kO():hO()}function hO(){bl()||We(!1);let e=g.useContext(Fg),{basename:t,future:n,navigator:r}=g.useContext(oo),{matches:s}=g.useContext(io),{pathname:o}=_l(),i=JSON.stringify(eS(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return sS(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=tS(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:is([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function oS(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(oo),{matches:s}=g.useContext(io),{pathname:o}=_l(),i=JSON.stringify(eS(s,r.v7_relativeSplatPath));return g.useMemo(()=>tS(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function pO(e,t){return mO(e,t)}function mO(e,t,n,r){bl()||We(!1);let{navigator:s}=g.useContext(oo),{matches:o}=g.useContext(io),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=_l(),d;if(t){var f;let w=typeof t=="string"?so(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||We(!1),d=w}else d=c;let p=d.pathname||"/",h=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=BI(e,{pathname:h}),m=wO(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:is([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:is([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&m?g.createElement(_d.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qr.Pop}},m):m}function gO(){let e=EO(),t=lO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const vO=g.createElement(gO,null);class yO extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(io.Provider,{value:this.props.routeContext},g.createElement(rS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xO(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(Fg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(io.Provider,{value:t},r)}function wO(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||We(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:h}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let h,b=!1,m=null,w=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||vO,l&&(c<0&&p===0?(CO("route-fallback"),b=!0,w=null):c===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),x=()=>{let v;return h?v=m:b?v=w:f.route.Component?v=g.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,g.createElement(xO,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement(yO,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var iS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iS||{}),aS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aS||{});function bO(e){let t=g.useContext(Fg);return t||We(!1),t}function _O(e){let t=g.useContext(uO);return t||We(!1),t}function SO(e){let t=g.useContext(io);return t||We(!1),t}function lS(e){let t=SO(),n=t.matches[t.matches.length-1];return n.route.id||We(!1),n.route.id}function EO(){var e;let t=g.useContext(rS),n=_O(),r=lS();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function kO(){let{router:e}=bO(iS.UseNavigateStable),t=lS(aS.UseNavigateStable),n=g.useRef(!1);return sS(()=>{n.current=!0}),g.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wa({fromRouteId:t},o)))},[e,t])}const my={};function CO(e,t,n){my[e]||(my[e]=!0)}function NO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ta(e){We(!1)}function jO(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Qr.Pop,navigator:o,static:i=!1,future:a}=e;bl()&&We(!1);let l=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:o,static:i,future:Wa({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=so(r));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:b="default"}=r,m=g.useMemo(()=>{let w=Lg(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:h,key:b},navigationType:s}},[l,d,f,p,h,b,s]);return m==null?null:g.createElement(oo.Provider,{value:c},g.createElement(_d.Provider,{children:n,value:m}))}function PO(e){let{children:t,location:n}=e;return pO(Pp(t),n)}new Promise(()=>{});function Pp(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let o=[...t,s];if(r.type===g.Fragment){n.push.apply(n,Pp(r.props.children,o));return}r.type!==ta&&We(!1),!r.props.index||!r.props.children||We(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Pp(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tp.apply(this,arguments)}function TO(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function AO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RO(e,t){return e.button===0&&(!t||t==="_self")&&!AO(e)}const MO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IO="6";try{window.__reactRouterVersion=IO}catch{}const OO="startTransition",gy=bm[OO];function DO(e){let{basename:t,children:n,future:r,window:s}=e,o=g.useRef();o.current==null&&(o.current=LI({window:s,v5Compat:!0}));let i=o.current,[a,l]=g.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=g.useCallback(f=>{c&&gy?gy(()=>l(f)):l(f)},[l,c]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.useEffect(()=>NO(r),[r]),g.createElement(jO,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const $O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,p=TO(t,MO),{basename:h}=g.useContext(oo),b,m=!1;if(typeof c=="string"&&LO.test(c)&&(b=c,$O))try{let v=new URL(window.location.href),_=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=Lg(_.pathname,h);_.origin===v.origin&&E!=null?c=E+_.search+_.hash:m=!0}catch{}let w=dO(c,{relative:s}),y=FO(c,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function x(v){r&&r(v),v.defaultPrevented||y(v)}return g.createElement("a",Tp({},p,{href:b||w,onClick:m||o?r:x,ref:n,target:l}))});var vy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vy||(vy={}));var yy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yy||(yy={}));function FO(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=fO(),c=_l(),d=oS(e,{relative:i});return g.useCallback(f=>{if(RO(f,n)){f.preventDefault();let p=r!==void 0?r:Pu(c)===Pu(d);l(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,d,r,s,n,e,o,i,a])}const zO=yl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?fT:"button";return u.jsx(i,{className:oe(zO({variant:t,size:n,className:e})),ref:o,...s})});he.displayName="Button";function yr(e){return Array.isArray?Array.isArray(e):dS(e)==="[object Array]"}function BO(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function UO(e){return e==null?"":BO(e)}function Fn(e){return typeof e=="string"}function cS(e){return typeof e=="number"}function HO(e){return e===!0||e===!1||VO(e)&&dS(e)=="[object Boolean]"}function uS(e){return typeof e=="object"}function VO(e){return uS(e)&&e!==null}function Lt(e){return e!=null}function Xf(e){return!e.trim().length}function dS(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const WO="Incorrect 'index' type",GO=e=>`Invalid value for key ${e}`,KO=e=>`Pattern length exceeds max of ${e}.`,YO=e=>`Missing ${e} property in key`,qO=e=>`Property 'weight' in key '${e}' must be a positive integer`,xy=Object.prototype.hasOwnProperty;class XO{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=fS(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function fS(e){let t=null,n=null,r=null,s=1,o=null;if(Fn(e)||yr(e))r=e,t=wy(e),n=Ap(e);else{if(!xy.call(e,"name"))throw new Error(YO("name"));const i=e.name;if(r=i,xy.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(qO(i));t=wy(i),n=Ap(i),o=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:o}}function wy(e){return yr(e)?e:e.split(".")}function Ap(e){return yr(e)?e.join("."):e}function QO(e,t){let n=[],r=!1;const s=(o,i,a)=>{if(Lt(o))if(!i[a])n.push(o);else{let l=i[a];const c=o[l];if(!Lt(c))return;if(a===i.length-1&&(Fn(c)||cS(c)||HO(c)))n.push(UO(c));else if(yr(c)){r=!0;for(let d=0,f=c.length;d<f;d+=1)s(c[d],i,a+1)}else i.length&&s(c,i,a+1)}};return s(e,Fn(t)?t.split("."):t,0),r?n:n[0]}const JO={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ZO={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},eD={location:0,threshold:.6,distance:100},tD={useExtendedSearch:!1,getFn:QO,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var se={...ZO,...JO,...eD,...tD};const nD=/[^ ]+/g;function rD(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const o=s.match(nD).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}class zg{constructor({getFn:t=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){this.norm=rD(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Fn(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Fn(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Lt(t)||Xf(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,o)=>{let i=s.getFn?s.getFn(t):this.getFn(t,s.path);if(Lt(i)){if(yr(i)){let a=[];const l=[{nestedArrIndex:-1,value:i}];for(;l.length;){const{nestedArrIndex:c,value:d}=l.pop();if(Lt(d))if(Fn(d)&&!Xf(d)){let f={v:d,i:c,n:this.norm.get(d)};a.push(f)}else yr(d)&&d.forEach((f,p)=>{l.push({nestedArrIndex:p,value:f})})}r.$[o]=a}else if(Fn(i)&&!Xf(i)){let a={v:i,n:this.norm.get(i)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function hS(e,t,{getFn:n=se.getFn,fieldNormWeight:r=se.fieldNormWeight}={}){const s=new zg({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(fS)),s.setSources(t),s.create(),s}function sD(e,{getFn:t=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){const{keys:r,records:s}=e,o=new zg({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(s),o}function dc(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=se.distance,ignoreLocation:o=se.ignoreLocation}={}){const i=t/e.length;if(o)return i;const a=Math.abs(r-n);return s?i+a/s:a?1:i}function oD(e=[],t=se.minMatchCharLength){let n=[],r=-1,s=-1,o=0;for(let i=e.length;o<i;o+=1){let a=e[o];a&&r===-1?r=o:!a&&r!==-1&&(s=o-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const Ss=32;function iD(e,t,n,{location:r=se.location,distance:s=se.distance,threshold:o=se.threshold,findAllMatches:i=se.findAllMatches,minMatchCharLength:a=se.minMatchCharLength,includeMatches:l=se.includeMatches,ignoreLocation:c=se.ignoreLocation}={}){if(t.length>Ss)throw new Error(KO(Ss));const d=t.length,f=e.length,p=Math.max(0,Math.min(r,f));let h=o,b=p;const m=a>1||l,w=m?Array(f):[];let y;for(;(y=e.indexOf(t,b))>-1;){let k=dc(t,{currentLocation:y,expectedLocation:p,distance:s,ignoreLocation:c});if(h=Math.min(k,h),b=y+d,m){let N=0;for(;N<d;)w[y+N]=1,N+=1}}b=-1;let x=[],v=1,_=d+f;const E=1<<d-1;for(let k=0;k<d;k+=1){let N=0,I=_;for(;N<I;)dc(t,{errors:k,currentLocation:p+I,expectedLocation:p,distance:s,ignoreLocation:c})<=h?N=I:_=I,I=Math.floor((_-N)/2+N);_=I;let O=Math.max(1,p-I+1),L=i?f:Math.min(p+I,f)+d,R=Array(L+2);R[L+1]=(1<<k)-1;for(let S=L;S>=O;S-=1){let T=S-1,j=n[e.charAt(T)];if(m&&(w[T]=+!!j),R[S]=(R[S+1]<<1|1)&j,k&&(R[S]|=(x[S+1]|x[S])<<1|1|x[S+1]),R[S]&E&&(v=dc(t,{errors:k,currentLocation:T,expectedLocation:p,distance:s,ignoreLocation:c}),v<=h)){if(h=v,b=T,b<=p)break;O=Math.max(1,2*p-b)}}if(dc(t,{errors:k+1,currentLocation:p,expectedLocation:p,distance:s,ignoreLocation:c})>h)break;x=R}const P={isMatch:b>=0,score:Math.max(.001,v)};if(m){const k=oD(w,a);k.length?l&&(P.indices=k):P.isMatch=!1}return P}function aD(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}const Tu=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class pS{constructor(t,{location:n=se.location,threshold:r=se.threshold,distance:s=se.distance,includeMatches:o=se.includeMatches,findAllMatches:i=se.findAllMatches,minMatchCharLength:a=se.minMatchCharLength,isCaseSensitive:l=se.isCaseSensitive,ignoreDiacritics:c=se.ignoreDiacritics,ignoreLocation:d=se.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:d},t=l?t:t.toLowerCase(),t=c?Tu(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(h,b)=>{this.chunks.push({pattern:h,alphabet:aD(h),startIndex:b})},p=this.pattern.length;if(p>Ss){let h=0;const b=p%Ss,m=p-b;for(;h<m;)f(this.pattern.substr(h,Ss),h),h+=Ss;if(b){const w=p-Ss;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(t=n?t:t.toLowerCase(),t=r?Tu(t):t,this.pattern===t){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,t.length-1]]),m}const{location:o,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:d}=this.options;let f=[],p=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:w,startIndex:y})=>{const{isMatch:x,score:v,indices:_}=iD(t,m,w,{location:o+y,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:s,ignoreLocation:d});x&&(h=!0),p+=v,x&&_&&(f=[...f,..._])});let b={isMatch:h,score:h?p/this.chunks.length:1};return h&&s&&(b.indices=f),b}}class ps{constructor(t){this.pattern=t}static isMultiMatch(t){return by(t,this.multiRegex)}static isSingleMatch(t){return by(t,this.singleRegex)}search(){}}function by(e,t){const n=e.match(t);return n?n[1]:null}class lD extends ps{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class cD extends ps{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class uD extends ps{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class dD extends ps{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class fD extends ps{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class hD extends ps{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class mS extends ps{constructor(t,{location:n=se.location,threshold:r=se.threshold,distance:s=se.distance,includeMatches:o=se.includeMatches,findAllMatches:i=se.findAllMatches,minMatchCharLength:a=se.minMatchCharLength,isCaseSensitive:l=se.isCaseSensitive,ignoreDiacritics:c=se.ignoreDiacritics,ignoreLocation:d=se.ignoreLocation}={}){super(t),this._bitapSearch=new pS(t,{location:n,threshold:r,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class gS extends ps{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,s.push([r,n-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const Rp=[lD,gS,uD,dD,hD,fD,cD,mS],_y=Rp.length,pD=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,mD="|";function gD(e,t={}){return e.split(mD).map(n=>{let r=n.trim().split(pD).filter(o=>o&&!!o.trim()),s=[];for(let o=0,i=r.length;o<i;o+=1){const a=r[o];let l=!1,c=-1;for(;!l&&++c<_y;){const d=Rp[c];let f=d.isMultiMatch(a);f&&(s.push(new d(f,t)),l=!0)}if(!l)for(c=-1;++c<_y;){const d=Rp[c];let f=d.isSingleMatch(a);if(f){s.push(new d(f,t));break}}}return s})}const vD=new Set([mS.type,gS.type]);class yD{constructor(t,{isCaseSensitive:n=se.isCaseSensitive,ignoreDiacritics:r=se.ignoreDiacritics,includeMatches:s=se.includeMatches,minMatchCharLength:o=se.minMatchCharLength,ignoreLocation:i=se.ignoreLocation,findAllMatches:a=se.findAllMatches,location:l=se.location,threshold:c=se.threshold,distance:d=se.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:l,threshold:c,distance:d},t=n?t:t.toLowerCase(),t=r?Tu(t):t,this.pattern=t,this.query=gD(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:o}=this.options;t=s?t:t.toLowerCase(),t=o?Tu(t):t;let i=0,a=[],l=0;for(let c=0,d=n.length;c<d;c+=1){const f=n[c];a.length=0,i=0;for(let p=0,h=f.length;p<h;p+=1){const b=f[p],{isMatch:m,indices:w,score:y}=b.search(t);if(m){if(i+=1,l+=y,r){const x=b.constructor.type;vD.has(x)?a=[...a,...w]:a.push(w)}}else{l=0,i=0,a.length=0;break}}if(i){let p={isMatch:!0,score:l/i};return r&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const Mp=[];function xD(...e){Mp.push(...e)}function Ip(e,t){for(let n=0,r=Mp.length;n<r;n+=1){let s=Mp[n];if(s.condition(e,t))return new s(e,t)}return new pS(e,t)}const Au={AND:"$and",OR:"$or"},Op={PATH:"$path",PATTERN:"$val"},Dp=e=>!!(e[Au.AND]||e[Au.OR]),wD=e=>!!e[Op.PATH],bD=e=>!yr(e)&&uS(e)&&!Dp(e),Sy=e=>({[Au.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function vS(e,t,{auto:n=!0}={}){const r=s=>{let o=Object.keys(s);const i=wD(s);if(!i&&o.length>1&&!Dp(s))return r(Sy(s));if(bD(s)){const l=i?s[Op.PATH]:o[0],c=i?s[Op.PATTERN]:s[l];if(!Fn(c))throw new Error(GO(l));const d={keyId:Ap(l),pattern:c};return n&&(d.searcher=Ip(c,t)),d}let a={children:[],operator:o[0]};return o.forEach(l=>{const c=s[l];yr(c)&&c.forEach(d=>{a.children.push(r(d))})}),a};return Dp(e)||(e=Sy(e)),r(e)}function _D(e,{ignoreFieldNorm:t=se.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:o,score:i})=>{const a=s?s.weight:null;r*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(t?1:o))}),n.score=r})}function SD(e,t){const n=e.matches;t.matches=[],Lt(n)&&n.forEach(r=>{if(!Lt(r.indices)||!r.indices.length)return;const{indices:s,value:o}=r;let i={indices:s,value:o};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),t.matches.push(i)})}function ED(e,t){t.score=e.score}function kD(e,t,{includeMatches:n=se.includeMatches,includeScore:r=se.includeScore}={}){const s=[];return n&&s.push(SD),r&&s.push(ED),e.map(o=>{const{idx:i}=o,a={item:t[i],refIndex:i};return s.length&&s.forEach(l=>{l(o,a)}),a})}class Ai{constructor(t,n={},r){this.options={...se,...n},this.options.useExtendedSearch,this._keyStore=new XO(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof zg))throw new Error(WO);this._myIndex=n||hS(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Lt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,s-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let l=Fn(t)?Fn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return _D(l,{ignoreFieldNorm:a}),o&&l.sort(i),cS(n)&&n>-1&&(l=l.slice(0,n)),kD(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=Ip(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:o,i,n:a})=>{if(!Lt(o))return;const{isMatch:l,score:c,indices:d}=n.searchIn(o);l&&s.push({item:o,idx:i,matches:[{score:c,value:o,norm:a,indices:d}]})}),s}_searchLogical(t){const n=vS(t,this.options),r=(a,l,c)=>{if(!a.children){const{keyId:f,searcher:p}=a,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:p});return h&&h.length?[{idx:c,item:l,matches:h}]:[]}const d=[];for(let f=0,p=a.children.length;f<p;f+=1){const h=a.children[f],b=r(h,l,c);if(b.length)d.push(...b);else if(a.operator===Au.AND)return[]}return d},s=this._myIndex.records,o={},i=[];return s.forEach(({$:a,i:l})=>{if(Lt(a)){let c=r(n,a,l);c.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},i.push(o[l])),c.forEach(({matches:d})=>{o[l].matches.push(...d)}))}}),i}_searchObjectList(t){const n=Ip(t,this.options),{keys:r,records:s}=this._myIndex,o=[];return s.forEach(({$:i,i:a})=>{if(!Lt(i))return;let l=[];r.forEach((c,d)=>{l.push(...this._findMatches({key:c,value:i[d],searcher:n}))}),l.length&&o.push({idx:a,item:i,matches:l})}),o}_findMatches({key:t,value:n,searcher:r}){if(!Lt(n))return[];let s=[];if(yr(n))n.forEach(({v:o,i,n:a})=>{if(!Lt(o))return;const{isMatch:l,score:c,indices:d}=r.searchIn(o);l&&s.push({score:c,key:t,value:o,idx:i,norm:a,indices:d})});else{const{v:o,n:i}=n,{isMatch:a,score:l,indices:c}=r.searchIn(o);a&&s.push({score:l,key:t,value:o,norm:i,indices:c})}return s}}Ai.version="7.1.0";Ai.createIndex=hS;Ai.parseIndex=sD;Ai.config=se;Ai.parseQuery=vS;xD(yD);const ve=g.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ve.displayName="Input";const qs=g.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));qs.displayName="Card";const Sl=g.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));Sl.displayName="CardHeader";const El=g.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));El.displayName="CardTitle";const CD=g.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));CD.displayName="CardDescription";const kl=g.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));kl.displayName="CardContent";const ND=g.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));ND.displayName="CardFooter";const jD=e=>{const{members:t,searchQuery:n,onSearchQueryChange:r,onMemberSelect:s,onHoverMember:o,onResetFocus:i,onSetViewMode:a,onZoomIn:l,onZoomOut:c,viewMode:d}=e,[f,p]=g.useState(!1),h=g.useRef(null),b=g.useMemo(()=>t?new Ai(t,{keys:["name","birthDate","occupation"],threshold:.3,ignoreLocation:!0}):null,[t]),m=g.useMemo(()=>!n||!b?[]:b.search(n).map(y=>y.item),[n,b]);g.useEffect(()=>{const y=x=>{h.current&&!h.current.contains(x.target)&&p(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const w=y=>{s(y.id),r(""),p(!1)};return u.jsxs("div",{className:"bg-background border-b shadow-sm p-2 flex items-center justify-between sticky top-0 z-50 h-16",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("p",{className:"text-lg font-semibold ml-2 mr-4",children:"Family Tree"})}),u.jsxs("div",{ref:h,className:"relative flex-grow max-w-md mx-auto",children:[u.jsx(ve,{type:"text",placeholder:"Search members...","aria-label":"Search family members by name, birth date, or occupation",value:n,onChange:y=>{r(y.target.value),y.target.value?p(!0):p(!1)},onFocus:()=>{n&&m.length>0&&p(!0)},className:"w-full"}),f&&n&&m.length>0&&u.jsx(qs,{className:"absolute z-50 w-full top-full mt-1 max-h-80 overflow-y-auto shadow-lg border bg-card",children:u.jsx(kl,{className:"p-0",children:m.map(y=>{const x=y.birthDate?new Date(y.birthDate).getFullYear():"N/A";return u.jsxs("div",{onClick:()=>w(y),onMouseEnter:()=>o(y.id),onMouseLeave:()=>o(null),className:"flex items-center p-3 hover:bg-accent hover:text-accent-foreground cursor-pointer border-b last:border-b-0",children:[y.photo?u.jsx("img",{src:y.photo,alt:y.name,className:"w-10 h-10 rounded-full object-cover mr-3"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center mr-3 flex-shrink-0",children:u.jsx(xl,{className:`w-5 h-5 ${y.gender==="male"?"text-blue-600":"text-rose-600"}`})}),u.jsxs("div",{className:"truncate",children:[u.jsx("div",{className:"font-medium text-sm truncate",children:y.name}),u.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Born: ",x]})]})]},y.id)})})}),!f&&n&&!m.length&&u.jsx("div",{className:"absolute z-40 w-full top-full mt-1 p-4 text-sm text-muted-foreground text-center bg-card border shadow-lg rounded-md",children:"No members found. Try a different search."}),!f&&!n&&u.jsx("div",{className:"absolute z-40 w-full top-full mt-1 p-4 text-sm text-muted-foreground text-center bg-card border shadow-lg rounded-md",children:"Start typing to search members..."})]}),u.jsxs("div",{className:"flex items-center space-x-2 mr-2",children:[" ",u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsxs(he,{variant:"ghost",size:"icon",onClick:i,children:[u.jsx(gA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Reset Focus/View"})]})}),u.jsx(ir,{children:u.jsx("p",{children:"Reset Focus/View"})})]}),u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsxs(he,{variant:"ghost",size:"icon",onClick:()=>a("FullTree"),disabled:d==="FullTree",children:[u.jsx(e_,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Show All (Full Tree)"})]})}),u.jsx(ir,{children:u.jsx("p",{children:"Show All (Full Tree)"})})]}),u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsxs(he,{variant:"ghost",size:"icon",onClick:l,children:[u.jsx(wA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Zoom In"})]})}),u.jsx(ir,{children:u.jsx("p",{children:"Zoom In"})})]}),u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsxs(he,{variant:"ghost",size:"icon",onClick:c,children:[u.jsx(bA,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Zoom Out"})]})}),u.jsx(ir,{children:u.jsx("p",{children:"Zoom Out"})})]})]})]})};var PD=g.createContext(void 0);function Bg(e){const t=g.useContext(PD);return e||t||"ltr"}var Qf=0;function Ug(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ey()),document.body.insertAdjacentElement("beforeend",e[1]??Ey()),Qf++,()=>{Qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qf--}},[])}function Ey(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jf="focusScope.autoFocusOnMount",Zf="focusScope.autoFocusOnUnmount",ky={bubbles:!1,cancelable:!0},TD="FocusScope",Sd=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=g.useState(null),c=Pt(s),d=Pt(o),f=g.useRef(null),p=be(t,m=>l(m)),h=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let m=function(v){if(h.paused||!a)return;const _=v.target;a.contains(_)?f.current=_:Ar(f.current,{select:!0})},w=function(v){if(h.paused||!a)return;const _=v.relatedTarget;_!==null&&(a.contains(_)||Ar(f.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const E of v)E.removedNodes.length>0&&Ar(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,h.paused]),g.useEffect(()=>{if(a){Ny.add(h);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Jf,ky);a.addEventListener(Jf,c),a.dispatchEvent(y),y.defaultPrevented||(AD(DD(yS(a)),{select:!0}),document.activeElement===m&&Ar(a))}return()=>{a.removeEventListener(Jf,c),setTimeout(()=>{const y=new CustomEvent(Zf,ky);a.addEventListener(Zf,d),a.dispatchEvent(y),y.defaultPrevented||Ar(m??document.body,{select:!0}),a.removeEventListener(Zf,d),Ny.remove(h)},0)}}},[a,c,d,h]);const b=g.useCallback(m=>{if(!n&&!r||h.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const x=m.currentTarget,[v,_]=RD(x);v&&_?!m.shiftKey&&y===_?(m.preventDefault(),n&&Ar(v,{select:!0})):m.shiftKey&&y===v&&(m.preventDefault(),n&&Ar(_,{select:!0})):y===x&&m.preventDefault()}},[n,r,h.paused]);return u.jsx(ue.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});Sd.displayName=TD;function AD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ar(r,{select:t}),document.activeElement!==n)return}function RD(e){const t=yS(e),n=Cy(t,e),r=Cy(t.reverse(),e);return[n,r]}function yS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Cy(e,t){for(const n of e)if(!MD(n,{upTo:t}))return n}function MD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ID(e){return e instanceof HTMLInputElement&&"select"in e}function Ar(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ID(e)&&t&&e.select()}}var Ny=OD();function OD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=jy(e,t),e.unshift(t)},remove(t){var n;e=jy(e,t),(n=e[0])==null||n.resume()}}}function jy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function DD(e){return e.filter(t=>t.tagName!=="A")}var eh="rovingFocusGroup.onEntryFocus",$D={bubbles:!1,cancelable:!0},Cl="RovingFocusGroup",[$p,xS,LD]=dd(Cl),[FD,wS]=br(Cl,[LD]),[zD,BD]=FD(Cl),bS=g.forwardRef((e,t)=>u.jsx($p.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx($p.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(UD,{...e,ref:t})})}));bS.displayName=Cl;var UD=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,p=g.useRef(null),h=be(t,p),b=Bg(o),[m,w]=Gs({prop:i,defaultProp:a??null,onChange:l,caller:Cl}),[y,x]=g.useState(!1),v=Pt(c),_=xS(n),E=g.useRef(!1),[P,k]=g.useState(0);return g.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(eh,v),()=>N.removeEventListener(eh,v)},[v]),u.jsx(zD,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:m,onItemFocus:g.useCallback(N=>w(N),[w]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>k(N=>N-1),[]),children:u.jsx(ue.div,{tabIndex:y||P===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{E.current=!0}),onFocus:Z(e.onFocus,N=>{const I=!E.current;if(N.target===N.currentTarget&&I&&!y){const O=new CustomEvent(eh,$D);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=_().filter(j=>j.focusable),R=L.find(j=>j.active),$=L.find(j=>j.id===m),T=[R,$,...L].filter(Boolean).map(j=>j.ref.current);ES(T,d)}}E.current=!1}),onBlur:Z(e.onBlur,()=>x(!1))})})}),_S="RovingFocusGroupItem",SS=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=Un(),c=o||l,d=BD(_S,n),f=d.currentTabStopId===c,p=xS(n),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:m}=d;return g.useEffect(()=>{if(r)return h(),()=>b()},[r,h,b]),u.jsx($p.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=WD(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const _=v.indexOf(w.currentTarget);v=d.loop?GD(v,_+1):v.slice(_+1)}setTimeout(()=>ES(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:m!=null}):i})})});SS.displayName=_S;var HD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VD(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WD(e,t,n){const r=VD(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HD[r]}function ES(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function GD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var KD=bS,YD=SS,qD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ho=new WeakMap,fc=new WeakMap,hc={},th=0,kS=function(e){return e&&(e.host||kS(e.parentNode))},XD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},QD=function(e,t,n,r){var s=XD(t,Array.isArray(e)?e:[e]);hc[n]||(hc[n]=new WeakMap);var o=hc[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var h=p.getAttribute(r),b=h!==null&&h!=="false",m=(ho.get(p)||0)+1,w=(o.get(p)||0)+1;ho.set(p,m),o.set(p,w),i.push(p),m===1&&b&&fc.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),a.clear(),th++,function(){i.forEach(function(f){var p=ho.get(f)-1,h=o.get(f)-1;ho.set(f,p),o.set(f,h),p||(fc.has(f)||f.removeAttribute(r),fc.delete(f)),h||f.removeAttribute(n)}),th--,th||(ho=new WeakMap,ho=new WeakMap,fc=new WeakMap,hc={})}},Hg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=qD(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),QD(r,s,n,"aria-hidden")):function(){return null}},Ln=function(){return Ln=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ln.apply(this,arguments)};function CS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function JD(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Wc="right-scroll-bar-position",Gc="width-before-scroll-bar",ZD="with-scroll-bars-hidden",e$="--removed-body-scroll-bar-size";function nh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function t$(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var n$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Py=new WeakMap;function r$(e,t){var n=t$(null,function(r){return e.forEach(function(s){return nh(s,r)})});return n$(function(){var r=Py.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||nh(a,null)}),o.forEach(function(a){s.has(a)||nh(a,i)})}Py.set(n,e)},[e]),n}function s$(e){return e}function o$(e,t){t===void 0&&(t=s$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function i$(e){e===void 0&&(e={});var t=o$(null);return t.options=Ln({async:!0,ssr:!1},e),t}var NS=function(e){var t=e.sideCar,n=CS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ln({},n))};NS.isSideCarExport=!0;function a$(e,t){return e.useMedium(t),NS}var jS=i$(),rh=function(){},Ed=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:rh,onWheelCapture:rh,onTouchMoveCapture:rh}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,b=e.noIsolation,m=e.inert,w=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,v=e.gapMode,_=CS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,P=r$([n,t]),k=Ln(Ln({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(E,{sideCar:jS,removeScrollBar:c,shards:f,noRelative:h,noIsolation:b,inert:m,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:v}),i?g.cloneElement(g.Children.only(a),Ln(Ln({},k),{ref:P})):g.createElement(x,Ln({},k,{className:l,ref:P}),a))});Ed.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ed.classNames={fullWidth:Gc,zeroRight:Wc};var l$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=l$();return t&&e.setAttribute("nonce",t),e}function u$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function d$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var f$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=c$())&&(u$(t,n),d$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},h$=function(){var e=f$();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},PS=function(){var e=h$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},p$={left:0,top:0,right:0,gap:0},sh=function(e){return parseInt(e||"",10)||0},m$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[sh(n),sh(r),sh(s)]},g$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return p$;var t=m$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},v$=PS(),Ho="data-scroll-locked",y$=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ho,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ho,`] {
    `).concat(e$,": ").concat(a,`px;
  }
`)},Ty=function(){var e=parseInt(document.body.getAttribute(Ho)||"0",10);return isFinite(e)?e:0},x$=function(){g.useEffect(function(){return document.body.setAttribute(Ho,(Ty()+1).toString()),function(){var e=Ty()-1;e<=0?document.body.removeAttribute(Ho):document.body.setAttribute(Ho,e.toString())}},[])},w$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;x$();var o=g.useMemo(function(){return g$(s)},[s]);return g.createElement(v$,{styles:y$(o,!t,s,n?"":"!important")})},Lp=!1;if(typeof window<"u")try{var pc=Object.defineProperty({},"passive",{get:function(){return Lp=!0,!0}});window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{Lp=!1}var po=Lp?{passive:!1}:!1,b$=function(e){return e.tagName==="TEXTAREA"},TS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b$(e)&&n[t]==="visible")},_$=function(e){return TS(e,"overflowY")},S$=function(e){return TS(e,"overflowX")},Ay=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AS(e,r);if(s){var o=RS(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},E$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},k$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},AS=function(e,t){return e==="v"?_$(t):S$(t)},RS=function(e,t){return e==="v"?E$(t):k$(t)},C$=function(e,t){return e==="h"&&t==="rtl"?-1:1},N$=function(e,t,n,r,s){var o=C$(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,d=i>0,f=0,p=0;do{var h=RS(e,a),b=h[0],m=h[1],w=h[2],y=m-w-o*b;(b||y)&&AS(e,a)&&(f+=y,p+=b),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},mc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ry=function(e){return[e.deltaX,e.deltaY]},My=function(e){return e&&"current"in e?e.current:e},j$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},P$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},T$=0,mo=[];function A$(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(T$++)[0],o=g.useState(PS)[0],i=g.useRef(e);g.useEffect(function(){i.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=JD([e.lockRef.current],(e.shards||[]).map(My),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=mc(m),x=n.current,v="deltaX"in m?m.deltaX:x[0]-y[0],_="deltaY"in m?m.deltaY:x[1]-y[1],E,P=m.target,k=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&P.type==="range")return!1;var N=Ay(k,P);if(!N)return!0;if(N?E=k:(E=k==="v"?"h":"v",N=Ay(k,P)),!N)return!1;if(!r.current&&"changedTouches"in m&&(v||_)&&(r.current=E),!E)return!0;var I=r.current||E;return N$(I,w,m,I==="h"?v:_)},[]),l=g.useCallback(function(m){var w=m;if(!(!mo.length||mo[mo.length-1]!==o)){var y="deltaY"in w?Ry(w):mc(w),x=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&j$(E.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var v=(i.current.shards||[]).map(My).filter(Boolean).filter(function(E){return E.contains(w.target)}),_=v.length>0?a(w,v[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),c=g.useCallback(function(m,w,y,x){var v={name:m,delta:w,target:y,should:x,shadowParent:R$(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=g.useCallback(function(m){n.current=mc(m),r.current=void 0},[]),f=g.useCallback(function(m){c(m.type,Ry(m),m.target,a(m,e.lockRef.current))},[]),p=g.useCallback(function(m){c(m.type,mc(m),m.target,a(m,e.lockRef.current))},[]);g.useEffect(function(){return mo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,po),document.addEventListener("touchmove",l,po),document.addEventListener("touchstart",d,po),function(){mo=mo.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,po),document.removeEventListener("touchmove",l,po),document.removeEventListener("touchstart",d,po)}},[]);var h=e.removeScrollBar,b=e.inert;return g.createElement(g.Fragment,null,b?g.createElement(o,{styles:P$(s)}):null,h?g.createElement(w$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function R$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const M$=a$(jS,A$);var kd=g.forwardRef(function(e,t){return g.createElement(Ed,Ln({},e,{ref:t,sideCar:M$}))});kd.classNames=Ed.classNames;var Fp=["Enter"," "],I$=["ArrowDown","PageUp","Home"],MS=["ArrowUp","PageDown","End"],O$=[...I$,...MS],D$={ltr:[...Fp,"ArrowRight"],rtl:[...Fp,"ArrowLeft"]},$$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nl="Menu",[Ga,L$,F$]=dd(Nl),[ao,IS]=br(Nl,[F$,Ti,wS]),Cd=Ti(),OS=wS(),[z$,lo]=ao(Nl),[B$,jl]=ao(Nl),DS=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=Cd(t),[l,c]=g.useState(null),d=g.useRef(!1),f=Pt(o),p=Bg(s);return g.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),u.jsx(Tg,{...a,children:u.jsx(z$,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(B$,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:r})})})};DS.displayName=Nl;var U$="MenuAnchor",Vg=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Cd(n);return u.jsx(Ag,{...s,...r,ref:t})});Vg.displayName=U$;var Wg="MenuPortal",[H$,$S]=ao(Wg,{forceMount:void 0}),LS=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=lo(Wg,t);return u.jsx(H$,{scope:t,forceMount:n,children:u.jsx(Kn,{present:n||o.open,children:u.jsx(gl,{asChild:!0,container:s,children:r})})})};LS.displayName=Wg;var en="MenuContent",[V$,Gg]=ao(en),FS=g.forwardRef((e,t)=>{const n=$S(en,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=lo(en,e.__scopeMenu),i=jl(en,e.__scopeMenu);return u.jsx(Ga.Provider,{scope:e.__scopeMenu,children:u.jsx(Kn,{present:r||o.open,children:u.jsx(Ga.Slot,{scope:e.__scopeMenu,children:i.modal?u.jsx(W$,{...s,ref:t}):u.jsx(G$,{...s,ref:t})})})})}),W$=g.forwardRef((e,t)=>{const n=lo(en,e.__scopeMenu),r=g.useRef(null),s=be(t,r);return g.useEffect(()=>{const o=r.current;if(o)return Hg(o)},[]),u.jsx(Kg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),G$=g.forwardRef((e,t)=>{const n=lo(en,e.__scopeMenu);return u.jsx(Kg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),K$=Ws("MenuContent.ScrollLock"),Kg=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:b,...m}=e,w=lo(en,n),y=jl(en,n),x=Cd(n),v=OS(n),_=L$(n),[E,P]=g.useState(null),k=g.useRef(null),N=be(t,k,w.onContentChange),I=g.useRef(0),O=g.useRef(""),L=g.useRef(0),R=g.useRef(null),$=g.useRef("right"),S=g.useRef(0),T=b?kd:g.Fragment,j=b?{as:K$,allowPinchZoom:!0}:void 0,M=C=>{var B,V;const D=O.current+C,F=_().filter(J=>!J.disabled),z=document.activeElement,H=(B=F.find(J=>J.ref.current===z))==null?void 0:B.textValue,U=F.map(J=>J.textValue),G=o4(U,D,H),K=(V=F.find(J=>J.textValue===G))==null?void 0:V.ref.current;(function J(ee){O.current=ee,window.clearTimeout(I.current),ee!==""&&(I.current=window.setTimeout(()=>J(""),1e3))})(D),K&&setTimeout(()=>K.focus())};g.useEffect(()=>()=>window.clearTimeout(I.current),[]),Ug();const A=g.useCallback(C=>{var F,z;return $.current===((F=R.current)==null?void 0:F.side)&&a4(C,(z=R.current)==null?void 0:z.area)},[]);return u.jsx(V$,{scope:n,searchRef:O,onItemEnter:g.useCallback(C=>{A(C)&&C.preventDefault()},[A]),onItemLeave:g.useCallback(C=>{var D;A(C)||((D=k.current)==null||D.focus(),P(null))},[A]),onTriggerLeave:g.useCallback(C=>{A(C)&&C.preventDefault()},[A]),pointerGraceTimerRef:L,onPointerGraceIntentChange:g.useCallback(C=>{R.current=C},[]),children:u.jsx(T,{...j,children:u.jsx(Sd,{asChild:!0,trapped:s,onMountAutoFocus:Z(o,C=>{var D;C.preventDefault(),(D=k.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(ki,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:u.jsx(KD,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:Z(l,C=>{y.isUsingKeyboardRef.current||C.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Rg,{role:"menu","aria-orientation":"vertical","data-state":tE(w.open),"data-radix-menu-content":"",dir:y.dir,...x,...m,ref:N,style:{outline:"none",...m.style},onKeyDown:Z(m.onKeyDown,C=>{const F=C.target.closest("[data-radix-menu-content]")===C.currentTarget,z=C.ctrlKey||C.altKey||C.metaKey,H=C.key.length===1;F&&(C.key==="Tab"&&C.preventDefault(),!z&&H&&M(C.key));const U=k.current;if(C.target!==U||!O$.includes(C.key))return;C.preventDefault();const K=_().filter(B=>!B.disabled).map(B=>B.ref.current);MS.includes(C.key)&&K.reverse(),r4(K)}),onBlur:Z(e.onBlur,C=>{C.currentTarget.contains(C.target)||(window.clearTimeout(I.current),O.current="")}),onPointerMove:Z(e.onPointerMove,Ka(C=>{const D=C.target,F=S.current!==C.clientX;if(C.currentTarget.contains(D)&&F){const z=C.clientX>S.current?"right":"left";$.current=z,S.current=C.clientX}}))})})})})})})});FS.displayName=en;var Y$="MenuGroup",Yg=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(ue.div,{role:"group",...r,ref:t})});Yg.displayName=Y$;var q$="MenuLabel",zS=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(ue.div,{...r,ref:t})});zS.displayName=q$;var Ru="MenuItem",Iy="menu.itemSelect",Nd=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=g.useRef(null),i=jl(Ru,e.__scopeMenu),a=Gg(Ru,e.__scopeMenu),l=be(t,o),c=g.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(Iy,{bubbles:!0,cancelable:!0});f.addEventListener(Iy,h=>r==null?void 0:r(h),{once:!0}),fg(f,p),p.defaultPrevented?c.current=!1:i.onClose()}};return u.jsx(BS,{...s,ref:l,disabled:n,onClick:Z(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),c.current=!0},onPointerUp:Z(e.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Z(e.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Fp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Nd.displayName=Ru;var BS=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=Gg(Ru,n),a=OS(n),l=g.useRef(null),c=be(t,l),[d,f]=g.useState(!1),[p,h]=g.useState("");return g.useEffect(()=>{const b=l.current;b&&h((b.textContent??"").trim())},[o.children]),u.jsx(Ga.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:u.jsx(YD,{asChild:!0,...a,focusable:!r,children:u.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:Z(e.onPointerMove,Ka(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Ka(b=>i.onItemLeave(b))),onFocus:Z(e.onFocus,()=>f(!0)),onBlur:Z(e.onBlur,()=>f(!1))})})})}),X$="MenuCheckboxItem",US=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return u.jsx(KS,{scope:e.__scopeMenu,checked:n,children:u.jsx(Nd,{role:"menuitemcheckbox","aria-checked":Mu(n)?"mixed":n,...s,ref:t,"data-state":Xg(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Mu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});US.displayName=X$;var HS="MenuRadioGroup",[Q$,J$]=ao(HS,{value:void 0,onValueChange:()=>{}}),VS=g.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=Pt(r);return u.jsx(Q$,{scope:e.__scopeMenu,value:n,onValueChange:o,children:u.jsx(Yg,{...s,ref:t})})});VS.displayName=HS;var WS="MenuRadioItem",GS=g.forwardRef((e,t)=>{const{value:n,...r}=e,s=J$(WS,e.__scopeMenu),o=n===s.value;return u.jsx(KS,{scope:e.__scopeMenu,checked:o,children:u.jsx(Nd,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Xg(o),onSelect:Z(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});GS.displayName=WS;var qg="MenuItemIndicator",[KS,Z$]=ao(qg,{checked:!1}),YS=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=Z$(qg,n);return u.jsx(Kn,{present:r||Mu(o.checked)||o.checked===!0,children:u.jsx(ue.span,{...s,ref:t,"data-state":Xg(o.checked)})})});YS.displayName=qg;var e4="MenuSeparator",qS=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});qS.displayName=e4;var t4="MenuArrow",XS=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Cd(n);return u.jsx(Mg,{...s,...r,ref:t})});XS.displayName=t4;var n4="MenuSub",[Z9,QS]=ao(n4),na="MenuSubTrigger",JS=g.forwardRef((e,t)=>{const n=lo(na,e.__scopeMenu),r=jl(na,e.__scopeMenu),s=QS(na,e.__scopeMenu),o=Gg(na,e.__scopeMenu),i=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(Vg,{asChild:!0,...c,children:u.jsx(BS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":tE(n.open),...e,ref:ud(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Ka(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,Ka(f=>{var h,b;d();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const m=(b=n.content)==null?void 0:b.dataset.side,w=m==="right",y=w?-5:5,x=p[w?"left":"right"],v=p[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x,y:p.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,f=>{var h;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||D$[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});JS.displayName=na;var ZS="MenuSubContent",eE=g.forwardRef((e,t)=>{const n=$S(en,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=lo(en,e.__scopeMenu),i=jl(en,e.__scopeMenu),a=QS(ZS,e.__scopeMenu),l=g.useRef(null),c=be(t,l);return u.jsx(Ga.Provider,{scope:e.__scopeMenu,children:u.jsx(Kn,{present:r||o.open,children:u.jsx(Ga.Slot,{scope:e.__scopeMenu,children:u.jsx(Kg,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),p=$$[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),d.preventDefault())})})})})})});eE.displayName=ZS;function tE(e){return e?"open":"closed"}function Mu(e){return e==="indeterminate"}function Xg(e){return Mu(e)?"indeterminate":e?"checked":"unchecked"}function r4(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function s4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function o4(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=s4(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function i4(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function a4(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return i4(n,t)}function Ka(e){return t=>t.pointerType==="mouse"?e(t):void 0}var l4=DS,c4=Vg,u4=LS,d4=FS,f4=Yg,h4=zS,p4=Nd,m4=US,g4=VS,v4=GS,y4=YS,x4=qS,w4=XS,b4=JS,_4=eE,jd="DropdownMenu",[S4,eH]=br(jd,[IS]),xt=IS(),[E4,nE]=S4(jd),rE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=xt(t),c=g.useRef(null),[d,f]=Gs({prop:s,defaultProp:o??!1,onChange:i,caller:jd});return u.jsx(E4,{scope:t,triggerId:Un(),triggerRef:c,contentId:Un(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx(l4,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};rE.displayName=jd;var sE="DropdownMenuTrigger",oE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=nE(sE,n),i=xt(n);return u.jsx(c4,{asChild:!0,...i,children:u.jsx(ue.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ud(t,o.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});oE.displayName=sE;var k4="DropdownMenuPortal",iE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=xt(t);return u.jsx(u4,{...r,...n})};iE.displayName=k4;var aE="DropdownMenuContent",lE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=nE(aE,n),o=xt(n),i=g.useRef(!1);return u.jsx(d4,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lE.displayName=aE;var C4="DropdownMenuGroup",N4=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(f4,{...s,...r,ref:t})});N4.displayName=C4;var j4="DropdownMenuLabel",cE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(h4,{...s,...r,ref:t})});cE.displayName=j4;var P4="DropdownMenuItem",uE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(p4,{...s,...r,ref:t})});uE.displayName=P4;var T4="DropdownMenuCheckboxItem",dE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(m4,{...s,...r,ref:t})});dE.displayName=T4;var A4="DropdownMenuRadioGroup",R4=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(g4,{...s,...r,ref:t})});R4.displayName=A4;var M4="DropdownMenuRadioItem",fE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(v4,{...s,...r,ref:t})});fE.displayName=M4;var I4="DropdownMenuItemIndicator",hE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(y4,{...s,...r,ref:t})});hE.displayName=I4;var O4="DropdownMenuSeparator",pE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(x4,{...s,...r,ref:t})});pE.displayName=O4;var D4="DropdownMenuArrow",$4=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(w4,{...s,...r,ref:t})});$4.displayName=D4;var L4="DropdownMenuSubTrigger",mE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(b4,{...s,...r,ref:t})});mE.displayName=L4;var F4="DropdownMenuSubContent",gE=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xt(n);return u.jsx(_4,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gE.displayName=F4;var z4=rE,B4=oE,U4=iE,vE=lE,yE=cE,xE=uE,wE=dE,bE=fE,_E=hE,SE=pE,EE=mE,kE=gE;const H4=z4,V4=B4,W4=g.forwardRef(({className:e,inset:t,children:n,...r},s)=>u.jsxs(EE,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(Z1,{className:"ml-auto h-4 w-4"})]}));W4.displayName=EE.displayName;const G4=g.forwardRef(({className:e,...t},n)=>u.jsx(kE,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));G4.displayName=kE.displayName;const CE=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(U4,{children:u.jsx(vE,{ref:r,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));CE.displayName=vE.displayName;const Kc=g.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(xE,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Kc.displayName=xE.displayName;const K4=g.forwardRef(({className:e,children:t,checked:n,...r},s)=>u.jsxs(wE,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(_E,{children:u.jsx(Q1,{className:"h-4 w-4"})})}),t]}));K4.displayName=wE.displayName;const Y4=g.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(bE,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(_E,{children:u.jsx(oA,{className:"h-2 w-2 fill-current"})})}),t]}));Y4.displayName=bE.displayName;const q4=g.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(yE,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));q4.displayName=yE.displayName;const X4=g.forwardRef(({className:e,...t},n)=>u.jsx(SE,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));X4.displayName=SE.displayName;function Iu(){const{setTheme:e,theme:t}=g_();return u.jsxs(H4,{children:[u.jsx(V4,{asChild:!0,children:u.jsxs(he,{variant:"outline",size:"icon",children:[t==="light"&&u.jsx(yA,{className:"h-[1.2rem] w-[1.2rem]"}),t==="dark"&&u.jsx(dA,{className:"h-[1.2rem] w-[1.2rem]"}),t==="system"&&u.jsx(cA,{className:"h-[1.2rem] w-[1.2rem]"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),u.jsxs(CE,{align:"end",children:[u.jsx(Kc,{onClick:()=>e("light"),children:"Light"}),u.jsx(Kc,{onClick:()=>e("dark"),children:"Dark"}),u.jsx(Kc,{onClick:()=>e("system"),children:"System"})]})]})}const gc=(e,t,n=1)=>{if(!t.find(a=>a.id===e))return[];const s=[],o=[{memberId:e,generation:n}],i=new Set;for(;o.length>0;){const{memberId:a,generation:l}=o.pop();if(i.has(a))continue;i.add(a);const c=t.find(d=>d.id===a);if(c){s.push({...c,generation:l});const d=t.filter(f=>{var p;return(p=f.parents)==null?void 0:p.includes(a)});for(const f of d)i.has(f.id)||o.push({memberId:f.id,generation:l+1})}}return s},Q4=(e,t,n=1)=>{const r=[],s=new Map(t.map(c=>[c.id,c])),o=s.get(e);if(!o)return[];const i=[{member:o,generation:n}],a=new Set;let l=0;for(;l<i.length;){const{member:c,generation:d}=i[l++];a.has(c.id)||(r.push({...c,generation:d}),a.add(c.id),c.parents&&c.parents.forEach(f=>{const p=s.get(f);p&&!a.has(f)&&i.push({member:p,generation:d+1})}))}return r},NE=({focusedMemberId:e,members:t,onSelectMember:n,className:r=""})=>{if(!e)return u.jsx("div",{className:`h-6 ${r}`});if(!new Map(t.map(a=>[a.id,a])).get(e))return u.jsx("div",{className:`h-6 ${r}`});const i=Q4(e,t,1).reverse();return u.jsx("nav",{"aria-label":"breadcrumb",className:`flex items-center space-x-1 text-sm text-muted-foreground ${r}`,children:i.map((a,l)=>u.jsxs(X.Fragment,{children:[l>0&&u.jsx(Z1,{className:"w-4 h-4"}),u.jsx("button",{onClick:()=>n(a.id),className:`hover:underline ${a.id===e?"font-semibold text-primary":""}`,disabled:a.id===e,children:a.name})]},a.id))})},J4=({members:e,onMemberSelect:t,focusedMemberId:n,onResetFocus:r,viewMode:s,setViewMode:o,lineageDirection:i,setLineageDirection:a,isSidebarOpen:l,onToggleSidebar:c})=>u.jsxs(qs,{className:"w-full h-full flex flex-col",children:[u.jsxs(Sl,{className:"pb-2 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx(El,{className:"text-lg",children:"Family Tree Controls"}),u.jsx(he,{variant:"ghost",size:"icon",onClick:c,className:"ml-auto",children:l?u.jsx(fA,{className:"h-5 w-5"}):u.jsx(hA,{className:"h-5 w-5"})})]}),n&&u.jsx(NE,{focusedMemberId:n,members:e,onSelectMember:t,className:"mb-2 pt-1"}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Focus Tools"}),n&&u.jsx(he,{variant:"outline",size:"sm",onClick:r,children:"Reset Focus"})]}),u.jsxs("div",{className:"space-y-2 pt-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"View Mode"}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(he,{onClick:()=>o("FullTree"),variant:s==="FullTree"?"secondary":"outline",size:"sm",className:"flex-1",children:"Full Tree"}),u.jsx(he,{onClick:()=>o("PersonView"),variant:s==="PersonView"?"secondary":"outline",disabled:!n,size:"sm",className:"flex-1",children:"Person"}),u.jsx(he,{onClick:()=>o("LineageView"),variant:s==="LineageView"?"secondary":"outline",disabled:!n,size:"sm",className:"flex-1",children:"🧬 Show My Entire Lineage"})]}),s==="LineageView"&&n&&u.jsxs("div",{className:"flex space-x-1 pt-1",children:[u.jsx(he,{onClick:()=>a("Ancestors"),variant:i==="Ancestors"?"secondary":"outline",size:"xs",className:"flex-1",children:"👴 Show Parents & Grandparents"}),u.jsx(he,{onClick:()=>a("Descendants"),variant:i==="Descendants"?"secondary":"outline",size:"xs",className:"flex-1",children:"👶 Show Children & Grandchildren"})]})]})]}),u.jsx("div",{className:"flex-grow p-4 text-sm text-muted-foreground",children:!n&&u.jsx("p",{children:"Select a member or search to see more options."})})]});function Ge(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ge(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Z4={value:()=>{}};function Pd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yc(n)}function Yc(e){this._=e}function eL(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Yc.prototype=Pd.prototype={constructor:Yc,on:function(e,t){var n=this._,r=eL(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=tL(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=Oy(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Oy(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yc(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function tL(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Oy(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Z4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zp="http://www.w3.org/1999/xhtml";const Dy={svg:"http://www.w3.org/2000/svg",xhtml:zp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Td(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Dy.hasOwnProperty(t)?{space:Dy[t],local:e}:e}function nL(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zp&&t.documentElement.namespaceURI===zp?t.createElement(e):t.createElementNS(n,e)}}function rL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jE(e){var t=Td(e);return(t.local?rL:nL)(t)}function sL(){}function Qg(e){return e==null?sL:function(){return this.querySelector(e)}}function oL(e){typeof e!="function"&&(e=Qg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),l,c,d=0;d<i;++d)(l=o[d])&&(c=e.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Vt(r,this._parents)}function iL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function aL(){return[]}function PE(e){return e==null?aL:function(){return this.querySelectorAll(e)}}function lL(e){return function(){return iL(e.apply(this,arguments))}}function cL(e){typeof e=="function"?e=lL(e):e=PE(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),s.push(l));return new Vt(r,s)}function TE(e){return function(){return this.matches(e)}}function AE(e){return function(t){return t.matches(e)}}var uL=Array.prototype.find;function dL(e){return function(){return uL.call(this.children,e)}}function fL(){return this.firstElementChild}function hL(e){return this.select(e==null?fL:dL(typeof e=="function"?e:AE(e)))}var pL=Array.prototype.filter;function mL(){return Array.from(this.children)}function gL(e){return function(){return pL.call(this.children,e)}}function vL(e){return this.selectAll(e==null?mL:gL(typeof e=="function"?e:AE(e)))}function yL(e){typeof e!="function"&&(e=TE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Vt(r,this._parents)}function RE(e){return new Array(e.length)}function xL(){return new Vt(this._enter||this._groups.map(RE),this._parents)}function Ou(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ou.prototype={constructor:Ou,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wL(e){return function(){return e}}function bL(e,t,n,r,s,o){for(var i=0,a,l=t.length,c=o.length;i<c;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new Ou(e,o[i]);for(;i<l;++i)(a=t[i])&&(s[i]=a)}function _L(e,t,n,r,s,o,i){var a,l,c=new Map,d=t.length,f=o.length,p=new Array(d),h;for(a=0;a<d;++a)(l=t[a])&&(p[a]=h=i.call(l,l.__data__,a,t)+"",c.has(h)?s[a]=l:c.set(h,l));for(a=0;a<f;++a)h=i.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new Ou(e,o[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(p[a])===l&&(s[a]=l)}function SL(e){return e.__data__}function EL(e,t){if(!arguments.length)return Array.from(this,SL);var n=t?_L:bL,r=this._parents,s=this._groups;typeof e!="function"&&(e=wL(e));for(var o=s.length,i=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var d=r[c],f=s[c],p=f.length,h=kL(e.call(d,d&&d.__data__,c,r)),b=h.length,m=a[c]=new Array(b),w=i[c]=new Array(b),y=l[c]=new Array(p);n(d,f,m,w,y,h,t);for(var x=0,v=0,_,E;x<b;++x)if(_=m[x]){for(x>=v&&(v=x+1);!(E=w[v])&&++v<b;);_._next=E||null}}return i=new Vt(i,r),i._enter=a,i._exit=l,i}function kL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CL(){return new Vt(this._exit||this._groups.map(RE),this._parents)}function NL(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function jL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,i=Math.min(s,o),a=new Array(s),l=0;l<i;++l)for(var c=n[l],d=r[l],f=c.length,p=a[l]=new Array(f),h,b=0;b<f;++b)(h=c[b]||d[b])&&(p[b]=h);for(;l<s;++l)a[l]=n[l];return new Vt(a,this._parents)}function PL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function TL(e){e||(e=AL);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,l=s[o]=new Array(a),c,d=0;d<a;++d)(c=i[d])&&(l[d]=c);l.sort(t)}return new Vt(s,this._parents).order()}function AL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ML(){return Array.from(this)}function IL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function OL(){let e=0;for(const t of this)++e;return e}function DL(){return!this.node()}function $L(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function LL(e){return function(){this.removeAttribute(e)}}function FL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zL(e,t){return function(){this.setAttribute(e,t)}}function BL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function HL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function VL(e,t){var n=Td(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?FL:LL:typeof t=="function"?n.local?HL:UL:n.local?BL:zL)(n,t))}function ME(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function WL(e){return function(){this.style.removeProperty(e)}}function GL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function KL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function YL(e,t,n){return arguments.length>1?this.each((t==null?WL:typeof t=="function"?KL:GL)(e,t,n??"")):fi(this.node(),e)}function fi(e,t){return e.style.getPropertyValue(t)||ME(e).getComputedStyle(e,null).getPropertyValue(t)}function qL(e){return function(){delete this[e]}}function XL(e,t){return function(){this[e]=t}}function QL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function JL(e,t){return arguments.length>1?this.each((t==null?qL:typeof t=="function"?QL:XL)(e,t)):this.node()[e]}function IE(e){return e.trim().split(/^|\s+/)}function Jg(e){return e.classList||new OE(e)}function OE(e){this._node=e,this._names=IE(e.getAttribute("class")||"")}OE.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function DE(e,t){for(var n=Jg(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function $E(e,t){for(var n=Jg(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function ZL(e){return function(){DE(this,e)}}function e3(e){return function(){$E(this,e)}}function t3(e,t){return function(){(t.apply(this,arguments)?DE:$E)(this,e)}}function n3(e,t){var n=IE(e+"");if(arguments.length<2){for(var r=Jg(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?t3:t?ZL:e3)(n,t))}function r3(){this.textContent=""}function s3(e){return function(){this.textContent=e}}function o3(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function i3(e){return arguments.length?this.each(e==null?r3:(typeof e=="function"?o3:s3)(e)):this.node().textContent}function a3(){this.innerHTML=""}function l3(e){return function(){this.innerHTML=e}}function c3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function u3(e){return arguments.length?this.each(e==null?a3:(typeof e=="function"?c3:l3)(e)):this.node().innerHTML}function d3(){this.nextSibling&&this.parentNode.appendChild(this)}function f3(){return this.each(d3)}function h3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function p3(){return this.each(h3)}function m3(e){var t=typeof e=="function"?e:jE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function g3(){return null}function v3(e,t){var n=typeof e=="function"?e:jE(e),r=t==null?g3:typeof t=="function"?t:Qg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function y3(){var e=this.parentNode;e&&e.removeChild(this)}function x3(){return this.each(y3)}function w3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function b3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _3(e){return this.select(e?b3:w3)}function S3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function E3(e){return function(t){e.call(this,t,this.__data__)}}function k3(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function C3(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function N3(e,t,n){return function(){var r=this.__on,s,o=E3(t);if(r){for(var i=0,a=r.length;i<a;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function j3(e,t,n){var r=k3(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(s=0,d=a[l];s<o;++s)if((i=r[s]).type===d.type&&i.name===d.name)return d.value}return}for(a=t?N3:C3,s=0;s<o;++s)this.each(a(r[s],t,n));return this}function LE(e,t,n){var r=ME(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function P3(e,t){return function(){return LE(this,e,t)}}function T3(e,t){return function(){return LE(this,e,t.apply(this,arguments))}}function A3(e,t){return this.each((typeof t=="function"?T3:P3)(e,t))}function*R3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,i;s<o;++s)(i=r[s])&&(yield i)}var FE=[null];function Vt(e,t){this._groups=e,this._parents=t}function Pl(){return new Vt([[document.documentElement]],FE)}function M3(){return this}Vt.prototype=Pl.prototype={constructor:Vt,select:oL,selectAll:cL,selectChild:hL,selectChildren:vL,filter:yL,data:EL,enter:xL,exit:CL,join:NL,merge:jL,selection:M3,order:PL,sort:TL,call:RL,nodes:ML,node:IL,size:OL,empty:DL,each:$L,attr:VL,style:YL,property:JL,classed:n3,text:i3,html:u3,raise:f3,lower:p3,append:m3,insert:v3,remove:x3,clone:_3,datum:S3,on:j3,dispatch:A3,[Symbol.iterator]:R3};function Ft(e){return typeof e=="string"?new Vt([[document.querySelector(e)]],[document.documentElement]):new Vt([[e]],FE)}function I3(e){let t;for(;t=e.sourceEvent;)e=t;return e}function gn(e,t){if(e=I3(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const O3={passive:!1},Ya={capture:!0,passive:!1};function oh(e){e.stopImmediatePropagation()}function Vo(e){e.preventDefault(),e.stopImmediatePropagation()}function zE(e){var t=e.document.documentElement,n=Ft(e).on("dragstart.drag",Vo,Ya);"onselectstart"in t?n.on("selectstart.drag",Vo,Ya):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function BE(e,t){var n=e.document.documentElement,r=Ft(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vo,Ya),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const vc=e=>()=>e;function Bp(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:i,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Bp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function D3(e){return!e.ctrlKey&&!e.button}function $3(){return this.parentNode}function L3(e,t){return t??{x:e.x,y:e.y}}function F3(){return navigator.maxTouchPoints||"ontouchstart"in this}function UE(){var e=D3,t=$3,n=L3,r=F3,s={},o=Pd("start","drag","end"),i=0,a,l,c,d,f=0;function p(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",y,O3).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,E){if(!(d||!e.call(this,_,E))){var P=v(this,t.call(this,_,E),_,E,"mouse");P&&(Ft(_.view).on("mousemove.drag",b,Ya).on("mouseup.drag",m,Ya),zE(_.view),oh(_),c=!1,a=_.clientX,l=_.clientY,P("start",_))}}function b(_){if(Vo(_),!c){var E=_.clientX-a,P=_.clientY-l;c=E*E+P*P>f}s.mouse("drag",_)}function m(_){Ft(_.view).on("mousemove.drag mouseup.drag",null),BE(_.view,c),Vo(_),s.mouse("end",_)}function w(_,E){if(e.call(this,_,E)){var P=_.changedTouches,k=t.call(this,_,E),N=P.length,I,O;for(I=0;I<N;++I)(O=v(this,k,_,E,P[I].identifier,P[I]))&&(oh(_),O("start",_,P[I]))}}function y(_){var E=_.changedTouches,P=E.length,k,N;for(k=0;k<P;++k)(N=s[E[k].identifier])&&(Vo(_),N("drag",_,E[k]))}function x(_){var E=_.changedTouches,P=E.length,k,N;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),k=0;k<P;++k)(N=s[E[k].identifier])&&(oh(_),N("end",_,E[k]))}function v(_,E,P,k,N,I){var O=o.copy(),L=gn(I||P,E),R,$,S;if((S=n.call(_,new Bp("beforestart",{sourceEvent:P,target:p,identifier:N,active:i,x:L[0],y:L[1],dx:0,dy:0,dispatch:O}),k))!=null)return R=S.x-L[0]||0,$=S.y-L[1]||0,function T(j,M,A){var C=L,D;switch(j){case"start":s[N]=T,D=i++;break;case"end":delete s[N],--i;case"drag":L=gn(A||M,E),D=i;break}O.call(j,_,new Bp(j,{sourceEvent:M,subject:S,target:p,identifier:N,active:D,x:L[0]+R,y:L[1]+$,dx:L[0]-C[0],dy:L[1]-C[1],dispatch:O}),k)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:vc(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:vc(_),p):t},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:vc(_),p):n},p.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:vc(!!_),p):r},p.on=function(){var _=o.on.apply(o,arguments);return _===o?p:_},p.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,p):Math.sqrt(f)},p}function Zg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tl(){}var qa=.7,Du=1/qa,Wo="\\s*([+-]?\\d+)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z3=/^#([0-9a-f]{3,8})$/,B3=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),U3=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),H3=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${Xa}\\)$`),V3=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Xa}\\)$`),W3=new RegExp(`^hsl\\(${Xa},${Vn},${Vn}\\)$`),G3=new RegExp(`^hsla\\(${Xa},${Vn},${Vn},${Xa}\\)$`),$y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zg(Tl,Qa,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ly,formatHex:Ly,formatHex8:K3,formatHsl:Y3,formatRgb:Fy,toString:Fy});function Ly(){return this.rgb().formatHex()}function K3(){return this.rgb().formatHex8()}function Y3(){return VE(this).formatHsl()}function Fy(){return this.rgb().formatRgb()}function Qa(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=z3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zy(t):n===3?new kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B3.exec(e))?new kt(t[1],t[2],t[3],1):(t=U3.exec(e))?new kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H3.exec(e))?yc(t[1],t[2],t[3],t[4]):(t=V3.exec(e))?yc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W3.exec(e))?Hy(t[1],t[2]/100,t[3]/100,1):(t=G3.exec(e))?Hy(t[1],t[2]/100,t[3]/100,t[4]):$y.hasOwnProperty(e)?zy($y[e]):e==="transparent"?new kt(NaN,NaN,NaN,0):null}function zy(e){return new kt(e>>16&255,e>>8&255,e&255,1)}function yc(e,t,n,r){return r<=0&&(e=t=n=NaN),new kt(e,t,n,r)}function q3(e){return e instanceof Tl||(e=Qa(e)),e?(e=e.rgb(),new kt(e.r,e.g,e.b,e.opacity)):new kt}function Up(e,t,n,r){return arguments.length===1?q3(e):new kt(e,t,n,r??1)}function kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Zg(kt,Up,HE(Tl,{brighter(e){return e=e==null?Du:Math.pow(Du,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qa:Math.pow(qa,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kt($s(this.r),$s(this.g),$s(this.b),$u(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:By,formatHex:By,formatHex8:X3,formatRgb:Uy,toString:Uy}));function By(){return`#${js(this.r)}${js(this.g)}${js(this.b)}`}function X3(){return`#${js(this.r)}${js(this.g)}${js(this.b)}${js((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uy(){const e=$u(this.opacity);return`${e===1?"rgb(":"rgba("}${$s(this.r)}, ${$s(this.g)}, ${$s(this.b)}${e===1?")":`, ${e})`}`}function $u(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $s(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function js(e){return e=$s(e),(e<16?"0":"")+e.toString(16)}function Hy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xn(e,t,n,r)}function VE(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);if(e instanceof Tl||(e=Qa(e)),!e)return new xn;if(e instanceof xn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,l=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=l<.5?o+s:2-o-s,i*=60):a=l>0&&l<1?0:i,new xn(i,a,l,e.opacity)}function Q3(e,t,n,r){return arguments.length===1?VE(e):new xn(e,t,n,r??1)}function xn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Zg(xn,Q3,HE(Tl,{brighter(e){return e=e==null?Du:Math.pow(Du,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qa:Math.pow(qa,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new kt(ih(e>=240?e-240:e+120,s,r),ih(e,s,r),ih(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new xn(Vy(this.h),xc(this.s),xc(this.l),$u(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$u(this.opacity);return`${e===1?"hsl(":"hsla("}${Vy(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vy(e){return e=(e||0)%360,e<0?e+360:e}function xc(e){return Math.max(0,Math.min(1,e||0))}function ih(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const WE=e=>()=>e;function J3(e,t){return function(n){return e+n*t}}function Z3(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function e5(e){return(e=+e)==1?GE:function(t,n){return n-t?Z3(t,n,e):WE(isNaN(t)?n:t)}}function GE(e,t){var n=t-e;return n?J3(e,n):WE(isNaN(e)?t:e)}const Wy=function e(t){var n=e5(t);function r(s,o){var i=n((s=Up(s)).r,(o=Up(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),c=GE(s.opacity,o.opacity);return function(d){return s.r=i(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function Dr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Hp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ah=new RegExp(Hp.source,"g");function t5(e){return function(){return e}}function n5(e){return function(t){return e(t)+""}}function r5(e,t){var n=Hp.lastIndex=ah.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Hp.exec(e))&&(s=ah.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:Dr(r,s)})),n=ah.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?n5(l[0].x):t5(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}var Gy=180/Math.PI,Vp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KE(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Gy,skewX:Math.atan(l)*Gy,scaleX:i,scaleY:a}}var wc;function s5(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Vp:KE(t.a,t.b,t.c,t.d,t.e,t.f)}function o5(e){return e==null||(wc||(wc=document.createElementNS("http://www.w3.org/2000/svg","g")),wc.setAttribute("transform",e),!(e=wc.transform.baseVal.consolidate()))?Vp:(e=e.matrix,KE(e.a,e.b,e.c,e.d,e.e,e.f))}function YE(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function o(c,d,f,p,h,b){if(c!==f||d!==p){var m=h.push("translate(",null,t,null,n);b.push({i:m-4,x:Dr(c,f)},{i:m-2,x:Dr(d,p)})}else(f||p)&&h.push("translate("+f+t+p+n)}function i(c,d,f,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Dr(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(c,d,f,p){c!==d?p.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Dr(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function l(c,d,f,p,h,b){if(c!==f||d!==p){var m=h.push(s(h)+"scale(",null,",",null,")");b.push({i:m-4,x:Dr(c,f)},{i:m-2,x:Dr(d,p)})}else(f!==1||p!==1)&&h.push(s(h)+"scale("+f+","+p+")")}return function(c,d){var f=[],p=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,f,p),i(c.rotate,d.rotate,f,p),a(c.skewX,d.skewX,f,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,p),c=d=null,function(h){for(var b=-1,m=p.length,w;++b<m;)f[(w=p[b]).i]=w.x(h);return f.join("")}}}var i5=YE(s5,"px, ","px)","deg)"),a5=YE(o5,", ",")",")"),l5=1e-12;function Ky(e){return((e=Math.exp(e))+1/e)/2}function c5(e){return((e=Math.exp(e))-1/e)/2}function u5(e){return((e=Math.exp(2*e))-1)/(e+1)}const d5=function e(t,n,r){function s(o,i){var a=o[0],l=o[1],c=o[2],d=i[0],f=i[1],p=i[2],h=d-a,b=f-l,m=h*h+b*b,w,y;if(m<l5)y=Math.log(p/c)/t,w=function(k){return[a+k*h,l+k*b,c*Math.exp(t*k*y)]};else{var x=Math.sqrt(m),v=(p*p-c*c+r*m)/(2*c*n*x),_=(p*p-c*c-r*m)/(2*p*n*x),E=Math.log(Math.sqrt(v*v+1)-v),P=Math.log(Math.sqrt(_*_+1)-_);y=(P-E)/t,w=function(k){var N=k*y,I=Ky(E),O=c/(n*x)*(I*u5(t*N+E)-c5(E));return[a+O*h,l+O*b,c*I/Ky(t*N+E)]}}return w.duration=y*1e3*t/Math.SQRT2,w}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s}(Math.SQRT2,2,4);var hi=0,ra=0,Yi=0,qE=1e3,Lu,sa,Fu=0,Xs=0,Ad=0,Ja=typeof performance=="object"&&performance.now?performance:Date,XE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function e0(){return Xs||(XE(f5),Xs=Ja.now()+Ad)}function f5(){Xs=0}function zu(){this._call=this._time=this._next=null}zu.prototype=QE.prototype={constructor:zu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?e0():+n)+(t==null?0:+t),!this._next&&sa!==this&&(sa?sa._next=this:Lu=this,sa=this),this._call=e,this._time=n,Wp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wp())}};function QE(e,t,n){var r=new zu;return r.restart(e,t,n),r}function h5(){e0(),++hi;for(var e=Lu,t;e;)(t=Xs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hi}function Yy(){Xs=(Fu=Ja.now())+Ad,hi=ra=0;try{h5()}finally{hi=0,m5(),Xs=0}}function p5(){var e=Ja.now(),t=e-Fu;t>qE&&(Ad-=t,Fu=e)}function m5(){for(var e,t=Lu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Lu=n);sa=e,Wp(r)}function Wp(e){if(!hi){ra&&(ra=clearTimeout(ra));var t=e-Xs;t>24?(e<1/0&&(ra=setTimeout(Yy,e-Ja.now()-Ad)),Yi&&(Yi=clearInterval(Yi))):(Yi||(Fu=Ja.now(),Yi=setInterval(p5,qE)),hi=1,XE(Yy))}}function qy(e,t,n){var r=new zu;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var g5=Pd("start","end","cancel","interrupt"),v5=[],JE=0,Xy=1,Gp=2,qc=3,Qy=4,Kp=5,Xc=6;function Rd(e,t,n,r,s,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;y5(e,n,{name:t,index:r,group:s,on:g5,tween:v5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:JE})}function t0(e,t){var n=Cn(e,t);if(n.state>JE)throw new Error("too late; already scheduled");return n}function qn(e,t){var n=Cn(e,t);if(n.state>qc)throw new Error("too late; already running");return n}function Cn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function y5(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=QE(o,0,n.time);function o(c){n.state=Xy,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var d,f,p,h;if(n.state!==Xy)return l();for(d in r)if(h=r[d],h.name===n.name){if(h.state===qc)return qy(i);h.state===Qy?(h.state=Xc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=Xc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(qy(function(){n.state===qc&&(n.state=Qy,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Gp,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Gp){for(n.state=qc,s=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=h);s.length=f+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Kp,1),f=-1,p=s.length;++f<p;)s[f].call(e,d);n.state===Kp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Xc,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Qc(e,t){var n=e.__transition,r,s,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}s=r.state>Gp&&r.state<Kp,r.state=Xc,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function x5(e){return this.each(function(){Qc(this,e)})}function w5(e,t){var n,r;return function(){var s=qn(this,e),o=s.tween;if(o!==n){r=n=o;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function b5(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=qn(this,e),i=o.tween;if(i!==r){s=(r=i).slice();for(var a={name:t,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}o.tween=s}}function _5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Cn(this.node(),n).tween,s=0,o=r.length,i;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((t==null?w5:b5)(n,e,t))}function n0(e,t,n){var r=e._id;return e.each(function(){var s=qn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Cn(s,r).value[t]}}function ZE(e,t){var n;return(typeof t=="number"?Dr:t instanceof Qa?Wy:(n=Qa(t))?(t=n,Wy):r5)(e,t)}function S5(e){return function(){this.removeAttribute(e)}}function E5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function k5(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function C5(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function N5(e,t,n){var r,s,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a)))}}function j5(e,t,n){var r,s,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a)))}}function P5(e,t){var n=Td(e),r=n==="transform"?a5:ZE;return this.attrTween(e,typeof t=="function"?(n.local?j5:N5)(n,r,n0(this,"attr."+e,t)):t==null?(n.local?E5:S5)(n):(n.local?C5:k5)(n,r,t))}function T5(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function A5(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function R5(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&A5(e,o)),n}return s._value=t,s}function M5(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&T5(e,o)),n}return s._value=t,s}function I5(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Td(e);return this.tween(n,(r.local?R5:M5)(r,t))}function O5(e,t){return function(){t0(this,e).delay=+t.apply(this,arguments)}}function D5(e,t){return t=+t,function(){t0(this,e).delay=t}}function $5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?O5:D5)(t,e)):Cn(this.node(),t).delay}function L5(e,t){return function(){qn(this,e).duration=+t.apply(this,arguments)}}function F5(e,t){return t=+t,function(){qn(this,e).duration=t}}function z5(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?L5:F5)(t,e)):Cn(this.node(),t).duration}function B5(e,t){if(typeof t!="function")throw new Error;return function(){qn(this,e).ease=t}}function U5(e){var t=this._id;return arguments.length?this.each(B5(t,e)):Cn(this.node(),t).ease}function H5(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qn(this,e).ease=n}}function V5(e){if(typeof e!="function")throw new Error;return this.each(H5(this._id,e))}function W5(e){typeof e!="function"&&(e=TE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new xr(r,this._parents,this._name,this._id)}function G5(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],d=l.length,f=i[a]=new Array(d),p,h=0;h<d;++h)(p=l[h]||c[h])&&(f[h]=p);for(;a<r;++a)i[a]=t[a];return new xr(i,this._parents,this._name,this._id)}function K5(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Y5(e,t,n){var r,s,o=K5(t)?t0:qn;return function(){var i=o(this,e),a=i.on;a!==r&&(s=(r=a).copy()).on(t,n),i.on=s}}function q5(e,t){var n=this._id;return arguments.length<2?Cn(this.node(),n).on.on(e):this.each(Y5(n,e,t))}function X5(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Q5(){return this.on("end.remove",X5(this._id))}function J5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qg(e));for(var r=this._groups,s=r.length,o=new Array(s),i=0;i<s;++i)for(var a=r[i],l=a.length,c=o[i]=new Array(l),d,f,p=0;p<l;++p)(d=a[p])&&(f=e.call(d,d.__data__,p,a))&&("__data__"in d&&(f.__data__=d.__data__),c[p]=f,Rd(c[p],t,n,p,c,Cn(d,n)));return new xr(o,this._parents,t,n)}function Z5(e){var t=this._name,n=this._id;typeof e!="function"&&(e=PE(e));for(var r=this._groups,s=r.length,o=[],i=[],a=0;a<s;++a)for(var l=r[a],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var p=e.call(d,d.__data__,f,l),h,b=Cn(d,n),m=0,w=p.length;m<w;++m)(h=p[m])&&Rd(h,t,n,m,p,b);o.push(p),i.push(d)}return new xr(o,i,t,n)}var eF=Pl.prototype.constructor;function tF(){return new eF(this._groups,this._parents)}function nF(e,t){var n,r,s;return function(){var o=fi(this,e),i=(this.style.removeProperty(e),fi(this,e));return o===i?null:o===n&&i===r?s:s=t(n=o,r=i)}}function ek(e){return function(){this.style.removeProperty(e)}}function rF(e,t,n){var r,s=n+"",o;return function(){var i=fi(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}function sF(e,t,n){var r,s,o;return function(){var i=fi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),fi(this,e))),i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a))}}function oF(e,t){var n,r,s,o="style."+t,i="end."+o,a;return function(){var l=qn(this,e),c=l.on,d=l.value[o]==null?a||(a=ek(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(i,s=d),l.on=r}}function iF(e,t,n){var r=(e+="")=="transform"?i5:ZE;return t==null?this.styleTween(e,nF(e,r)).on("end.style."+e,ek(e)):typeof t=="function"?this.styleTween(e,sF(e,r,n0(this,"style."+e,t))).each(oF(this._id,e)):this.styleTween(e,rF(e,r,t),n).on("end.style."+e,null)}function aF(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function lF(e,t,n){var r,s;function o(){var i=t.apply(this,arguments);return i!==s&&(r=(s=i)&&aF(e,i,n)),r}return o._value=t,o}function cF(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,lF(e,t,n??""))}function uF(e){return function(){this.textContent=e}}function dF(e){return function(){var t=e(this);this.textContent=t??""}}function fF(e){return this.tween("text",typeof e=="function"?dF(n0(this,"text",e)):uF(e==null?"":e+""))}function hF(e){return function(t){this.textContent=e.call(this,t)}}function pF(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&hF(s)),t}return r._value=e,r}function mF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pF(e))}function gF(){for(var e=this._name,t=this._id,n=tk(),r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var d=Cn(l,t);Rd(l,e,n,c,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new xr(r,this._parents,e,n)}function vF(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,i){var a={value:i},l={value:function(){--s===0&&o()}};n.each(function(){var c=qn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&o()})}var yF=0;function xr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function tk(){return++yF}var Jn=Pl.prototype;xr.prototype={constructor:xr,select:J5,selectAll:Z5,selectChild:Jn.selectChild,selectChildren:Jn.selectChildren,filter:W5,merge:G5,selection:tF,transition:gF,call:Jn.call,nodes:Jn.nodes,node:Jn.node,size:Jn.size,empty:Jn.empty,each:Jn.each,on:q5,attr:P5,attrTween:I5,style:iF,styleTween:cF,text:fF,textTween:mF,remove:Q5,tween:_5,delay:$5,duration:z5,ease:U5,easeVarying:V5,end:vF,[Symbol.iterator]:Jn[Symbol.iterator]};function xF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var wF={time:null,delay:0,duration:250,ease:xF};function bF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _F(e){var t,n;e instanceof xr?(t=e._id,e=e._name):(t=tk(),(n=wF).time=e0(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&Rd(l,e,t,c,i,n||bF(l,t));return new xr(r,this._parents,e,t)}Pl.prototype.interrupt=x5;Pl.prototype.transition=_F;const bc=e=>()=>e;function SF(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ar(e,t,n){this.k=e,this.x=t,this.y=n}ar.prototype={constructor:ar,scale:function(e){return e===1?this:new ar(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ar(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Md=new ar(1,0,0);nk.prototype=ar.prototype;function nk(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Md;return e.__zoom}function lh(e){e.stopImmediatePropagation()}function qi(e){e.preventDefault(),e.stopImmediatePropagation()}function EF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function kF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Jy(){return this.__zoom||Md}function CF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function NF(){return navigator.maxTouchPoints||"ontouchstart"in this}function jF(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function rk(){var e=EF,t=kF,n=jF,r=CF,s=NF,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=d5,c=Pd("start","zoom","end"),d,f,p,h=500,b=150,m=0,w=10;function y(S){S.property("__zoom",Jy).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(S,T,j,M){var A=S.selection?S.selection():S;A.property("__zoom",Jy),S!==A?E(S,T,j,M):A.interrupt().each(function(){P(this,arguments).event(M).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},y.scaleBy=function(S,T,j,M){y.scaleTo(S,function(){var A=this.__zoom.k,C=typeof T=="function"?T.apply(this,arguments):T;return A*C},j,M)},y.scaleTo=function(S,T,j,M){y.transform(S,function(){var A=t.apply(this,arguments),C=this.__zoom,D=j==null?_(A):typeof j=="function"?j.apply(this,arguments):j,F=C.invert(D),z=typeof T=="function"?T.apply(this,arguments):T;return n(v(x(C,z),D,F),A,i)},j,M)},y.translateBy=function(S,T,j,M){y.transform(S,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,M)},y.translateTo=function(S,T,j,M,A){y.transform(S,function(){var C=t.apply(this,arguments),D=this.__zoom,F=M==null?_(C):typeof M=="function"?M.apply(this,arguments):M;return n(Md.translate(F[0],F[1]).scale(D.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof j=="function"?-j.apply(this,arguments):-j),C,i)},M,A)};function x(S,T){return T=Math.max(o[0],Math.min(o[1],T)),T===S.k?S:new ar(T,S.x,S.y)}function v(S,T,j){var M=T[0]-j[0]*S.k,A=T[1]-j[1]*S.k;return M===S.x&&A===S.y?S:new ar(S.k,M,A)}function _(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function E(S,T,j,M){S.on("start.zoom",function(){P(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(M).end()}).tween("zoom",function(){var A=this,C=arguments,D=P(A,C).event(M),F=t.apply(A,C),z=j==null?_(F):typeof j=="function"?j.apply(A,C):j,H=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),U=A.__zoom,G=typeof T=="function"?T.apply(A,C):T,K=l(U.invert(z).concat(H/U.k),G.invert(z).concat(H/G.k));return function(B){if(B===1)B=G;else{var V=K(B),J=H/V[2];B=new ar(J,z[0]-V[0]*J,z[1]-V[1]*J)}D.zoom(null,B)}})}function P(S,T,j){return!j&&S.__zooming||new k(S,T)}function k(S,T){this.that=S,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,T),this.taps=0}k.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,T){return this.mouse&&S!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var T=Ft(this.that).datum();c.call(S,this.that,new SF(S,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),T)}};function N(S,...T){if(!e.apply(this,arguments))return;var j=P(this,T).event(S),M=this.__zoom,A=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),C=gn(S);if(j.wheel)(j.mouse[0][0]!==C[0]||j.mouse[0][1]!==C[1])&&(j.mouse[1]=M.invert(j.mouse[0]=C)),clearTimeout(j.wheel);else{if(M.k===A)return;j.mouse=[C,M.invert(C)],Qc(this),j.start()}qi(S),j.wheel=setTimeout(D,b),j.zoom("mouse",n(v(x(M,A),j.mouse[0],j.mouse[1]),j.extent,i));function D(){j.wheel=null,j.end()}}function I(S,...T){if(p||!e.apply(this,arguments))return;var j=S.currentTarget,M=P(this,T,!0).event(S),A=Ft(S.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",H,!0),C=gn(S,j),D=S.clientX,F=S.clientY;zE(S.view),lh(S),M.mouse=[C,this.__zoom.invert(C)],Qc(this),M.start();function z(U){if(qi(U),!M.moved){var G=U.clientX-D,K=U.clientY-F;M.moved=G*G+K*K>m}M.event(U).zoom("mouse",n(v(M.that.__zoom,M.mouse[0]=gn(U,j),M.mouse[1]),M.extent,i))}function H(U){A.on("mousemove.zoom mouseup.zoom",null),BE(U.view,M.moved),qi(U),M.event(U).end()}}function O(S,...T){if(e.apply(this,arguments)){var j=this.__zoom,M=gn(S.changedTouches?S.changedTouches[0]:S,this),A=j.invert(M),C=j.k*(S.shiftKey?.5:2),D=n(v(x(j,C),M,A),t.apply(this,T),i);qi(S),a>0?Ft(this).transition().duration(a).call(E,D,M,S):Ft(this).call(y.transform,D,M,S)}}function L(S,...T){if(e.apply(this,arguments)){var j=S.touches,M=j.length,A=P(this,T,S.changedTouches.length===M).event(S),C,D,F,z;for(lh(S),D=0;D<M;++D)F=j[D],z=gn(F,this),z=[z,this.__zoom.invert(z),F.identifier],A.touch0?!A.touch1&&A.touch0[2]!==z[2]&&(A.touch1=z,A.taps=0):(A.touch0=z,C=!0,A.taps=1+!!d);d&&(d=clearTimeout(d)),C&&(A.taps<2&&(f=z[0],d=setTimeout(function(){d=null},h)),Qc(this),A.start())}}function R(S,...T){if(this.__zooming){var j=P(this,T).event(S),M=S.changedTouches,A=M.length,C,D,F,z;for(qi(S),C=0;C<A;++C)D=M[C],F=gn(D,this),j.touch0&&j.touch0[2]===D.identifier?j.touch0[0]=F:j.touch1&&j.touch1[2]===D.identifier&&(j.touch1[0]=F);if(D=j.that.__zoom,j.touch1){var H=j.touch0[0],U=j.touch0[1],G=j.touch1[0],K=j.touch1[1],B=(B=G[0]-H[0])*B+(B=G[1]-H[1])*B,V=(V=K[0]-U[0])*V+(V=K[1]-U[1])*V;D=x(D,Math.sqrt(B/V)),F=[(H[0]+G[0])/2,(H[1]+G[1])/2],z=[(U[0]+K[0])/2,(U[1]+K[1])/2]}else if(j.touch0)F=j.touch0[0],z=j.touch0[1];else return;j.zoom("touch",n(v(D,F,z),j.extent,i))}}function $(S,...T){if(this.__zooming){var j=P(this,T).event(S),M=S.changedTouches,A=M.length,C,D;for(lh(S),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),C=0;C<A;++C)D=M[C],j.touch0&&j.touch0[2]===D.identifier?delete j.touch0:j.touch1&&j.touch1[2]===D.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(D=gn(D,this),Math.hypot(f[0]-D[0],f[1]-D[1])<w)){var F=Ft(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:bc(+S),y):r},y.filter=function(S){return arguments.length?(e=typeof S=="function"?S:bc(!!S),y):e},y.touchable=function(S){return arguments.length?(s=typeof S=="function"?S:bc(!!S),y):s},y.extent=function(S){return arguments.length?(t=typeof S=="function"?S:bc([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),y):t},y.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],y):[o[0],o[1]]},y.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(S){return arguments.length?(n=S,y):n},y.duration=function(S){return arguments.length?(a=+S,y):a},y.interpolate=function(S){return arguments.length?(l=S,y):l},y.on=function(){var S=c.on.apply(c,arguments);return S===c?y:S},y.clickDistance=function(S){return arguments.length?(m=(S=+S)*S,y):Math.sqrt(m)},y.tapDistance=function(S){return arguments.length?(w=+S,y):w},y}const Gn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Za=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sk=["Enter"," ","Escape"];var pi;(function(e){e.Strict="strict",e.Loose="loose"})(pi||(pi={}));var Ls;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ls||(Ls={}));var el;(function(e){e.Partial="partial",e.Full="full"})(el||(el={}));const ok={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var zr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(zr||(zr={}));var tl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(tl||(tl={}));var re;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(re||(re={}));const Zy={[re.Left]:re.Right,[re.Right]:re.Left,[re.Top]:re.Bottom,[re.Bottom]:re.Top};function ik(e){return e===null?null:e?"valid":"invalid"}const ak=e=>"id"in e&&"source"in e&&"target"in e,PF=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),r0=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Al=(e,t=[0,0])=>{const{width:n,height:r}=_r(e),s=e.origin??t,o=n*s[0],i=r*s[1];return{x:e.position.x-o,y:e.position.y-i}},TF=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const o=typeof s=="string";let i=!t.nodeLookup&&!o?s:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(s):r0(s)?s:t.nodeLookup.get(s.id));const a=i?Bu(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Id(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Od(n)},Rl=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const s=Bu(r);n=Id(n,s)}}),Od(n)},lk=(e,t,[n,r,s]=[0,0,1],o=!1,i=!1)=>{const a={...Ml(t,[n,r,s]),width:t.width/s,height:t.height/s},l=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:p=!1}=c;if(i&&!f||p)continue;const h=d.width??c.width??c.initialWidth??null,b=d.height??c.height??c.initialHeight??null,m=nl(a,gi(c)),w=(h??0)*(b??0),y=o&&m>0;(!c.internals.handleBounds||y||m>=w||c.dragging)&&l.push(c)}return l},AF=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function RF(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function MF({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const a=RF(e,i),l=Rl(a),c=s0(l,t,n,(i==null?void 0:i.minZoom)??s,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await r.setViewport(c,{duration:i==null?void 0:i.duration}),Promise.resolve(!0)}function ck({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:o}){const i=n.get(e),a=i.parentId?n.get(i.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=i.origin??r;let f=s;if(i.extent==="parent"&&!i.expandParent)if(!a)o==null||o("005",Gn.error005());else{const h=a.measured.width,b=a.measured.height;h&&b&&(f=[[l,c],[l+h,c+b]])}else a&&vi(i.extent)&&(f=[[i.extent[0][0]+l,i.extent[0][1]+c],[i.extent[1][0]+l,i.extent[1][1]+c]]);const p=vi(f)?Qs(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",Gn.error015())),{position:{x:p.x-l+(i.measured.width??0)*d[0],y:p.y-c+(i.measured.height??0)*d[1]},positionAbsolute:p}}async function IF({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const o=new Set(e.map(p=>p.id)),i=[];for(const p of n){if(p.deletable===!1)continue;const h=o.has(p.id),b=!h&&p.parentId&&i.find(m=>m.id===p.parentId);(h||b)&&i.push(p)}const a=new Set(t.map(p=>p.id)),l=r.filter(p=>p.deletable!==!1),d=AF(i,l);for(const p of l)a.has(p.id)&&!d.find(b=>b.id===p.id)&&d.push(p);if(!s)return{edges:d,nodes:i};const f=await s({nodes:i,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:i}:{edges:[],nodes:[]}:f}const mi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qs=(e={x:0,y:0},t,n)=>({x:mi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:mi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function uk(e,t,n){const{width:r,height:s}=_r(n),{x:o,y:i}=n.internals.positionAbsolute;return Qs(e,[[o,i],[o+r,i+s]],t)}const ex=(e,t,n)=>e<t?mi(Math.abs(e-t),1,t)/t:e>n?-mi(Math.abs(e-n),1,t)/t:0,dk=(e,t,n=15,r=40)=>{const s=ex(e.x,r,t.width-r)*n,o=ex(e.y,r,t.height-r)*n;return[s,o]},Id=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Yp=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Od=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),gi=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=r0(e)?e.internals.positionAbsolute:Al(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Bu=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=r0(e)?e.internals.positionAbsolute:Al(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},fk=(e,t)=>Od(Id(Yp(e),Yp(t))),nl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},tx=e=>wn(e.width)&&wn(e.height)&&wn(e.x)&&wn(e.y),wn=e=>!isNaN(e)&&isFinite(e),OF=(e,t)=>{},Dd=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ml=({x:e,y:t},[n,r,s],o=!1,i=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return o?Dd(a,i):a},Uu=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function go(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function DF(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=go(e,n),s=go(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=go(e.top??e.y??0,n),s=go(e.bottom??e.y??0,n),o=go(e.left??e.x??0,t),i=go(e.right??e.x??0,t);return{top:r,right:i,bottom:s,left:o,x:o+i,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function $F(e,t,n,r,s,o){const{x:i,y:a}=Uu(e,[t,n,r]),{x:l,y:c}=Uu({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-l,f=o-c;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(f)}}const s0=(e,t,n,r,s,o)=>{const i=DF(o,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,c=Math.min(a,l),d=mi(c,r,s),f=e.x+e.width/2,p=e.y+e.height/2,h=t/2-f*d,b=n/2-p*d,m=$F(e,h,b,d,t,n),w={left:Math.min(m.left-i.left,0),top:Math.min(m.top-i.top,0),right:Math.min(m.right-i.right,0),bottom:Math.min(m.bottom-i.bottom,0)};return{x:h-w.left+w.right,y:b-w.top+w.bottom,zoom:d}},Hu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function vi(e){return e!==void 0&&e!=="parent"}function _r(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function hk(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function pk(e,t={width:0,height:0},n,r,s){const o={...e},i=r.get(n);if(i){const a=i.origin||s;o.x+=i.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function nx(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function LF(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function va(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:o,y:i}=ur(e),a=Ml({x:o-((s==null?void 0:s.left)??0),y:i-((s==null?void 0:s.top)??0)},r),{x:l,y:c}=n?Dd(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const o0=e=>({width:e.offsetWidth,height:e.offsetHeight}),mk=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},FF=["INPUT","SELECT","TEXTAREA"];function gk(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:FF.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const vk=e=>"clientX"in e,ur=(e,t)=>{var o,i;const n=vk(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},rx=(e,t,n,r,s)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...o0(i)}})};function yk({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:a}){const l=e*.125+s*.375+i*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,d=Math.abs(l-e),f=Math.abs(c-t);return[l,c,d,f]}function _c(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function sx({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case re.Left:return[t-_c(t-r,o),n];case re.Right:return[t+_c(r-t,o),n];case re.Top:return[t,n-_c(n-s,o)];case re.Bottom:return[t,n+_c(s-n,o)]}}function xk({sourceX:e,sourceY:t,sourcePosition:n=re.Bottom,targetX:r,targetY:s,targetPosition:o=re.Top,curvature:i=.25}){const[a,l]=sx({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}),[c,d]=sx({pos:o,x1:r,y1:s,x2:e,y2:t,c:i}),[f,p,h,b]=yk({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${l} ${c},${d} ${r},${s}`,f,p,h,b]}function wk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[o,a,s,i]}function zF({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1}){if(!s)return r;const o=n||t.selected||e.selected,i=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(o?i:0)}function BF({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const o=Id(Bu(e),Bu(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return nl(i,Od(o))>0}const UF=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,HF=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),bk=(e,t)=>{if(!e.source||!e.target)return t;let n;return ak(e)?n={...e}:n={...e,id:UF(e)},HF(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function _k({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,i,a]=wk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,i,a]}const ox={[re.Left]:{x:-1,y:0},[re.Right]:{x:1,y:0},[re.Top]:{x:0,y:-1},[re.Bottom]:{x:0,y:1}},VF=({source:e,sourcePosition:t=re.Bottom,target:n})=>t===re.Left||t===re.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ix=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function WF({source:e,sourcePosition:t=re.Bottom,target:n,targetPosition:r=re.Top,center:s,offset:o}){const i=ox[t],a=ox[r],l={x:e.x+i.x*o,y:e.y+i.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},d=VF({source:l,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",p=d[f];let h=[],b,m;const w={x:0,y:0},y={x:0,y:0},[x,v,_,E]=wk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*a[f]===-1){b=s.x??x,m=s.y??v;const k=[{x:b,y:l.y},{x:b,y:c.y}],N=[{x:l.x,y:m},{x:c.x,y:m}];i[f]===p?h=f==="x"?k:N:h=f==="x"?N:k}else{const k=[{x:l.x,y:c.y}],N=[{x:c.x,y:l.y}];if(f==="x"?h=i.x===p?N:k:h=i.y===p?k:N,t===r){const $=Math.abs(e[f]-n[f]);if($<=o){const S=Math.min(o-1,o-$);i[f]===p?w[f]=(l[f]>e[f]?-1:1)*S:y[f]=(c[f]>n[f]?-1:1)*S}}if(t!==r){const $=f==="x"?"y":"x",S=i[f]===a[$],T=l[$]>c[$],j=l[$]<c[$];(i[f]===1&&(!S&&T||S&&j)||i[f]!==1&&(!S&&j||S&&T))&&(h=f==="x"?k:N)}const I={x:l.x+w.x,y:l.y+w.y},O={x:c.x+y.x,y:c.y+y.y},L=Math.max(Math.abs(I.x-h[0].x),Math.abs(O.x-h[0].x)),R=Math.max(Math.abs(I.y-h[0].y),Math.abs(O.y-h[0].y));L>=R?(b=(I.x+O.x)/2,m=h[0].y):(b=h[0].x,m=(I.y+O.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:c.x+y.x,y:c.y+y.y},n],b,m,_,E]}function GF(e,t,n,r){const s=Math.min(ix(e,t)/2,ix(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+s*c},${i}Q ${o},${i} ${o},${i+s*d}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${i+s*l}Q ${o},${i} ${o+s*a},${i}`}function qp({sourceX:e,sourceY:t,sourcePosition:n=re.Bottom,targetX:r,targetY:s,targetPosition:o=re.Top,borderRadius:i=5,centerX:a,centerY:l,offset:c=20}){const[d,f,p,h,b]=WF({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:a,y:l},offset:c});return[d.reduce((w,y,x)=>{let v="";return x>0&&x<d.length-1?v=GF(d[x-1],y,d[x+1],i):v=`${x===0?"M":"L"}${y.x} ${y.y}`,w+=v,w},""),f,p,h,b]}function ax(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function KF(e){var f;const{sourceNode:t,targetNode:n}=e;if(!ax(t)||!ax(n))return null;const r=t.internals.handleBounds||lx(t.handles),s=n.internals.handleBounds||lx(n.handles),o=cx((r==null?void 0:r.source)??[],e.sourceHandle),i=cx(e.connectionMode===pi.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!o||!i)return(f=e.onError)==null||f.call(e,"008",Gn.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||re.Bottom,l=(i==null?void 0:i.position)||re.Top,c=rl(t,o,a),d=rl(n,i,l);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function lx(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function rl(e,t,n=re.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:a}=t??_r(e);if(r)return{x:s+i/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case re.Top:return{x:s+i/2,y:o};case re.Right:return{x:s+i,y:o+a/2};case re.Bottom:return{x:s+i/2,y:o+a};case re.Left:return{x:s,y:o+a/2}}}function cx(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Xp(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function YF(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const o=new Set;return e.reduce((i,a)=>([a.markerStart||r,a.markerEnd||s].forEach(l=>{if(l&&typeof l=="object"){const c=Xp(l,t);o.has(c)||(i.push({id:c,color:l.color||n,...l}),o.add(c))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))}const i0={nodeOrigin:[0,0],nodeExtent:Za,elevateNodesOnSelect:!0,defaults:{}},qF={...i0,checkEquality:!0};function a0(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function XF(e,t,n){const r=a0(i0,n);for(const s of e.values())if(s.parentId)l0(s,e,t,r);else{const o=Al(s,r.nodeOrigin),i=vi(s.extent)?s.extent:r.nodeExtent,a=Qs(o,i,_r(s));s.internals.positionAbsolute=a}}function Qp(e,t,n,r){var l,c;const s=a0(qF,r);let o=e.length>0;const i=new Map(t),a=s!=null&&s.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const d of e){let f=i.get(d.id);if(s.checkEquality&&d===(f==null?void 0:f.internals.userNode))t.set(d.id,f);else{const p=Al(d,s.nodeOrigin),h=vi(d.extent)?d.extent:s.nodeExtent,b=Qs(p,h,_r(d));f={...s.defaults,...d,measured:{width:(l=d.measured)==null?void 0:l.width,height:(c=d.measured)==null?void 0:c.height},internals:{positionAbsolute:b,handleBounds:d.measured?f==null?void 0:f.internals.handleBounds:void 0,z:Sk(d,a),userNode:d}},t.set(d.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),d.parentId&&l0(f,t,n,r)}return o}function QF(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function l0(e,t,n,r){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:i}=a0(i0,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}QF(e,n);const c=s?1e3:0,{x:d,y:f,z:p}=JF(e,l,o,i,c),{positionAbsolute:h}=e.internals,b=d!==h.x||f!==h.y;(b||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:d,y:f}:h,z:p}})}function Sk(e,t){return(wn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function JF(e,t,n,r,s){const{x:o,y:i}=t.internals.positionAbsolute,a=_r(e),l=Al(e,n),c=vi(e.extent)?Qs(l,e.extent,a):l;let d=Qs({x:o+c.x,y:i+c.y},r,a);e.extent==="parent"&&(d=uk(d,a,t));const f=Sk(e,s),p=t.internals.z??0;return{x:d.x,y:d.y,z:p>f?p:f}}function c0(e,t,n,r=[0,0]){var i;const s=[],o=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const c=((i=o.get(a.parentId))==null?void 0:i.expandedRect)??gi(l),d=fk(c,a.rect);o.set(a.parentId,{expandedRect:d,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},c)=>{var v;const d=l.internals.positionAbsolute,f=_r(l),p=l.origin??r,h=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,b=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,m=Math.max(f.width,Math.round(a.width)),w=Math.max(f.height,Math.round(a.height)),y=(m-f.width)*p[0],x=(w-f.height)*p[1];(h>0||b>0||y||x)&&(s.push({id:c,type:"position",position:{x:l.position.x-h+y,y:l.position.y-b+x}}),(v=n.get(c))==null||v.forEach(_=>{e.some(E=>E.id===_.id)||s.push({id:_.id,type:"position",position:{x:_.position.x+h,y:_.position.y+b}})})),(f.width<a.width||f.height<a.height||h||b)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?p[0]*h-y:0),height:w+(b?p[1]*b-x:0)}})}),s}function ZF(e,t,n,r,s,o){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!i)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(i),{m22:d}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const p of e.values()){const h=t.get(p.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const b=o0(p.nodeElement),m=h.measured.width!==b.width||h.measured.height!==b.height;if(!!(b.width&&b.height&&(m||!h.internals.handleBounds||p.force))){const y=p.nodeElement.getBoundingClientRect(),x=vi(h.extent)?h.extent:o;let{positionAbsolute:v}=h.internals;h.parentId&&h.extent==="parent"?v=uk(v,b,t.get(h.parentId)):x&&(v=Qs(v,x,b));const _={...h,measured:b,internals:{...h.internals,positionAbsolute:v,handleBounds:{source:rx("source",p.nodeElement,y,d,h.id),target:rx("target",p.nodeElement,y,d,h.id)}}};t.set(h.id,_),h.parentId&&l0(_,t,n,{nodeOrigin:s}),a=!0,m&&(l.push({id:h.id,type:"dimensions",dimensions:b}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:gi(_,s)}))}}if(f.length>0){const p=c0(f,t,n,s);l.push(...p)}return{changes:l,updatedInternals:a}}async function e6({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,o]],r),a=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(a)}function ux(e,t,n,r,s,o){let i=s;const a=r.get(i)||new Map;r.set(i,a.set(n,t)),i=`${s}-${e}`;const l=r.get(i)||new Map;if(r.set(i,l.set(n,t)),o){i=`${s}-${e}-${o}`;const c=r.get(i)||new Map;r.set(i,c.set(n,t))}}function Ek(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:o,sourceHandle:i=null,targetHandle:a=null}=r,l={edgeId:r.id,source:s,target:o,sourceHandle:i,targetHandle:a},c=`${s}-${i}--${o}-${a}`,d=`${o}-${a}--${s}-${i}`;ux("source",l,d,e,s,i),ux("target",l,c,e,o,a),t.set(r.id,r)}}function kk(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:kk(n,t):!1}function dx(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function t6(e,t,n,r){const s=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!kk(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const a=e.get(o);a&&s.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function ch({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,a,l;const s=[];for(const[c,d]of t){const f=(i=n.get(c))==null?void 0:i.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!e)return[s[0],s];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:s[0],s]}function n6({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let o={x:null,y:null},i=0,a=new Map,l=!1,c={x:0,y:0},d=null,f=!1,p=null,h=!1;function b({noDragClassName:w,handleSelector:y,domNode:x,isSelectable:v,nodeId:_,nodeClickDistance:E=0}){p=Ft(x);function P({x:O,y:L},R){const{nodeLookup:$,nodeExtent:S,snapGrid:T,snapToGrid:j,nodeOrigin:M,onNodeDrag:A,onSelectionDrag:C,onError:D,updateNodePositions:F}=t();o={x:O,y:L};let z=!1,H={x:0,y:0,x2:0,y2:0};if(a.size>1&&S){const U=Rl(a);H=Yp(U)}for(const[U,G]of a){if(!$.has(U))continue;let K={x:O-G.distance.x,y:L-G.distance.y};j&&(K=Dd(K,T));let B=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];if(a.size>1&&S&&!G.extent){const{positionAbsolute:ee}=G.internals,Q=ee.x-H.x+S[0][0],q=ee.x+G.measured.width-H.x2+S[1][0],ie=ee.y-H.y+S[0][1],ae=ee.y+G.measured.height-H.y2+S[1][1];B=[[Q,ie],[q,ae]]}const{position:V,positionAbsolute:J}=ck({nodeId:U,nextPosition:K,nodeLookup:$,nodeExtent:B,nodeOrigin:M,onError:D});z=z||G.position.x!==V.x||G.position.y!==V.y,G.position=V,G.internals.positionAbsolute=J}if(z&&(F(a,!0),R&&(r||A||!_&&C))){const[U,G]=ch({nodeId:_,dragItems:a,nodeLookup:$});r==null||r(R,a,U,G),A==null||A(R,U,G),_||C==null||C(R,G)}}async function k(){if(!d)return;const{transform:O,panBy:L,autoPanSpeed:R,autoPanOnNodeDrag:$}=t();if(!$){l=!1,cancelAnimationFrame(i);return}const[S,T]=dk(c,d,R);(S!==0||T!==0)&&(o.x=(o.x??0)-S/O[2],o.y=(o.y??0)-T/O[2],await L({x:S,y:T})&&P(o,null)),i=requestAnimationFrame(k)}function N(O){var z;const{nodeLookup:L,multiSelectionActive:R,nodesDraggable:$,transform:S,snapGrid:T,snapToGrid:j,selectNodesOnDrag:M,onNodeDragStart:A,onSelectionDragStart:C,unselectNodesAndEdges:D}=t();f=!0,(!M||!v)&&!R&&_&&((z=L.get(_))!=null&&z.selected||D()),v&&M&&_&&(e==null||e(_));const F=va(O.sourceEvent,{transform:S,snapGrid:T,snapToGrid:j,containerBounds:d});if(o=F,a=t6(L,$,F,_),a.size>0&&(n||A||!_&&C)){const[H,U]=ch({nodeId:_,dragItems:a,nodeLookup:L});n==null||n(O.sourceEvent,a,H,U),A==null||A(O.sourceEvent,H,U),_||C==null||C(O.sourceEvent,U)}}const I=UE().clickDistance(E).on("start",O=>{const{domNode:L,nodeDragThreshold:R,transform:$,snapGrid:S,snapToGrid:T}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,h=!1,R===0&&N(O),o=va(O.sourceEvent,{transform:$,snapGrid:S,snapToGrid:T,containerBounds:d}),c=ur(O.sourceEvent,d)}).on("drag",O=>{const{autoPanOnNodeDrag:L,transform:R,snapGrid:$,snapToGrid:S,nodeDragThreshold:T,nodeLookup:j}=t(),M=va(O.sourceEvent,{transform:R,snapGrid:$,snapToGrid:S,containerBounds:d});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||_&&!j.has(_))&&(h=!0),!h){if(!l&&L&&f&&(l=!0,k()),!f){const A=M.xSnapped-(o.x??0),C=M.ySnapped-(o.y??0);Math.sqrt(A*A+C*C)>T&&N(O)}(o.x!==M.xSnapped||o.y!==M.ySnapped)&&a&&f&&(c=ur(O.sourceEvent,d),P(M,O.sourceEvent))}}).on("end",O=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(i),a.size>0)){const{nodeLookup:L,updateNodePositions:R,onNodeDragStop:$,onSelectionDragStop:S}=t();if(R(a,!1),s||$||!_&&S){const[T,j]=ch({nodeId:_,dragItems:a,nodeLookup:L,dragging:!1});s==null||s(O.sourceEvent,a,T,j),$==null||$(O.sourceEvent,T,j),_||S==null||S(O.sourceEvent,j)}}}).filter(O=>{const L=O.target;return!O.button&&(!w||!dx(L,`.${w}`,x))&&(!y||dx(L,y,x))});p.call(I)}function m(){p==null||p.on(".drag",null)}return{update:b,destroy:m}}function r6(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())nl(s,gi(o))>0&&r.push(o);return r}const s6=250;function o6(e,t,n,r){var a,l;let s=[],o=1/0;const i=r6(e,n,t+s6);for(const c of i){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:h}=rl(c,f,f.position,!0),b=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(h-e.y,2));b>t||(b<o?(s=[{...f,x:p,y:h}],o=b):b===o&&s.push({...f,x:p,y:h}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(d=>d.type===c)??s[0]}return s[0]}function Ck(e,t,n,r,s,o=!1){var c,d,f;const i=r.get(e);if(!i)return null;const a=s==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((d=i.internals.handleBounds)==null?void 0:d.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...rl(i,l,l.position,!0)}:l}function Nk(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function i6(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const jk=()=>!0;function a6(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:o,isTarget:i,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:d,flowId:f,panBy:p,cancelConnection:h,onConnectStart:b,onConnect:m,onConnectEnd:w,isValidConnection:y=jk,onReconnectEnd:x,updateConnection:v,getTransform:_,getFromHandle:E,autoPanSpeed:P}){const k=mk(e.target);let N=0,I;const{x:O,y:L}=ur(e),R=k==null?void 0:k.elementFromPoint(O,L),$=Nk(o,R),S=a==null?void 0:a.getBoundingClientRect();if(!S||!$)return;const T=Ck(s,$,r,l,t);if(!T)return;let j=ur(e,S),M=!1,A=null,C=!1,D=null;function F(){if(!d||!S)return;const[J,ee]=dk(j,S,P);p({x:J,y:ee}),N=requestAnimationFrame(F)}const z={...T,nodeId:s,type:$,position:T.position},H=l.get(s),G={inProgress:!0,isValid:null,from:rl(H,z,re.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:H,to:j,toHandle:null,toPosition:Zy[z.position],toNode:null};v(G);let K=G;b==null||b(e,{nodeId:s,handleId:r,handleType:$});function B(J){if(!E()||!z){V(J);return}const ee=_();j=ur(J,S),I=o6(Ml(j,ee,!1,[1,1]),n,l,z),M||(F(),M=!0);const Q=Pk(J,{handle:I,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:i?"target":"source",isValidConnection:y,doc:k,lib:c,flowId:f,nodeLookup:l});D=Q.handleDomNode,A=Q.connection,C=i6(!!I,Q.isValid);const q={...K,isValid:C,to:Q.toHandle&&C?Uu({x:Q.toHandle.x,y:Q.toHandle.y},ee):j,toHandle:Q.toHandle,toPosition:C&&Q.toHandle?Q.toHandle.position:Zy[z.position],toNode:Q.toHandle?l.get(Q.toHandle.nodeId):null};C&&I&&K.toHandle&&q.toHandle&&K.toHandle.type===q.toHandle.type&&K.toHandle.nodeId===q.toHandle.nodeId&&K.toHandle.id===q.toHandle.id&&K.to.x===q.to.x&&K.to.y===q.to.y||(v(q),K=q)}function V(J){(I||D)&&A&&C&&(m==null||m(A));const{inProgress:ee,...Q}=K,q={...Q,toPosition:K.toHandle?K.toPosition:null};w==null||w(J,q),o&&(x==null||x(J,q)),h(),cancelAnimationFrame(N),M=!1,C=!1,A=null,D=null,k.removeEventListener("mousemove",B),k.removeEventListener("mouseup",V),k.removeEventListener("touchmove",B),k.removeEventListener("touchend",V)}k.addEventListener("mousemove",B),k.addEventListener("mouseup",V),k.addEventListener("touchmove",B),k.addEventListener("touchend",V)}function Pk(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:o,doc:i,lib:a,flowId:l,isValidConnection:c=jk,nodeLookup:d}){const f=o==="target",p=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:b}=ur(e),m=i.elementFromPoint(h,b),w=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:p,y={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const x=Nk(void 0,w),v=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),E=w.classList.contains("connectable"),P=w.classList.contains("connectableend");if(!v||!x)return y;const k={source:f?v:r,sourceHandle:f?_:s,target:f?r:v,targetHandle:f?s:_};y.connection=k;const I=E&&P&&(n===pi.Strict?f&&x==="source"||!f&&x==="target":v!==r||_!==s);y.isValid=I&&c(k),y.toHandle=Ck(v,x,_,d,n,!0)}return y}const Jp={onPointerDown:a6,isValid:Pk};function l6({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Ft(e);function o({translateExtent:a,width:l,height:c,zoomStep:d=10,pannable:f=!0,zoomable:p=!0,inversePan:h=!1}){const b=v=>{const _=n();if(v.sourceEvent.type!=="wheel"||!t)return;const E=-v.sourceEvent.deltaY*(v.sourceEvent.deltaMode===1?.05:v.sourceEvent.deltaMode?1:.002)*d,P=_[2]*Math.pow(2,E);t.scaleTo(P)};let m=[0,0];const w=v=>{(v.sourceEvent.type==="mousedown"||v.sourceEvent.type==="touchstart")&&(m=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY])},y=v=>{const _=n();if(v.sourceEvent.type!=="mousemove"&&v.sourceEvent.type!=="touchmove"||!t)return;const E=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY],P=[E[0]-m[0],E[1]-m[1]];m=E;const k=r()*Math.max(_[2],Math.log(_[2]))*(h?-1:1),N={x:_[0]-P[0]*k,y:_[1]-P[1]*k},I=[[0,0],[l,c]];t.setViewportConstrained({x:N.x,y:N.y,zoom:_[2]},I,a)},x=rk().on("start",w).on("zoom",f?y:null).on("zoom.wheel",p?b:null);s.call(x,{})}function i(){s.on("zoom",null)}return{update:o,destroy:i,pointer:gn}}const c6=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,$d=e=>({x:e.x,y:e.y,zoom:e.k}),uh=({x:e,y:t,zoom:n})=>Md.translate(e,t).scale(n),Mo=(e,t)=>e.target.closest(`.${t}`),Tk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),dh=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Ak=e=>{const t=e.ctrlKey&&Hu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function u6({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return d=>{if(Mo(d,t))return!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&i){const w=gn(d),y=Ak(d),x=f*Math.pow(2,y);r.scaleTo(n,x,w,d);return}const p=d.deltaMode===1?20:1;let h=s===Ls.Vertical?0:d.deltaX*p,b=s===Ls.Horizontal?0:d.deltaY*p;!Hu()&&d.shiftKey&&s!==Ls.Vertical&&(h=d.deltaY*p,b=0),r.translateBy(n,-(h/f)*o,-(b/f)*o,{internal:!0});const m=$d(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(d,m)),e.isPanScrolling&&(l==null||l(d,m),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,m),e.isPanScrolling=!1},150))}}function d6({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,a=Mo(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),i||a)return null;r.preventDefault(),n.call(this,r,s)}}function f6({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,i,a;if((o=r.sourceEvent)!=null&&o.internal)return;const s=$d(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function h6({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return o=>{var i,a;e.usedRightMouseButton=!!(n&&Tk(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||r([o.transform.x,o.transform.y,o.transform.k]),s&&!((a=o.sourceEvent)!=null&&a.internal)&&(s==null||s(o.sourceEvent,$d(o.transform)))}}function p6({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:o}){return i=>{var a;if(!((a=i.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Tk(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),s&&c6(e.prevViewport,i.transform))){const l=$d(i.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(i.sourceEvent,l)},n?150:0)}}}function m6({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:a,noPanClassName:l,lib:c}){return d=>{var b;const f=e||t,p=n&&d.ctrlKey;if(d.button===1&&d.type==="mousedown"&&(Mo(d,`${c}-flow__node`)||Mo(d,`${c}-flow__edge`)))return!0;if(!r&&!f&&!s&&!o&&!n||i||Mo(d,a)&&d.type==="wheel"||Mo(d,l)&&(d.type!=="wheel"||s&&d.type==="wheel"&&!e)||!n&&d.ctrlKey&&d.type==="wheel")return!1;if(!n&&d.type==="touchstart"&&((b=d.touches)==null?void 0:b.length)>1)return d.preventDefault(),!1;if(!f&&!s&&!p&&d.type==="wheel"||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||d.type==="wheel")&&h}}function g6({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:s,viewport:o,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),p=rk().clickDistance(!wn(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(s),h=Ft(e).call(p);v({x:o.x,y:o.y,zoom:mi(o.zoom,t,n)},[[0,0],[f.width,f.height]],s);const b=h.on("wheel.zoom"),m=h.on("dblclick.zoom");p.wheelDelta(Ak);function w(R,$){return h?new Promise(S=>{p==null||p.transform(dh(h,$==null?void 0:$.duration,()=>S(!0)),R)}):Promise.resolve(!1)}function y({noWheelClassName:R,noPanClassName:$,onPaneContextMenu:S,userSelectionActive:T,panOnScroll:j,panOnDrag:M,panOnScrollMode:A,panOnScrollSpeed:C,preventScrolling:D,zoomOnPinch:F,zoomOnScroll:z,zoomOnDoubleClick:H,zoomActivationKeyPressed:U,lib:G,onTransformChange:K}){T&&!d.isZoomingOrPanning&&x();const V=j&&!U&&!T?u6({zoomPanValues:d,noWheelClassName:R,d3Selection:h,d3Zoom:p,panOnScrollMode:A,panOnScrollSpeed:C,zoomOnPinch:F,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:l}):d6({noWheelClassName:R,preventScrolling:D,d3ZoomHandler:b});if(h.on("wheel.zoom",V,{passive:!1}),!T){const ee=f6({zoomPanValues:d,onDraggingChange:c,onPanZoomStart:a});p.on("start",ee);const Q=h6({zoomPanValues:d,panOnDrag:M,onPaneContextMenu:!!S,onPanZoom:i,onTransformChange:K});p.on("zoom",Q);const q=p6({zoomPanValues:d,panOnDrag:M,panOnScroll:j,onPaneContextMenu:S,onPanZoomEnd:l,onDraggingChange:c});p.on("end",q)}const J=m6({zoomActivationKeyPressed:U,panOnDrag:M,zoomOnScroll:z,panOnScroll:j,zoomOnDoubleClick:H,zoomOnPinch:F,userSelectionActive:T,noPanClassName:$,noWheelClassName:R,lib:G});p.filter(J),H?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)}function x(){p.on("zoom",null)}async function v(R,$,S){const T=uh(R),j=p==null?void 0:p.constrain()(T,$,S);return j&&await w(j),new Promise(M=>M(j))}async function _(R,$){const S=uh(R);return await w(S,$),new Promise(T=>T(S))}function E(R){if(h){const $=uh(R),S=h.property("__zoom");(S.k!==R.zoom||S.x!==R.x||S.y!==R.y)&&(p==null||p.transform(h,$,null,{sync:!0}))}}function P(){const R=h?nk(h.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function k(R,$){return h?new Promise(S=>{p==null||p.scaleTo(dh(h,$==null?void 0:$.duration,()=>S(!0)),R)}):Promise.resolve(!1)}function N(R,$){return h?new Promise(S=>{p==null||p.scaleBy(dh(h,$==null?void 0:$.duration,()=>S(!0)),R)}):Promise.resolve(!1)}function I(R){p==null||p.scaleExtent(R)}function O(R){p==null||p.translateExtent(R)}function L(R){const $=!wn(R)||R<0?0:R;p==null||p.clickDistance($)}return{update:y,destroy:x,setViewport:_,setViewportConstrained:v,getViewport:P,scaleTo:k,scaleBy:N,setScaleExtent:I,setTranslateExtent:O,syncViewport:E,setClickDistance:L}}var ya;(function(e){e.Line="line",e.Handle="handle"})(ya||(ya={}));function v6({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:o}){const i=e-t,a=n-r,l=[i>0?1:i<0?-1:0,a>0?1:a<0?-1:0];return i&&s&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function y6(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function jr(e,t){return Math.max(0,t-e)}function Pr(e,t){return Math.max(0,e-t)}function Sc(e,t,n){return Math.max(0,t-e,e-n)}function fx(e,t){return e?!t:t}function x6(e,t,n,r,s,o,i,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,p=d&&f,{xSnapped:h,ySnapped:b}=n,{minWidth:m,maxWidth:w,minHeight:y,maxHeight:x}=r,{x:v,y:_,width:E,height:P,aspectRatio:k}=e;let N=Math.floor(d?h-e.pointerX:0),I=Math.floor(f?b-e.pointerY:0);const O=E+(l?-N:N),L=P+(c?-I:I),R=-o[0]*E,$=-o[1]*P;let S=Sc(O,m,w),T=Sc(L,y,x);if(i){let A=0,C=0;l&&N<0?A=jr(v+N+R,i[0][0]):!l&&N>0&&(A=Pr(v+O+R,i[1][0])),c&&I<0?C=jr(_+I+$,i[0][1]):!c&&I>0&&(C=Pr(_+L+$,i[1][1])),S=Math.max(S,A),T=Math.max(T,C)}if(a){let A=0,C=0;l&&N>0?A=Pr(v+N,a[0][0]):!l&&N<0&&(A=jr(v+O,a[1][0])),c&&I>0?C=Pr(_+I,a[0][1]):!c&&I<0&&(C=jr(_+L,a[1][1])),S=Math.max(S,A),T=Math.max(T,C)}if(s){if(d){const A=Sc(O/k,y,x)*k;if(S=Math.max(S,A),i){let C=0;!l&&!c||l&&!c&&p?C=Pr(_+$+O/k,i[1][1])*k:C=jr(_+$+(l?N:-N)/k,i[0][1])*k,S=Math.max(S,C)}if(a){let C=0;!l&&!c||l&&!c&&p?C=jr(_+O/k,a[1][1])*k:C=Pr(_+(l?N:-N)/k,a[0][1])*k,S=Math.max(S,C)}}if(f){const A=Sc(L*k,m,w)/k;if(T=Math.max(T,A),i){let C=0;!l&&!c||c&&!l&&p?C=Pr(v+L*k+R,i[1][0])/k:C=jr(v+(c?I:-I)*k+R,i[0][0])/k,T=Math.max(T,C)}if(a){let C=0;!l&&!c||c&&!l&&p?C=jr(v+L*k,a[1][0])/k:C=Pr(v+(c?I:-I)*k,a[0][0])/k,T=Math.max(T,C)}}}I=I+(I<0?T:-T),N=N+(N<0?S:-S),s&&(p?O>L*k?I=(fx(l,c)?-N:N)/k:N=(fx(l,c)?-I:I)*k:d?(I=N/k,c=l):(N=I*k,l=c));const j=l?v+N:v,M=c?_+I:_;return{width:E+(l?-N:N),height:P+(c?-I:I),x:o[0]*N*(l?-1:1)+j,y:o[1]*I*(c?-1:1)+M}}const Rk={width:0,height:0,x:0,y:0},w6={...Rk,pointerX:0,pointerY:0,aspectRatio:1};function b6(e){return[[0,0],[e.measured.width,e.measured.height]]}function _6(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,a=n[0]*o,l=n[1]*i;return[[r-a,s-l],[r+o-a,s+i-l]]}function S6({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const o=Ft(e);function i({controlPosition:l,boundaries:c,keepAspectRatio:d,resizeDirection:f,onResizeStart:p,onResize:h,onResizeEnd:b,shouldResize:m}){let w={...Rk},y={...w6};const x=y6(l);let v,_=null,E=[],P,k,N;const I=UE().on("start",O=>{const{nodeLookup:L,transform:R,snapGrid:$,snapToGrid:S,nodeOrigin:T,paneDomNode:j}=n();if(v=L.get(t),!v)return;_=(j==null?void 0:j.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:A}=va(O.sourceEvent,{transform:R,snapGrid:$,snapToGrid:S,containerBounds:_});w={width:v.measured.width??0,height:v.measured.height??0,x:v.position.x??0,y:v.position.y??0},y={...w,pointerX:M,pointerY:A,aspectRatio:w.width/w.height},P=void 0,v.parentId&&(v.extent==="parent"||v.expandParent)&&(P=L.get(v.parentId),k=P&&v.extent==="parent"?b6(P):void 0),E=[],N=void 0;for(const[C,D]of L)if(D.parentId===t&&(E.push({id:C,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const F=_6(D,v,D.origin??T);N?N=[[Math.min(F[0][0],N[0][0]),Math.min(F[0][1],N[0][1])],[Math.max(F[1][0],N[1][0]),Math.max(F[1][1],N[1][1])]]:N=F}p==null||p(O,{...w})}).on("drag",O=>{const{transform:L,snapGrid:R,snapToGrid:$,nodeOrigin:S}=n(),T=va(O.sourceEvent,{transform:L,snapGrid:R,snapToGrid:$,containerBounds:_}),j=[];if(!v)return;const{x:M,y:A,width:C,height:D}=w,F={},z=v.origin??S,{width:H,height:U,x:G,y:K}=x6(y,x,T,c,d,z,k,N),B=H!==C,V=U!==D,J=G!==M&&B,ee=K!==A&&V;if(!J&&!ee&&!B&&!V)return;if((J||ee||z[0]===1||z[1]===1)&&(F.x=J?G:w.x,F.y=ee?K:w.y,w.x=F.x,w.y=F.y,E.length>0)){const ae=G-M,Se=K-A;for(const ke of E)ke.position={x:ke.position.x-ae+z[0]*(H-C),y:ke.position.y-Se+z[1]*(U-D)},j.push(ke)}if((B||V)&&(F.width=B&&(!f||f==="horizontal")?H:w.width,F.height=V&&(!f||f==="vertical")?U:w.height,w.width=F.width,w.height=F.height),P&&v.expandParent){const ae=z[0]*(F.width??0);F.x&&F.x<ae&&(w.x=ae,y.x=y.x-(F.x-ae));const Se=z[1]*(F.height??0);F.y&&F.y<Se&&(w.y=Se,y.y=y.y-(F.y-Se))}const Q=v6({width:w.width,prevWidth:C,height:w.height,prevHeight:D,affectsX:x.affectsX,affectsY:x.affectsY}),q={...w,direction:Q};(m==null?void 0:m(O,q))!==!1&&(h==null||h(O,q),r(F,j))}).on("end",O=>{b==null||b(O,{...w}),s==null||s({...w})});o.call(I)}function a(){o.on(".drag",null)}return{update:i,destroy:a}}var Mk={exports:{}},Ik={},Ok={exports:{}},Dk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=g;function E6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k6=typeof Object.is=="function"?Object.is:E6,C6=yi.useState,N6=yi.useEffect,j6=yi.useLayoutEffect,P6=yi.useDebugValue;function T6(e,t){var n=t(),r=C6({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return j6(function(){s.value=n,s.getSnapshot=t,fh(s)&&o({inst:s})},[e,n,t]),N6(function(){return fh(s)&&o({inst:s}),e(function(){fh(s)&&o({inst:s})})},[e]),P6(n),n}function fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k6(e,n)}catch{return!0}}function A6(e,t){return t()}var R6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A6:T6;Dk.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:R6;Ok.exports=Dk;var M6=Ok.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld=g,I6=M6;function O6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D6=typeof Object.is=="function"?Object.is:O6,$6=I6.useSyncExternalStore,L6=Ld.useRef,F6=Ld.useEffect,z6=Ld.useMemo,B6=Ld.useDebugValue;Ik.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=L6(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=z6(function(){function l(h){if(!c){if(c=!0,d=h,h=r(h),s!==void 0&&i.hasValue){var b=i.value;if(s(b,h))return f=b}return f=h}if(b=f,D6(d,h))return b;var m=r(h);return s!==void 0&&s(b,m)?(d=h,b):(d=h,f=m)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,s]);var a=$6(e,o[0],o[1]);return F6(function(){i.hasValue=!0,i.value=a},[a]),B6(a),a};Mk.exports=Ik;var U6=Mk.exports;const H6=gm(U6),V6={},hx=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const h=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(V6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},W6=e=>e?hx(e):hx,{useDebugValue:G6}=X,{useSyncExternalStoreWithSelector:K6}=H6,Y6=e=>e;function $k(e,t=Y6,n){const r=K6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return G6(r),r}const px=(e,t)=>{const n=W6(e),r=(s,o=t)=>$k(n,s,o);return Object.assign(r,n),r},q6=(e,t)=>e?px(e,t):px;function Be(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Fd=g.createContext(null),X6=Fd.Provider,Lk=Gn.error001();function xe(e,t){const n=g.useContext(Fd);if(n===null)throw new Error(Lk);return $k(n,e,t)}function Oe(){const e=g.useContext(Fd);if(e===null)throw new Error(Lk);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const mx={display:"none"},Q6={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Fk="react-flow__node-desc",zk="react-flow__edge-desc",J6="react-flow__aria-live",Z6=e=>e.ariaLiveMessage;function ez({rfId:e}){const t=xe(Z6);return u.jsx("div",{id:`${J6}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Q6,children:t})}function tz({rfId:e,disableKeyboardA11y:t}){return u.jsxs(u.Fragment,{children:[u.jsxs("div",{id:`${Fk}-${e}`,style:mx,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),u.jsx("div",{id:`${zk}-${e}`,style:mx,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&u.jsx(ez,{rfId:e})]})}const nz=e=>e.userSelectionActive?"none":"all",zd=g.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},o)=>{const i=xe(nz),a=`${e}`.split("-");return u.jsx("div",{className:Ge(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},ref:o,...s,children:t})});zd.displayName="Panel";function rz({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(zd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const sz=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Ec=e=>e.id;function oz(e,t){return Be(e.selectedNodes.map(Ec),t.selectedNodes.map(Ec))&&Be(e.selectedEdges.map(Ec),t.selectedEdges.map(Ec))}function iz({onSelectionChange:e}){const t=Oe(),{selectedNodes:n,selectedEdges:r}=xe(sz,oz);return g.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(o=>o(s))},[n,r,e]),null}const az=e=>!!e.onSelectionChangeHandlers;function lz({onSelectionChange:e}){const t=xe(az);return e||t?u.jsx(iz,{onSelectionChange:e}):null}const Bk=[0,0],cz={x:0,y:0,zoom:1},uz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],gx=[...uz,"rfId"],dz=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),vx={translateExtent:Za,nodeOrigin:Bk,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function fz(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:o,setNodeExtent:i,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=xe(dz,Be),d=Oe();g.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=vx,a()}),[]);const f=g.useRef(vx);return g.useEffect(()=>{for(const p of gx){const h=e[p],b=f.current[p];h!==b&&(typeof e[p]>"u"||(p==="nodes"?t(h):p==="edges"?n(h):p==="minZoom"?r(h):p==="maxZoom"?s(h):p==="translateExtent"?o(h):p==="nodeExtent"?i(h):p==="paneClickDistance"?c(h):p==="fitView"?d.setState({fitViewQueued:h}):p==="fitViewOptions"?d.setState({fitViewOptions:h}):d.setState({[p]:h})))}f.current=e},gx.map(p=>e[p])),null}function yx(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hz(e){var r;const[t,n]=g.useState(e==="system"?null:e);return g.useEffect(()=>{if(e!=="system"){n(e);return}const s=yx(),o=()=>n(s!=null&&s.matches?"dark":"light");return o(),s==null||s.addEventListener("change",o),()=>{s==null||s.removeEventListener("change",o)}},[e]),t!==null?t:(r=yx())!=null&&r.matches?"dark":"light"}const xx=typeof document<"u"?document:null;function sl(e=null,t={target:xx,actInsideInputWithModifier:!0}){const[n,r]=g.useState(!1),s=g.useRef(!1),o=g.useRef(new Set([])),[i,a]=g.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,p)=>f.concat(...p),[]);return[c,d]}return[[],[]]},[e]);return g.useEffect(()=>{const l=(t==null?void 0:t.target)??xx,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=h=>{var w,y;if(s.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!s.current||s.current&&!c)&&gk(h))return!1;const m=bx(h.code,a);if(o.current.add(h[m]),wx(i,o.current,!1)){const x=((y=(w=h.composedPath)==null?void 0:w.call(h))==null?void 0:y[0])||h.target,v=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(s.current||!v)&&h.preventDefault(),r(!0)}},f=h=>{const b=bx(h.code,a);wx(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[b]),h.key==="Meta"&&o.current.clear(),s.current=!1},p=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",d),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{l==null||l.removeEventListener("keydown",d),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function wx(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function bx(e,t){return t.includes(e)?"code":"key"}const pz=()=>{const e=Oe();return g.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:s,height:o,maxZoom:i,panZoom:a}=e.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:i,c=s/2-t*l,d=o/2-n*l;return a?(await a.setViewport({x:c,y:d,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:o,maxZoom:i,panZoom:a}=e.getState(),l=s0(t,r,s,o,i,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:a,y:l}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},d=n.snapGrid??s,f=n.snapToGrid??o;return Ml(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:o}=r.getBoundingClientRect(),i=Uu(t,n);return{x:i.x+s,y:i.y+o}}}),[])};function Uk(e,t){const n=[],r=new Map,s=[];for(const o of e)if(o.type==="add"){s.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){n.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const a={...o};for(const l of i)mz(l,a);n.push(a)}return s.length&&s.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function mz(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Hk(e,t){return Uk(e,t)}function Vk(e,t){return Uk(e,t)}function bs(e,t){return{id:e,type:"select",selected:t}}function Io(e,t=new Set,n=!1){const r=[];for(const[s,o]of e){const i=t.has(s);!(o.selected===void 0&&!i)&&o.selected!==i&&(n&&(o.selected=i),r.push(bs(o.id,i)))}return r}function _x({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const a=t.get(i.id),l=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;l!==void 0&&l!==i&&n.push({id:i.id,item:i,type:"replace"}),l===void 0&&n.push({item:i,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function Sx(e){return{id:e.id,type:"remove"}}const Ex=e=>PF(e),gz=e=>ak(e);function Wk(e){return g.forwardRef(e)}const vz=typeof window<"u"?g.useLayoutEffect:g.useEffect;function kx(e){const[t,n]=g.useState(BigInt(0)),[r]=g.useState(()=>yz(()=>n(s=>s+BigInt(1))));return vz(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function yz(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Gk=g.createContext(null);function xz({children:e}){const t=Oe(),n=g.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:p,fitViewQueued:h}=t.getState();let b=l;for(const w of a)b=typeof w=="function"?w(b):w;const m=_x({items:b,lookup:p});d&&c(b),m.length>0?f==null||f(m):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:y,setNodes:x}=t.getState();w&&x(y)})},[]),r=kx(n),s=g.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:p}=t.getState();let h=l;for(const b of a)h=typeof b=="function"?b(h):b;d?c(h):f&&f(_x({items:h,lookup:p}))},[]),o=kx(s),i=g.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return u.jsx(Gk.Provider,{value:i,children:e})}function wz(){const e=g.useContext(Gk);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const bz=e=>!!e.panZoom;function Bd(){const e=pz(),t=Oe(),n=wz(),r=xe(bz),s=g.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),i=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{var y,x;const{nodeLookup:p,nodeOrigin:h}=t.getState(),b=Ex(f)?f:p.get(f.id),m=b.parentId?pk(b.position,b.measured,b.parentId,p,h):b.position,w={...b,position:m,width:((y=b.measured)==null?void 0:y.width)??b.width,height:((x=b.measured)==null?void 0:x.height)??b.height};return gi(w)},c=(f,p,h={replace:!1})=>{i(b=>b.map(m=>{if(m.id===f){const w=typeof p=="function"?p(m):p;return h.replace&&Ex(w)?w:{...m,...w}}return m}))},d=(f,p,h={replace:!1})=>{a(b=>b.map(m=>{if(m.id===f){const w=typeof p=="function"?p(m):p;return h.replace&&gz(w)?w:{...m,...w}}return m}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var p;return(p=o(f))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(p=>({...p}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:a,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:h}=t.getState(),[b,m,w]=h;return{nodes:f.map(y=>({...y})),edges:p.map(y=>({...y})),viewport:{x:b,y:m,zoom:w}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:h,edges:b,onNodesDelete:m,onEdgesDelete:w,triggerNodeChanges:y,triggerEdgeChanges:x,onDelete:v,onBeforeDelete:_}=t.getState(),{nodes:E,edges:P}=await IF({nodesToRemove:f,edgesToRemove:p,nodes:h,edges:b,onBeforeDelete:_}),k=P.length>0,N=E.length>0;if(k){const I=P.map(Sx);w==null||w(P),x(I)}if(N){const I=E.map(Sx);m==null||m(E),y(I)}return(N||k)&&(v==null||v({nodes:E,edges:P})),{deletedNodes:E,deletedEdges:P}},getIntersectingNodes:(f,p=!0,h)=>{const b=tx(f),m=b?f:l(f),w=h!==void 0;return m?(h||t.getState().nodes).filter(y=>{const x=t.getState().nodeLookup.get(y.id);if(x&&!b&&(y.id===f.id||!x.internals.positionAbsolute))return!1;const v=gi(w?y:x),_=nl(v,m);return p&&_>0||_>=m.width*m.height}):[]},isNodeIntersecting:(f,p,h=!0)=>{const m=tx(f)?f:l(f);if(!m)return!1;const w=nl(m,p);return h&&w>0||w>=m.width*m.height},updateNode:c,updateNodeData:(f,p,h={replace:!1})=>{c(f,b=>{const m=typeof p=="function"?p(b):p;return h.replace?{...b,data:m}:{...b,data:{...b.data,...m}}},h)},updateEdge:d,updateEdgeData:(f,p,h={replace:!1})=>{d(f,b=>{const m=typeof p=="function"?p(b):p;return h.replace?{...b,data:m}:{...b,data:{...b.data,...m}}},h)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:h}=t.getState();return TF(f,{nodeLookup:p,nodeOrigin:h})},getHandleConnections:({type:f,id:p,nodeId:h})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${h}-${f}${p?`-${p}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:f,handleId:p,nodeId:h})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${h}${f?p?`-${f}-${p}`:`-${f}`:""}`))==null?void 0:b.values())??[])},fitView:async f=>{const p=t.getState().fitViewResolver??LF();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:p}),n.nodeQueue.push(h=>[...h]),p.promise}}},[]);return g.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const Cx=e=>e.selected,_z=typeof window<"u"?window:void 0;function Sz({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Oe(),{deleteElements:r}=Bd(),s=sl(e,{actInsideInputWithModifier:!1}),o=sl(t,{target:_z});g.useEffect(()=>{if(s){const{edges:i,nodes:a}=n.getState();r({nodes:a.filter(Cx),edges:i.filter(Cx)}),n.setState({nodesSelectionActive:!1})}},[s]),g.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Ez(e){const t=Oe();g.useEffect(()=>{const n=()=>{var s,o;if(!e.current)return!1;const r=o0(e.current);(r.height===0||r.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Gn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ud={position:"absolute",width:"100%",height:"100%",top:0,left:0},kz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Cz({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:o=Ls.Free,zoomOnDoubleClick:i=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:h=!0,children:b,noWheelClassName:m,noPanClassName:w,onViewportChange:y,isControlledViewport:x,paneClickDistance:v}){const _=Oe(),E=g.useRef(null),{userSelectionActive:P,lib:k}=xe(kz,Be),N=sl(p),I=g.useRef();Ez(E);const O=g.useCallback(L=>{y==null||y({x:L[0],y:L[1],zoom:L[2]}),x||_.setState({transform:L})},[y,x]);return g.useEffect(()=>{if(E.current){I.current=g6({domNode:E.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:l,paneClickDistance:v,onDraggingChange:S=>_.setState({paneDragging:S}),onPanZoomStart:(S,T)=>{const{onViewportChangeStart:j,onMoveStart:M}=_.getState();M==null||M(S,T),j==null||j(T)},onPanZoom:(S,T)=>{const{onViewportChange:j,onMove:M}=_.getState();M==null||M(S,T),j==null||j(T)},onPanZoomEnd:(S,T)=>{const{onViewportChangeEnd:j,onMoveEnd:M}=_.getState();M==null||M(S,T),j==null||j(T)}});const{x:L,y:R,zoom:$}=I.current.getViewport();return _.setState({panZoom:I.current,transform:[L,R,$],domNode:E.current.closest(".react-flow")}),()=>{var S;(S=I.current)==null||S.destroy()}}},[]),g.useEffect(()=>{var L;(L=I.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:a,zoomActivationKeyPressed:N,preventScrolling:h,noPanClassName:w,userSelectionActive:P,noWheelClassName:m,lib:k,onTransformChange:O})},[e,t,n,r,s,o,i,a,N,h,w,P,m,k,O]),u.jsx("div",{className:"react-flow__renderer",ref:E,style:Ud,children:b})}const Nz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function jz(){const{userSelectionActive:e,userSelectionRect:t}=xe(Nz,Be);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const hh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Pz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Tz({isSelecting:e,selectionKeyPressed:t,selectionMode:n=el.Full,panOnDrag:r,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:h}){const b=Oe(),{userSelectionActive:m,elementsSelectable:w,dragging:y,connectionInProgress:x}=xe(Pz,Be),v=w&&(e||m),_=g.useRef(null),E=g.useRef(),P=g.useRef(new Set),k=g.useRef(new Set),N=g.useRef(!1),I=g.useRef(!1),O=M=>{if(N.current||x){N.current=!1;return}a==null||a(M),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},L=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}l==null||l(M)},R=c?M=>c(M):void 0,$=M=>{var z,H;const{resetSelectedElements:A,domNode:C}=b.getState();if(E.current=C==null?void 0:C.getBoundingClientRect(),!w||!e||M.button!==0||M.target!==_.current||!E.current)return;(H=(z=M.target)==null?void 0:z.setPointerCapture)==null||H.call(z,M.pointerId),I.current=!0,N.current=!1;const{x:D,y:F}=ur(M.nativeEvent,E.current);A(),b.setState({userSelectionRect:{width:0,height:0,startX:D,startY:F,x:D,y:F}}),o==null||o(M)},S=M=>{const{userSelectionRect:A,transform:C,nodeLookup:D,edgeLookup:F,connectionLookup:z,triggerNodeChanges:H,triggerEdgeChanges:U,defaultEdgeOptions:G}=b.getState();if(!E.current||!A)return;N.current=!0;const{x:K,y:B}=ur(M.nativeEvent,E.current),{startX:V,startY:J}=A,ee={startX:V,startY:J,x:K<V?K:V,y:B<J?B:J,width:Math.abs(K-V),height:Math.abs(B-J)},Q=P.current,q=k.current;P.current=new Set(lk(D,ee,C,n===el.Partial,!0).map(ae=>ae.id)),k.current=new Set;const ie=(G==null?void 0:G.selectable)??!0;for(const ae of P.current){const Se=z.get(ae);if(Se)for(const{edgeId:ke}of Se.values()){const ot=F.get(ke);ot&&(ot.selectable??ie)&&k.current.add(ke)}}if(!nx(Q,P.current)){const ae=Io(D,P.current,!0);H(ae)}if(!nx(q,k.current)){const ae=Io(F,k.current);U(ae)}b.setState({userSelectionRect:ee,userSelectionActive:!0,nodesSelectionActive:!1})},T=M=>{var C,D;if(M.button!==0||!I.current)return;(D=(C=M.target)==null?void 0:C.releasePointerCapture)==null||D.call(C,M.pointerId);const{userSelectionRect:A}=b.getState();!m&&A&&M.target===_.current&&(O==null||O(M)),b.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:P.current.size>0}),i==null||i(M),(t||s)&&(N.current=!1),I.current=!1},j=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Ge(["react-flow__pane",{draggable:j,dragging:y,selection:e}]),onClick:v?void 0:hh(O,_),onContextMenu:hh(L,_),onWheel:hh(R,_),onPointerEnter:v?void 0:d,onPointerDown:v?$:f,onPointerMove:v?S:f,onPointerUp:v?T:void 0,onPointerLeave:p,ref:_,style:Ud,children:[h,u.jsx(jz,{})]})}function Zp({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",Gn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function Kk({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,nodeClickDistance:i}){const a=Oe(),[l,c]=g.useState(!1),d=g.useRef();return g.useEffect(()=>{d.current=n6({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{Zp({id:f,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),g.useEffect(()=>{var f,p;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(p=d.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:s,nodeClickDistance:i}),()=>{var h;(h=d.current)==null||h.destroy()}},[n,r,t,o,e,s]),l}const Az=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Yk(){const e=Oe();return g.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,p=Az(i),h=s?o[0]:5,b=s?o[1]:5,m=n.direction.x*h*n.factor,w=n.direction.y*b*n.factor;for(const[,y]of c){if(!p(y))continue;let x={x:y.internals.positionAbsolute.x+m,y:y.internals.positionAbsolute.y+w};s&&(x=Dd(x,o));const{position:v,positionAbsolute:_}=ck({nodeId:y.id,nextPosition:x,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:a});y.position=v,y.internals.positionAbsolute=_,f.set(y.id,y)}l(f)},[])}const u0=g.createContext(null),Rz=u0.Provider;u0.Consumer;const qk=()=>g.useContext(u0),Mz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Iz=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:o,connection:i}=r,{fromHandle:a,toHandle:l,isValid:c}=i,d=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:o===pi.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:d&&c}};function Oz({type:e="source",position:t=re.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:i,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:f,...p},h){var T,j;const b=i||null,m=e==="target",w=Oe(),y=qk(),{connectOnClick:x,noPanClassName:v,rfId:_}=xe(Mz,Be),{connectingFrom:E,connectingTo:P,clickConnecting:k,isPossibleEndHandle:N,connectionInProcess:I,clickConnectionInProcess:O,valid:L}=xe(Iz(y,b,e),Be);y||(j=(T=w.getState()).onError)==null||j.call(T,"010",Gn.error010());const R=M=>{const{defaultEdgeOptions:A,onConnect:C,hasDefaultEdges:D}=w.getState(),F={...A,...M};if(D){const{edges:z,setEdges:H}=w.getState();H(bk(F,z))}C==null||C(F),a==null||a(F)},$=M=>{if(!y)return;const A=vk(M.nativeEvent);if(s&&(A&&M.button===0||!A)){const C=w.getState();Jp.onPointerDown(M.nativeEvent,{autoPanOnConnect:C.autoPanOnConnect,connectionMode:C.connectionMode,connectionRadius:C.connectionRadius,domNode:C.domNode,nodeLookup:C.nodeLookup,lib:C.lib,isTarget:m,handleId:b,nodeId:y,flowId:C.rfId,panBy:C.panBy,cancelConnection:C.cancelConnection,onConnectStart:C.onConnectStart,onConnectEnd:C.onConnectEnd,updateConnection:C.updateConnection,onConnect:R,isValidConnection:n||C.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:C.autoPanSpeed})}A?d==null||d(M):f==null||f(M)},S=M=>{const{onClickConnectStart:A,onClickConnectEnd:C,connectionClickStartHandle:D,connectionMode:F,isValidConnection:z,lib:H,rfId:U,nodeLookup:G,connection:K}=w.getState();if(!y||!D&&!s)return;if(!D){A==null||A(M.nativeEvent,{nodeId:y,handleId:b,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:y,type:e,id:b}});return}const B=mk(M.target),V=n||z,{connection:J,isValid:ee}=Jp.isValid(M.nativeEvent,{handle:{nodeId:y,id:b,type:e},connectionMode:F,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:V,flowId:U,doc:B,lib:H,nodeLookup:G});ee&&J&&R(J);const Q=structuredClone(K);delete Q.inProgress,Q.toPosition=Q.toHandle?Q.toHandle.position:null,C==null||C(M,Q),w.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":b,"data-nodeid":y,"data-handlepos":t,"data-id":`${_}-${y}-${b}-${e}`,className:Ge(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,c,{source:!m,target:m,connectable:r,connectablestart:s,connectableend:o,clickconnecting:k,connectingfrom:E,connectingto:P,valid:L,connectionindicator:r&&(!I||N)&&(I||O?o:s)}]),onMouseDown:$,onTouchStart:$,onClick:x?S:void 0,ref:h,...p,children:l})}const xi=g.memo(Wk(Oz));function Dz({data:e,isConnectable:t,sourcePosition:n=re.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(xi,{type:"source",position:n,isConnectable:t})]})}function $z({data:e,isConnectable:t,targetPosition:n=re.Top,sourcePosition:r=re.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(xi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(xi,{type:"source",position:r,isConnectable:t})]})}function Lz(){return null}function Fz({data:e,isConnectable:t,targetPosition:n=re.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(xi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Vu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Nx={input:Dz,default:$z,output:Fz,group:Lz};function zz(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const Bz=e=>{const{width:t,height:n,x:r,y:s}=Rl(e.nodeLookup,{filter:o=>!!o.selected});return{width:wn(t)?t:null,height:wn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function Uz({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Oe(),{width:s,height:o,transformString:i,userSelectionActive:a}=xe(Bz,Be),l=Yk(),c=g.useRef(null);if(g.useEffect(()=>{var p;n||(p=c.current)==null||p.focus({preventScroll:!0})},[n]),Kk({nodeRef:c}),a||!s||!o)return null;const d=e?p=>{const h=r.getState().nodes.filter(b=>b.selected);e(p,h)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(Vu,p.key)&&(p.preventDefault(),l({direction:Vu[p.key],factor:p.shiftKey?4:1}))};return u.jsx("div",{className:Ge(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:o}})})}const jx=typeof window<"u"?window:void 0,Hz=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Xk({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:b,panActivationKeyCode:m,zoomActivationKeyCode:w,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:v,panOnScroll:_,panOnScrollSpeed:E,panOnScrollMode:P,zoomOnDoubleClick:k,panOnDrag:N,defaultViewport:I,translateExtent:O,minZoom:L,maxZoom:R,preventScrolling:$,onSelectionContextMenu:S,noWheelClassName:T,noPanClassName:j,disableKeyboardA11y:M,onViewportChange:A,isControlledViewport:C}){const{nodesSelectionActive:D,userSelectionActive:F}=xe(Hz),z=sl(c,{target:jx}),H=sl(m,{target:jx}),U=H||N,G=H||_,K=d&&U!==!0,B=z||F||K;return Sz({deleteKeyCode:l,multiSelectionKeyCode:b}),u.jsx(Cz,{onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:v,panOnScroll:G,panOnScrollSpeed:E,panOnScrollMode:P,zoomOnDoubleClick:k,panOnDrag:!z&&U,defaultViewport:I,translateExtent:O,minZoom:L,maxZoom:R,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:T,noPanClassName:j,onViewportChange:A,isControlledViewport:C,paneClickDistance:a,children:u.jsxs(Tz,{onSelectionStart:p,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:U,isSelecting:!!B,selectionMode:f,selectionKeyPressed:z,selectionOnDrag:K,children:[e,D&&u.jsx(Uz,{onSelectionContextMenu:S,noPanClassName:j,disableKeyboardA11y:M})]})})}Xk.displayName="FlowRenderer";const Vz=g.memo(Xk),Wz=e=>t=>e?lk(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Gz(e){return xe(g.useCallback(Wz(e),[e]),Be)}const Kz=e=>e.updateNodeInternals;function Yz(){const e=xe(Kz),[t]=g.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const o=s.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:s.target,force:!0})}),e(r)}));return g.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function qz({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Oe(),o=g.useRef(null),i=g.useRef(null),a=g.useRef(e.sourcePosition),l=g.useRef(e.targetPosition),c=g.useRef(t),d=n&&!!e.internals.handleBounds;return g.useEffect(()=>{o.current&&!e.hidden&&(!d||i.current!==o.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(o.current),i.current=o.current)},[d,e.hidden]),g.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),g.useEffect(()=>{if(o.current){const f=c.current!==t,p=a.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||p||h)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function Xz({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:o,onDoubleClick:i,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:p,noPanClassName:h,disableKeyboardA11y:b,rfId:m,nodeTypes:w,nodeClickDistance:y,onError:x}){const{node:v,internals:_,isParent:E}=xe(B=>{const V=B.nodeLookup.get(e),J=B.parentLookup.has(e);return{node:V,internals:V.internals,isParent:J}},Be);let P=v.type||"default",k=(w==null?void 0:w[P])||Nx[P];k===void 0&&(x==null||x("003",Gn.error003(P)),P="default",k=Nx.default);const N=!!(v.draggable||a&&typeof v.draggable>"u"),I=!!(v.selectable||l&&typeof v.selectable>"u"),O=!!(v.connectable||c&&typeof v.connectable>"u"),L=!!(v.focusable||d&&typeof v.focusable>"u"),R=Oe(),$=hk(v),S=qz({node:v,nodeType:P,hasDimensions:$,resizeObserver:f}),T=Kk({nodeRef:S,disabled:v.hidden||!N,noDragClassName:p,handleSelector:v.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:y}),j=Yk();if(v.hidden)return null;const M=_r(v),A=zz(v),C=I||N||t||n||r||s,D=n?B=>n(B,{..._.userNode}):void 0,F=r?B=>r(B,{..._.userNode}):void 0,z=s?B=>s(B,{..._.userNode}):void 0,H=o?B=>o(B,{..._.userNode}):void 0,U=i?B=>i(B,{..._.userNode}):void 0,G=B=>{const{selectNodesOnDrag:V,nodeDragThreshold:J}=R.getState();I&&(!V||!N||J>0)&&Zp({id:e,store:R,nodeRef:S}),t&&t(B,{..._.userNode})},K=B=>{if(!(gk(B.nativeEvent)||b))if(sk.includes(B.key)&&I){const V=B.key==="Escape";Zp({id:e,store:R,unselect:V,nodeRef:S})}else N&&v.selected&&Object.prototype.hasOwnProperty.call(Vu,B.key)&&(B.preventDefault(),R.setState({ariaLiveMessage:`Moved selected node ${B.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),j({direction:Vu[B.key],factor:B.shiftKey?4:1}))};return u.jsx("div",{className:Ge(["react-flow__node",`react-flow__node-${P}`,{[h]:N},v.className,{selected:v.selected,selectable:I,parent:E,draggable:N,dragging:T}]),ref:S,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:C?"all":"none",visibility:$?"visible":"hidden",...v.style,...A},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:F,onMouseLeave:z,onContextMenu:H,onClick:G,onDoubleClick:U,onKeyDown:L?K:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":b?void 0:`${Fk}-${m}`,"aria-label":v.ariaLabel,children:u.jsx(Rz,{value:e,children:u.jsx(k,{id:e,data:v.data,type:P,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:v.selected??!1,selectable:I,draggable:N,deletable:v.deletable??!0,isConnectable:O,sourcePosition:v.sourcePosition,targetPosition:v.targetPosition,dragging:T,dragHandle:v.dragHandle,zIndex:_.z,parentId:v.parentId,...M})})})}const Qz=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Qk(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:o}=xe(Qz,Be),i=Gz(e.onlyRenderVisibleElements),a=Yz();return u.jsx("div",{className:"react-flow__nodes",style:Ud,children:i.map(l=>u.jsx(Xz,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}Qk.displayName="NodeRenderer";const Jz=g.memo(Qk);function Zz(e){return xe(g.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const o=n.nodeLookup.get(s.source),i=n.nodeLookup.get(s.target);o&&i&&BF({sourceNode:o,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Be)}const e8=({color:e="none",strokeWidth:t=1})=>u.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),t8=({color:e="none",strokeWidth:t=1})=>u.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Px={[tl.Arrow]:e8,[tl.ArrowClosed]:t8};function n8(e){const t=Oe();return g.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(Px,e)?Px[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",Gn.error009(e)),null)},[e])}const r8=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const l=n8(t);return l?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:u.jsx(l,{color:n,strokeWidth:i})}):null},Jk=({defaultColor:e,rfId:t})=>{const n=xe(o=>o.edges),r=xe(o=>o.defaultEdgeOptions),s=g.useMemo(()=>YF(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:s.map(o=>u.jsx(r8,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Jk.displayName="MarkerDefinitions";var s8=g.memo(Jk);function Zk({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d}){const[f,p]=g.useState({x:1,y:0,width:0,height:0}),h=Ge(["react-flow__edge-textwrapper",c]),b=g.useRef(null);return g.useEffect(()=>{if(b.current){const m=b.current.getBBox();p({x:m.x,y:m.y,width:m.width,height:m.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[s&&u.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),u.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:b,style:r,children:n}),l]}):null}Zk.displayName="EdgeText";const o8=g.memo(Zk);function Hd({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...d}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...d,d:e,fill:"none",className:Ge(["react-flow__edge-path",d.className])}),c&&u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&wn(t)&&wn(n)?u.jsx(o8,{x:t,y:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Tx({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===re.Left||e===re.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function eC({sourceX:e,sourceY:t,sourcePosition:n=re.Bottom,targetX:r,targetY:s,targetPosition:o=re.Top}){const[i,a]=Tx({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,c]=Tx({pos:o,x1:r,y1:s,x2:e,y2:t}),[d,f,p,h]=yk({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${a} ${l},${c} ${r},${s}`,d,f,p,h]}function tC(e){return g.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i,targetPosition:a,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:m,markerStart:w,interactionWidth:y})=>{const[x,v,_]=eC({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:a}),E=e.isInternal?void 0:t;return u.jsx(Hd,{id:E,path:x,labelX:v,labelY:_,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:m,markerStart:w,interactionWidth:y})})}const i8=tC({isInternal:!1}),nC=tC({isInternal:!0});i8.displayName="SimpleBezierEdge";nC.displayName="SimpleBezierEdgeInternal";function rC(e){return g.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,sourcePosition:h=re.Bottom,targetPosition:b=re.Top,markerEnd:m,markerStart:w,pathOptions:y,interactionWidth:x})=>{const[v,_,E]=qp({sourceX:n,sourceY:r,sourcePosition:h,targetX:s,targetY:o,targetPosition:b,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset}),P=e.isInternal?void 0:t;return u.jsx(Hd,{id:P,path:v,labelX:_,labelY:E,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:w,interactionWidth:x})})}const sC=rC({isInternal:!1}),oC=rC({isInternal:!0});sC.displayName="SmoothStepEdge";oC.displayName="SmoothStepEdgeInternal";function iC(e){return g.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return u.jsx(sC,{...n,id:r,pathOptions:g.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const a8=iC({isInternal:!1}),aC=iC({isInternal:!0});a8.displayName="StepEdge";aC.displayName="StepEdgeInternal";function lC(e){return g.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:b,interactionWidth:m})=>{const[w,y,x]=_k({sourceX:n,sourceY:r,targetX:s,targetY:o}),v=e.isInternal?void 0:t;return u.jsx(Hd,{id:v,path:w,labelX:y,labelY:x,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:b,interactionWidth:m})})}const l8=lC({isInternal:!1}),cC=lC({isInternal:!0});l8.displayName="StraightEdge";cC.displayName="StraightEdgeInternal";function uC(e){return g.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i=re.Bottom,targetPosition:a=re.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:m,markerStart:w,pathOptions:y,interactionWidth:x})=>{const[v,_,E]=xk({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:a,curvature:y==null?void 0:y.curvature}),P=e.isInternal?void 0:t;return u.jsx(Hd,{id:P,path:v,labelX:_,labelY:E,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:m,markerStart:w,interactionWidth:x})})}const c8=uC({isInternal:!1}),dC=uC({isInternal:!0});c8.displayName="BezierEdge";dC.displayName="BezierEdgeInternal";const Ax={default:dC,straight:cC,step:aC,smoothstep:oC,simplebezier:nC},Rx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},u8=(e,t,n)=>n===re.Left?e-t:n===re.Right?e+t:e,d8=(e,t,n)=>n===re.Top?e-t:n===re.Bottom?e+t:e,Mx="react-flow__edgeupdater";function Ix({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:i,type:a}){return u.jsx("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:i,className:Ge([Mx,`${Mx}-${a}`]),cx:u8(t,r,e),cy:d8(n,r,e),r,stroke:"transparent",fill:"transparent"})}function f8({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:o,targetY:i,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:p,setUpdateHover:h}){const b=Oe(),m=(_,E)=>{if(_.button!==0)return;const{autoPanOnConnect:P,domNode:k,isValidConnection:N,connectionMode:I,connectionRadius:O,lib:L,onConnectStart:R,onConnectEnd:$,cancelConnection:S,nodeLookup:T,rfId:j,panBy:M,updateConnection:A}=b.getState(),C=E.type==="target";p(!0),d==null||d(_,n,E.type);const D=(z,H)=>{p(!1),f==null||f(z,n,E.type,H)},F=z=>c==null?void 0:c(n,z);Jp.onPointerDown(_.nativeEvent,{autoPanOnConnect:P,connectionMode:I,connectionRadius:O,domNode:k,handleId:E.id,nodeId:E.nodeId,nodeLookup:T,isTarget:C,edgeUpdaterType:E.type,lib:L,flowId:j,cancelConnection:S,panBy:M,isValidConnection:N,onConnect:F,onConnectStart:R,onConnectEnd:$,onReconnectEnd:D,updateConnection:A,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle})},w=_=>m(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=_=>m(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>h(!0),v=()=>h(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(Ix,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:w,onMouseEnter:x,onMouseOut:v,type:"source"}),(e===!0||e==="target")&&u.jsx(Ix,{position:l,centerX:o,centerY:i,radius:t,onMouseDown:y,onMouseEnter:x,onMouseOut:v,type:"target"})]})}function h8({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:o,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,rfId:b,edgeTypes:m,noPanClassName:w,onError:y,disableKeyboardA11y:x}){let v=xe(q=>q.edgeLookup.get(e));const _=xe(q=>q.defaultEdgeOptions);v=_?{..._,...v}:v;let E=v.type||"default",P=(m==null?void 0:m[E])||Ax[E];P===void 0&&(y==null||y("011",Gn.error011(E)),E="default",P=Ax.default);const k=!!(v.focusable||t&&typeof v.focusable>"u"),N=typeof f<"u"&&(v.reconnectable||n&&typeof v.reconnectable>"u"),I=!!(v.selectable||r&&typeof v.selectable>"u"),O=g.useRef(null),[L,R]=g.useState(!1),[$,S]=g.useState(!1),T=Oe(),{zIndex:j,sourceX:M,sourceY:A,targetX:C,targetY:D,sourcePosition:F,targetPosition:z}=xe(g.useCallback(q=>{const ie=q.nodeLookup.get(v.source),ae=q.nodeLookup.get(v.target);if(!ie||!ae)return{zIndex:v.zIndex,...Rx};const Se=KF({id:e,sourceNode:ie,targetNode:ae,sourceHandle:v.sourceHandle||null,targetHandle:v.targetHandle||null,connectionMode:q.connectionMode,onError:y});return{zIndex:zF({selected:v.selected,zIndex:v.zIndex,sourceNode:ie,targetNode:ae,elevateOnSelect:q.elevateEdgesOnSelect}),...Se||Rx}},[v.source,v.target,v.sourceHandle,v.targetHandle,v.selected,v.zIndex]),Be),H=g.useMemo(()=>v.markerStart?`url('#${Xp(v.markerStart,b)}')`:void 0,[v.markerStart,b]),U=g.useMemo(()=>v.markerEnd?`url('#${Xp(v.markerEnd,b)}')`:void 0,[v.markerEnd,b]);if(v.hidden||M===null||A===null||C===null||D===null)return null;const G=q=>{var ke;const{addSelectedEdges:ie,unselectNodesAndEdges:ae,multiSelectionActive:Se}=T.getState();I&&(T.setState({nodesSelectionActive:!1}),v.selected&&Se?(ae({nodes:[],edges:[v]}),(ke=O.current)==null||ke.blur()):ie([e])),s&&s(q,v)},K=o?q=>{o(q,{...v})}:void 0,B=i?q=>{i(q,{...v})}:void 0,V=a?q=>{a(q,{...v})}:void 0,J=l?q=>{l(q,{...v})}:void 0,ee=c?q=>{c(q,{...v})}:void 0,Q=q=>{var ie;if(!x&&sk.includes(q.key)&&I){const{unselectNodesAndEdges:ae,addSelectedEdges:Se}=T.getState();q.key==="Escape"?((ie=O.current)==null||ie.blur(),ae({edges:[v]})):Se([e])}};return u.jsx("svg",{style:{zIndex:j},children:u.jsxs("g",{className:Ge(["react-flow__edge",`react-flow__edge-${E}`,v.className,w,{selected:v.selected,animated:v.animated,inactive:!I&&!s,updating:L,selectable:I}]),onClick:G,onDoubleClick:K,onContextMenu:B,onMouseEnter:V,onMouseMove:J,onMouseLeave:ee,onKeyDown:k?Q:void 0,tabIndex:k?0:void 0,role:k?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":v.ariaLabel===null?void 0:v.ariaLabel||`Edge from ${v.source} to ${v.target}`,"aria-describedby":k?`${zk}-${b}`:void 0,ref:O,children:[!$&&u.jsx(P,{id:e,source:v.source,target:v.target,type:v.type,selected:v.selected,animated:v.animated,selectable:I,deletable:v.deletable??!0,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,sourceX:M,sourceY:A,targetX:C,targetY:D,sourcePosition:F,targetPosition:z,data:v.data,style:v.style,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerStart:H,markerEnd:U,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth}),N&&u.jsx(f8,{edge:v,isReconnectable:N,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,sourceX:M,sourceY:A,targetX:C,targetY:D,sourcePosition:F,targetPosition:z,setUpdateHover:R,setReconnecting:S})]})})}const p8=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function fC({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:h,onReconnectEnd:b,disableKeyboardA11y:m}){const{edgesFocusable:w,edgesReconnectable:y,elementsSelectable:x,onError:v}=xe(p8,Be),_=Zz(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(s8,{defaultColor:e,rfId:n}),_.map(E=>u.jsx(h8,{id:E,edgesFocusable:w,edgesReconnectable:y,elementsSelectable:x,noPanClassName:s,onReconnect:o,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:p,onReconnectStart:h,onReconnectEnd:b,rfId:n,onError:v,edgeTypes:r,disableKeyboardA11y:m},E))]})}fC.displayName="EdgeRenderer";const m8=g.memo(fC),g8=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function v8({children:e}){const t=xe(g8);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function y8(e){const t=Bd(),n=g.useRef(!1);g.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const x8=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function w8(e){const t=xe(x8),n=Oe();return g.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function b8(e){return e.connection.inProgress?{...e.connection,to:Ml(e.connection.to,e.transform)}:{...e.connection}}function _8(e){return b8}function S8(e){const t=_8();return xe(t,Be)}const E8=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function k8({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:o,height:i,isValid:a,inProgress:l}=xe(E8,Be);return!(o&&s&&l)?null:u.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Ge(["react-flow__connection",ik(a)]),children:u.jsx(hC,{style:t,type:n,CustomComponent:r,isValid:a})})})}const hC=({style:e,type:t=zr.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:o,fromNode:i,fromHandle:a,fromPosition:l,to:c,toNode:d,toHandle:f,toPosition:p}=S8();if(!s)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:p,connectionStatus:ik(r),toNode:d,toHandle:f});let h="";const b={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case zr.Bezier:[h]=xk(b);break;case zr.SimpleBezier:[h]=eC(b);break;case zr.Step:[h]=qp({...b,borderRadius:0});break;case zr.SmoothStep:[h]=qp(b);break;default:[h]=_k(b)}return u.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};hC.displayName="ConnectionLine";const C8={};function Ox(e=C8){g.useRef(e),Oe(),g.useEffect(()=>{},[e])}function N8(){Oe(),g.useRef(!1),g.useEffect(()=>{},[])}function pC({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:h,connectionLineType:b,connectionLineStyle:m,connectionLineComponent:w,connectionLineContainerStyle:y,selectionKeyCode:x,selectionOnDrag:v,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:P,zoomActivationKeyCode:k,deleteKeyCode:N,onlyRenderVisibleElements:I,elementsSelectable:O,defaultViewport:L,translateExtent:R,minZoom:$,maxZoom:S,preventScrolling:T,defaultMarkerColor:j,zoomOnScroll:M,zoomOnPinch:A,panOnScroll:C,panOnScrollSpeed:D,panOnScrollMode:F,zoomOnDoubleClick:z,panOnDrag:H,onPaneClick:U,onPaneMouseEnter:G,onPaneMouseMove:K,onPaneMouseLeave:B,onPaneScroll:V,onPaneContextMenu:J,paneClickDistance:ee,nodeClickDistance:Q,onEdgeContextMenu:q,onEdgeMouseEnter:ie,onEdgeMouseMove:ae,onEdgeMouseLeave:Se,reconnectRadius:ke,onReconnect:ot,onReconnectStart:Kt,onReconnectEnd:Tt,noDragClassName:sn,noWheelClassName:ne,noPanClassName:Me,disableKeyboardA11y:He,nodeExtent:on,rfId:Ze,viewport:Ke,onViewportChange:an}){return Ox(e),Ox(t),N8(),y8(n),w8(Ke),u.jsx(Vz,{onPaneClick:U,onPaneMouseEnter:G,onPaneMouseMove:K,onPaneMouseLeave:B,onPaneContextMenu:J,onPaneScroll:V,paneClickDistance:ee,deleteKeyCode:N,selectionKeyCode:x,selectionOnDrag:v,selectionMode:_,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:E,panActivationKeyCode:P,zoomActivationKeyCode:k,elementsSelectable:O,zoomOnScroll:M,zoomOnPinch:A,zoomOnDoubleClick:z,panOnScroll:C,panOnScrollSpeed:D,panOnScrollMode:F,panOnDrag:H,defaultViewport:L,translateExtent:R,minZoom:$,maxZoom:S,onSelectionContextMenu:f,preventScrolling:T,noDragClassName:sn,noWheelClassName:ne,noPanClassName:Me,disableKeyboardA11y:He,onViewportChange:an,isControlledViewport:!!Ke,children:u.jsxs(v8,{children:[u.jsx(m8,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:i,onReconnect:ot,onReconnectStart:Kt,onReconnectEnd:Tt,onlyRenderVisibleElements:I,onEdgeContextMenu:q,onEdgeMouseEnter:ie,onEdgeMouseMove:ae,onEdgeMouseLeave:Se,reconnectRadius:ke,defaultMarkerColor:j,noPanClassName:Me,disableKeyboardA11y:He,rfId:Ze}),u.jsx(k8,{style:m,type:b,component:w,containerStyle:y}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(Jz,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:Q,onlyRenderVisibleElements:I,noPanClassName:Me,noDragClassName:sn,disableKeyboardA11y:He,nodeExtent:on,rfId:Ze}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}pC.displayName="GraphView";const j8=g.memo(pC),Dx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f}={})=>{const p=new Map,h=new Map,b=new Map,m=new Map,w=r??t??[],y=n??e??[],x=d??[0,0],v=f??Za;Ek(b,m,w);const _=Qp(y,p,h,{nodeOrigin:x,nodeExtent:v,elevateNodesOnSelect:!1});let E=[0,0,1];if(i&&s&&o){const P=Rl(p,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:k,y:N,zoom:I}=s0(P,s,o,l,c,(a==null?void 0:a.padding)??.1);E=[k,N,I]}return{rfId:"1",width:0,height:0,transform:E,nodes:y,nodesInitialized:_,nodeLookup:p,parentLookup:h,edges:w,edgeLookup:m,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Za,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:pi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:a,fitViewResolver:null,connection:{...ok},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:OF,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},P8=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f})=>q6((p,h)=>{async function b(){const{nodeLookup:m,panZoom:w,fitViewOptions:y,fitViewResolver:x,width:v,height:_,minZoom:E,maxZoom:P}=h();w&&(await MF({nodes:m,width:v,height:_,panZoom:w,minZoom:E,maxZoom:P},y),x==null||x.resolve(!0),p({fitViewResolver:null}))}return{...Dx({nodes:e,edges:t,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:m=>{const{nodeLookup:w,parentLookup:y,nodeOrigin:x,elevateNodesOnSelect:v,fitViewQueued:_}=h(),E=Qp(m,w,y,{nodeOrigin:x,nodeExtent:f,elevateNodesOnSelect:v,checkEquality:!0});_&&E?(b(),p({nodes:m,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:m,nodesInitialized:E})},setEdges:m=>{const{connectionLookup:w,edgeLookup:y}=h();Ek(w,y,m),p({edges:m})},setDefaultNodesAndEdges:(m,w)=>{if(m){const{setNodes:y}=h();y(m),p({hasDefaultNodes:!0})}if(w){const{setEdges:y}=h();y(w),p({hasDefaultEdges:!0})}},updateNodeInternals:m=>{const{triggerNodeChanges:w,nodeLookup:y,parentLookup:x,domNode:v,nodeOrigin:_,nodeExtent:E,debug:P,fitViewQueued:k}=h(),{changes:N,updatedInternals:I}=ZF(m,y,x,v,_,E);I&&(XF(y,x,{nodeOrigin:_,nodeExtent:E}),k?(b(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),(N==null?void 0:N.length)>0&&(P&&console.log("React Flow: trigger node changes",N),w==null||w(N)))},updateNodePositions:(m,w=!1)=>{const y=[],x=[],{nodeLookup:v,triggerNodeChanges:_}=h();for(const[E,P]of m){const k=v.get(E),N=!!(k!=null&&k.expandParent&&(k!=null&&k.parentId)&&(P!=null&&P.position)),I={id:E,type:"position",position:N?{x:Math.max(0,P.position.x),y:Math.max(0,P.position.y)}:P.position,dragging:w};N&&k.parentId&&y.push({id:E,parentId:k.parentId,rect:{...P.internals.positionAbsolute,width:P.measured.width??0,height:P.measured.height??0}}),x.push(I)}if(y.length>0){const{parentLookup:E,nodeOrigin:P}=h(),k=c0(y,v,E,P);x.push(...k)}_(x)},triggerNodeChanges:m=>{const{onNodesChange:w,setNodes:y,nodes:x,hasDefaultNodes:v,debug:_}=h();if(m!=null&&m.length){if(v){const E=Hk(m,x);y(E)}_&&console.log("React Flow: trigger node changes",m),w==null||w(m)}},triggerEdgeChanges:m=>{const{onEdgesChange:w,setEdges:y,edges:x,hasDefaultEdges:v,debug:_}=h();if(m!=null&&m.length){if(v){const E=Vk(m,x);y(E)}_&&console.log("React Flow: trigger edge changes",m),w==null||w(m)}},addSelectedNodes:m=>{const{multiSelectionActive:w,edgeLookup:y,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:_}=h();if(w){const E=m.map(P=>bs(P,!0));v(E);return}v(Io(x,new Set([...m]),!0)),_(Io(y))},addSelectedEdges:m=>{const{multiSelectionActive:w,edgeLookup:y,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:_}=h();if(w){const E=m.map(P=>bs(P,!0));_(E);return}_(Io(y,new Set([...m]))),v(Io(x,new Set,!0))},unselectNodesAndEdges:({nodes:m,edges:w}={})=>{const{edges:y,nodes:x,nodeLookup:v,triggerNodeChanges:_,triggerEdgeChanges:E}=h(),P=m||x,k=w||y,N=P.map(O=>{const L=v.get(O.id);return L&&(L.selected=!1),bs(O.id,!1)}),I=k.map(O=>bs(O.id,!1));_(N),E(I)},setMinZoom:m=>{const{panZoom:w,maxZoom:y}=h();w==null||w.setScaleExtent([m,y]),p({minZoom:m})},setMaxZoom:m=>{const{panZoom:w,minZoom:y}=h();w==null||w.setScaleExtent([y,m]),p({maxZoom:m})},setTranslateExtent:m=>{var w;(w=h().panZoom)==null||w.setTranslateExtent(m),p({translateExtent:m})},setPaneClickDistance:m=>{var w;(w=h().panZoom)==null||w.setClickDistance(m)},resetSelectedElements:()=>{const{edges:m,nodes:w,triggerNodeChanges:y,triggerEdgeChanges:x,elementsSelectable:v}=h();if(!v)return;const _=w.reduce((P,k)=>k.selected?[...P,bs(k.id,!1)]:P,[]),E=m.reduce((P,k)=>k.selected?[...P,bs(k.id,!1)]:P,[]);y(_),x(E)},setNodeExtent:m=>{const{nodes:w,nodeLookup:y,parentLookup:x,nodeOrigin:v,elevateNodesOnSelect:_,nodeExtent:E}=h();m[0][0]===E[0][0]&&m[0][1]===E[0][1]&&m[1][0]===E[1][0]&&m[1][1]===E[1][1]||(Qp(w,y,x,{nodeOrigin:v,nodeExtent:m,elevateNodesOnSelect:_,checkEquality:!1}),p({nodeExtent:m}))},panBy:m=>{const{transform:w,width:y,height:x,panZoom:v,translateExtent:_}=h();return e6({delta:m,panZoom:v,transform:w,translateExtent:_,width:y,height:x})},cancelConnection:()=>{p({connection:{...ok}})},updateConnection:m=>{p({connection:m})},reset:()=>p({...Dx()})}},Object.is);function mC({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:o,initialMinZoom:i,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:d,nodeExtent:f,children:p}){const[h]=g.useState(()=>P8({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:c,minZoom:i,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:f}));return u.jsx(X6,{value:h,children:u.jsx(xz,{children:p})})}function T8({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:o,height:i,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:p}){return g.useContext(Fd)?u.jsx(u.Fragment,{children:e}):u.jsx(mC,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:o,initialHeight:i,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:p,children:e})}const A8={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function R8({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o,edgeTypes:i,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:h,onConnectStart:b,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:y,onNodeMouseEnter:x,onNodeMouseMove:v,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:P,onNodeDragStart:k,onNodeDrag:N,onNodeDragStop:I,onNodesDelete:O,onEdgesDelete:L,onDelete:R,onSelectionChange:$,onSelectionDragStart:S,onSelectionDrag:T,onSelectionDragStop:j,onSelectionContextMenu:M,onSelectionStart:A,onSelectionEnd:C,onBeforeDelete:D,connectionMode:F,connectionLineType:z=zr.Bezier,connectionLineStyle:H,connectionLineComponent:U,connectionLineContainerStyle:G,deleteKeyCode:K="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:V=!1,selectionMode:J=el.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:Q=Hu()?"Meta":"Control",zoomActivationKeyCode:q=Hu()?"Meta":"Control",snapToGrid:ie,snapGrid:ae,onlyRenderVisibleElements:Se=!1,selectNodesOnDrag:ke,nodesDraggable:ot,nodesConnectable:Kt,nodesFocusable:Tt,nodeOrigin:sn=Bk,edgesFocusable:ne,edgesReconnectable:Me,elementsSelectable:He=!0,defaultViewport:on=cz,minZoom:Ze=.5,maxZoom:Ke=2,translateExtent:an=Za,preventScrolling:lf=!0,nodeExtent:Oi,defaultMarkerColor:uo="#b1b1b7",zoomOnScroll:cf=!0,zoomOnPinch:Dl=!0,panOnScroll:Di=!1,panOnScrollSpeed:Sr=.5,panOnScrollMode:$l=Ls.Free,zoomOnDoubleClick:Er=!0,panOnDrag:uf=!0,onPaneClick:df,onPaneMouseEnter:Ll,onPaneMouseMove:Fl,onPaneMouseLeave:ff,onPaneScroll:$i,onPaneContextMenu:jn,paneClickDistance:zl=0,nodeClickDistance:le=0,children:_e,onReconnect:Ce,onReconnectStart:At,onReconnectEnd:Rt,onEdgeContextMenu:Pn,onEdgeDoubleClick:Xn,onEdgeMouseEnter:Mt,onEdgeMouseMove:Tn,onEdgeMouseLeave:tj,reconnectRadius:nj=10,onNodesChange:rj,onEdgesChange:sj,noDragClassName:oj="nodrag",noWheelClassName:ij="nowheel",noPanClassName:w0="nopan",fitView:b0,fitViewOptions:_0,connectOnClick:aj,attributionPosition:lj,proOptions:cj,defaultEdgeOptions:uj,elevateNodesOnSelect:dj,elevateEdgesOnSelect:fj,disableKeyboardA11y:S0=!1,autoPanOnConnect:hj,autoPanOnNodeDrag:pj,autoPanSpeed:mj,connectionRadius:gj,isValidConnection:vj,onError:yj,style:xj,id:E0,nodeDragThreshold:wj,viewport:bj,onViewportChange:_j,width:Sj,height:Ej,colorMode:kj="light",debug:Cj,onScroll:Bl,...Nj},jj){const hf=E0||"1",Pj=hz(kj),Tj=g.useCallback(k0=>{k0.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Bl==null||Bl(k0)},[Bl]);return u.jsx("div",{"data-testid":"rf__wrapper",...Nj,onScroll:Tj,style:{...xj,...A8},ref:jj,className:Ge(["react-flow",s,Pj]),id:E0,children:u.jsxs(T8,{nodes:e,edges:t,width:Sj,height:Ej,fitView:b0,fitViewOptions:_0,minZoom:Ze,maxZoom:Ke,nodeOrigin:sn,nodeExtent:Oi,children:[u.jsx(j8,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:v,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:P,nodeTypes:o,edgeTypes:i,connectionLineType:z,connectionLineStyle:H,connectionLineComponent:U,connectionLineContainerStyle:G,selectionKeyCode:B,selectionOnDrag:V,selectionMode:J,deleteKeyCode:K,multiSelectionKeyCode:Q,panActivationKeyCode:ee,zoomActivationKeyCode:q,onlyRenderVisibleElements:Se,defaultViewport:on,translateExtent:an,minZoom:Ze,maxZoom:Ke,preventScrolling:lf,zoomOnScroll:cf,zoomOnPinch:Dl,zoomOnDoubleClick:Er,panOnScroll:Di,panOnScrollSpeed:Sr,panOnScrollMode:$l,panOnDrag:uf,onPaneClick:df,onPaneMouseEnter:Ll,onPaneMouseMove:Fl,onPaneMouseLeave:ff,onPaneScroll:$i,onPaneContextMenu:jn,paneClickDistance:zl,nodeClickDistance:le,onSelectionContextMenu:M,onSelectionStart:A,onSelectionEnd:C,onReconnect:Ce,onReconnectStart:At,onReconnectEnd:Rt,onEdgeContextMenu:Pn,onEdgeDoubleClick:Xn,onEdgeMouseEnter:Mt,onEdgeMouseMove:Tn,onEdgeMouseLeave:tj,reconnectRadius:nj,defaultMarkerColor:uo,noDragClassName:oj,noWheelClassName:ij,noPanClassName:w0,rfId:hf,disableKeyboardA11y:S0,nodeExtent:Oi,viewport:bj,onViewportChange:_j}),u.jsx(fz,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:b,onConnectEnd:m,onClickConnectStart:w,onClickConnectEnd:y,nodesDraggable:ot,nodesConnectable:Kt,nodesFocusable:Tt,edgesFocusable:ne,edgesReconnectable:Me,elementsSelectable:He,elevateNodesOnSelect:dj,elevateEdgesOnSelect:fj,minZoom:Ze,maxZoom:Ke,nodeExtent:Oi,onNodesChange:rj,onEdgesChange:sj,snapToGrid:ie,snapGrid:ae,connectionMode:F,translateExtent:an,connectOnClick:aj,defaultEdgeOptions:uj,fitView:b0,fitViewOptions:_0,onNodesDelete:O,onEdgesDelete:L,onDelete:R,onNodeDragStart:k,onNodeDrag:N,onNodeDragStop:I,onSelectionDrag:T,onSelectionDragStart:S,onSelectionDragStop:j,onMove:d,onMoveStart:f,onMoveEnd:p,noPanClassName:w0,nodeOrigin:sn,rfId:hf,autoPanOnConnect:hj,autoPanOnNodeDrag:pj,autoPanSpeed:mj,onError:yj,connectionRadius:gj,isValidConnection:vj,selectNodesOnDrag:ke,nodeDragThreshold:wj,onBeforeDelete:D,paneClickDistance:zl,debug:Cj}),u.jsx(lz,{onSelectionChange:$}),_e,u.jsx(rz,{proOptions:cj,position:lj}),u.jsx(tz,{rfId:hf,disableKeyboardA11y:S0})]})})}var M8=Wk(R8);function I8(e){const[t,n]=g.useState(e),r=g.useCallback(s=>n(o=>Hk(s,o)),[]);return[t,n,r]}function O8(e){const[t,n]=g.useState(e),r=g.useCallback(s=>n(o=>Vk(s,o)),[]);return[t,n,r]}function D8({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ge(["react-flow__background-pattern",n,r])})}function $8({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Ge(["react-flow__background-pattern","dots",t])})}var dr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(dr||(dr={}));const L8={[dr.Dots]:1,[dr.Lines]:1,[dr.Cross]:6},F8=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function gC({id:e,variant:t=dr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=0,color:i,bgColor:a,style:l,className:c,patternClassName:d}){const f=g.useRef(null),{transform:p,patternId:h}=xe(F8,Be),b=r||L8[t],m=t===dr.Dots,w=t===dr.Cross,y=Array.isArray(n)?n:[n,n],x=[y[0]*p[2]||1,y[1]*p[2]||1],v=b*p[2],_=Array.isArray(o)?o:[o,o],E=w?[v,v]:x,P=[_[0]*p[2]||1+E[0]/2,_[1]*p[2]||1+E[1]/2],k=`${h}${e||""}`;return u.jsxs("svg",{className:Ge(["react-flow__background",c]),style:{...l,...Ud,"--xy-background-color-props":a,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[u.jsx("pattern",{id:k,x:p[0]%x[0],y:p[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:m?u.jsx($8,{radius:v/2,className:d}):u.jsx(D8,{dimensions:E,lineWidth:s,variant:t,className:d})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}gC.displayName="Background";const z8=g.memo(gC);function B8(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function U8(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function H8(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function V8(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function W8(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function kc({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Ge(["react-flow__controls-button",t]),...n,children:e})}const G8=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function vC({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:i,onFitView:a,onInteractiveChange:l,className:c,children:d,position:f="bottom-left",orientation:p="vertical","aria-label":h="React Flow controls"}){const b=Oe(),{isInteractive:m,minZoomReached:w,maxZoomReached:y}=xe(G8,Be),{zoomIn:x,zoomOut:v,fitView:_}=Bd(),E=()=>{x(),o==null||o()},P=()=>{v(),i==null||i()},k=()=>{_(s),a==null||a()},N=()=>{b.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),l==null||l(!m)},I=p==="horizontal"?"horizontal":"vertical";return u.jsxs(zd,{className:Ge(["react-flow__controls",I,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(kc,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:u.jsx(B8,{})}),u.jsx(kc,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w,children:u.jsx(U8,{})})]}),n&&u.jsx(kc,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view",children:u.jsx(H8,{})}),r&&u.jsx(kc,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity",children:m?u.jsx(W8,{}):u.jsx(V8,{})}),d]})}vC.displayName="Controls";const K8=g.memo(vC);function Y8({id:e,x:t,y:n,width:r,height:s,style:o,color:i,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:f,selected:p,onClick:h}){const{background:b,backgroundColor:m}=o||{},w=i||b||m;return u.jsx("rect",{className:Ge(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:w,stroke:a,strokeWidth:l},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const q8=g.memo(Y8),X8=e=>e.nodes.map(t=>t.id),ph=e=>e instanceof Function?e:()=>e;function Q8({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:o=q8,onClick:i}){const a=xe(X8,Be),l=ph(t),c=ph(e),d=ph(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:a.map(p=>u.jsx(Z8,{id:p,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:o,onClick:i,shapeRendering:f},p))})}function J8({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:a,onClick:l}){const{node:c,x:d,y:f,width:p,height:h}=xe(b=>{const{internals:m}=b.nodeLookup.get(e),w=m.userNode,{x:y,y:x}=m.positionAbsolute,{width:v,height:_}=_r(w);return{node:w,x:y,y:x,width:v,height:_}},Be);return!c||c.hidden||!hk(c)?null:u.jsx(a,{x:d,y:f,width:p,height:h,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:o,shapeRendering:i,onClick:l,id:c.id})}const Z8=g.memo(J8);var eB=g.memo(Q8);const tB=200,nB=150,rB=e=>!e.hidden,sB=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?fk(Rl(e.nodeLookup,{filter:rB}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},oB="react-flow__minimap-desc";function yC({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:p="bottom-right",onClick:h,onNodeClick:b,pannable:m=!1,zoomable:w=!1,ariaLabel:y="React Flow mini map",inversePan:x,zoomStep:v=10,offsetScale:_=5}){const E=Oe(),P=g.useRef(null),{boundingRect:k,viewBB:N,rfId:I,panZoom:O,translateExtent:L,flowWidth:R,flowHeight:$}=xe(sB,Be),S=(e==null?void 0:e.width)??tB,T=(e==null?void 0:e.height)??nB,j=k.width/S,M=k.height/T,A=Math.max(j,M),C=A*S,D=A*T,F=_*A,z=k.x-(C-k.width)/2-F,H=k.y-(D-k.height)/2-F,U=C+F*2,G=D+F*2,K=`${oB}-${I}`,B=g.useRef(0),V=g.useRef();B.current=A,g.useEffect(()=>{if(P.current&&O)return V.current=l6({domNode:P.current,panZoom:O,getTransform:()=>E.getState().transform,getViewScale:()=>B.current}),()=>{var Q;(Q=V.current)==null||Q.destroy()}},[O]),g.useEffect(()=>{var Q;(Q=V.current)==null||Q.update({translateExtent:L,width:R,height:$,inversePan:x,pannable:m,zoomStep:v,zoomable:w})},[m,w,x,v,L,R,$]);const J=h?Q=>{var ae;const[q,ie]=((ae=V.current)==null?void 0:ae.pointer(Q))||[0,0];h(Q,{x:q,y:ie})}:void 0,ee=b?g.useCallback((Q,q)=>{const ie=E.getState().nodeLookup.get(q).internals.userNode;b(Q,ie)},[]):void 0;return u.jsx(zd,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*A:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Ge(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:S,height:T,viewBox:`${z} ${H} ${U} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:P,onClick:J,children:[y&&u.jsx("title",{id:K,children:y}),u.jsx(eB,{onClick:ee,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:a}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-F},${H-F}h${U+F*2}v${G+F*2}h${-U-F*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}yC.displayName="MiniMap";const iB=g.memo(yC);function aB({nodeId:e,position:t,variant:n=ya.Handle,className:r,style:s={},children:o,color:i,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:p,shouldResize:h,onResizeStart:b,onResize:m,onResizeEnd:w}){const y=qk(),x=typeof e=="string"?e:y,v=Oe(),_=g.useRef(null),E=n===ya.Line?"right":"bottom-right",P=t??E,k=g.useRef(null);g.useEffect(()=>{if(!(!_.current||!x))return k.current||(k.current=S6({domNode:_.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:L,transform:R,snapGrid:$,snapToGrid:S,nodeOrigin:T,domNode:j}=v.getState();return{nodeLookup:L,transform:R,snapGrid:$,snapToGrid:S,nodeOrigin:T,paneDomNode:j}},onChange:(L,R)=>{const{triggerNodeChanges:$,nodeLookup:S,parentLookup:T,nodeOrigin:j}=v.getState(),M=[],A={x:L.x,y:L.y},C=S.get(x);if(C&&C.expandParent&&C.parentId){const D=C.origin??j,F=L.width??C.measured.width??0,z=L.height??C.measured.height??0,H={id:C.id,parentId:C.parentId,rect:{width:F,height:z,...pk({x:L.x??C.position.x,y:L.y??C.position.y},{width:F,height:z},C.parentId,S,D)}},U=c0([H],S,T,j);M.push(...U),A.x=L.x?Math.max(D[0]*F,L.x):void 0,A.y=L.y?Math.max(D[1]*z,L.y):void 0}if(A.x!==void 0&&A.y!==void 0){const D={id:x,type:"position",position:{...A}};M.push(D)}if(L.width!==void 0&&L.height!==void 0){const F={id:x,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};M.push(F)}for(const D of R){const F={...D,type:"position"};M.push(F)}$(M)},onEnd:({width:L,height:R})=>{const $={id:x,type:"dimensions",resizing:!1,dimensions:{width:L,height:R}};v.getState().triggerNodeChanges([$])}})),k.current.update({controlPosition:P,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:p,onResizeStart:b,onResize:m,onResizeEnd:w,shouldResize:h}),()=>{var L;(L=k.current)==null||L.destroy()}},[P,a,l,c,d,f,b,m,w,h]);const N=P.split("-"),I=n===ya.Line?"borderColor":"backgroundColor",O=i?{...s,[I]:i}:s;return u.jsx("div",{className:Ge(["react-flow__resize-control","nodrag",...N,n,r]),ref:_,style:O,children:o})}g.memo(aB);const lB=({data:e})=>{const{member:t,onSelect:n,onEdit:r,onDelete:s,isHighlighted:o,isDimmed:i,focusedRelationType:a,isHoverHighlighted:l,isCollapsed:c,onToggleCollapse:d,hasChildren:f,onNodeClick:p,onAddChild:h,canEdit:b}=e,[m,w]=g.useState(!1),y=g.useRef(null),x=g.useCallback(()=>{w(N=>!N),n(t),p(t)},[t,n,p,w]),v=g.useCallback(N=>{N.stopPropagation(),r(t),w(!1)},[t,r]),_=g.useCallback(N=>{N.stopPropagation(),confirm(`Are you sure you want to delete ${t.name}?`)&&s(t.id),w(!1)},[t.id,t.name,s]),E=g.useMemo(()=>{const N=new Date().getFullYear(),I=t.birthDate?new Date(t.birthDate).getFullYear():null,O=t.deathDate?new Date(t.deathDate).getFullYear():null;return O?O-(I||0):I?N-I:null},[t.birthDate,t.deathDate]),P=g.useCallback(N=>{N.stopPropagation(),d&&d(t.id),w(!1)},[t.id,d]),k=g.useCallback(N=>{(N.key==="Enter"||N.key===" ")&&x()},[x]);return g.useEffect(()=>{const N=I=>{y.current&&!y.current.contains(I.target)&&w(!1)};return m?document.addEventListener("mousedown",N):document.removeEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[m]),u.jsxs("div",{className:"family-member-node",onClick:x,role:"treeitem","aria-label":`Family member: ${t.name}, ${t.occupation||"details available on click"}`,tabIndex:0,onKeyDown:k,children:[u.jsx(xi,{type:"target",position:re.Top,className:"!w-2 !h-2 !bg-slate-400 !border-2 !border-white !shadow-sm"}),u.jsxs("div",{className:` 
          relative w-52 bg-white rounded-2xl shadow-lg
          cursor-pointer transition-all duration-300 ease-in-out hover:shadow-xl hover:-translate-y-1
          overflow-visible group  /* Changed overflow-hidden to overflow-visible */
          focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2
          ${l&&!i?"ring-2 ring-green-500 shadow-green-300/50":""}
          ${o&&a!=="self"&&!l?"ring-2 ring-amber-400 shadow-amber-200/50":""}
          ${c?"opacity-80":""}
          ${i&&!l?"opacity-30":""}
          ${!i&&a==="self"?"border-blue-500 ring-4 ring-blue-500 shadow-blue-300/50":!i&&a==="parent"?"border-sky-400":!i&&a==="spouse"?"border-pink-400":!i&&(a==="child"||a==="descendant")?"border-green-400":!i&&a==="sibling"?"border-purple-400":"border-slate-200"}
        `,children:[m&&u.jsxs("div",{ref:y,className:"absolute top-1/2 -translate-y-1/2 left-full ml-2 p-1 bg-card shadow-xl rounded-lg border z-30 flex flex-col space-y-1",onClick:N=>N.stopPropagation(),children:[b&&u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsx("button",{onClick:v,className:"p-2 hover:bg-accent rounded-md","aria-label":"Edit Member",children:u.jsx(o_,{className:"w-4 h-4"})})}),u.jsx(ir,{children:u.jsx("p",{children:"Edit Member"})})]}),b&&h&&u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsx("button",{onClick:N=>{N.stopPropagation(),h&&h(t),w(!1)},className:"p-2 hover:bg-accent rounded-md","aria-label":"Add Child",children:u.jsx(_u,{className:"w-4 h-4"})})}),u.jsx(ir,{children:u.jsx("p",{children:"Add Child"})})]}),f&&d&&u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsx("button",{onClick:P,className:"p-2 hover:bg-accent rounded-md","aria-label":c?"Expand Children":"Collapse Children",children:c?u.jsx(yp,{className:"w-4 h-4"}):u.jsx(Hv,{className:"w-4 h-4"})})}),u.jsx(ir,{children:u.jsx("p",{children:c?"Expand Children":"Collapse Children"})})]}),b&&u.jsxs(qr,{children:[u.jsx(Xr,{asChild:!0,children:u.jsx("button",{onClick:_,className:"p-2 hover:bg-accent rounded-md","aria-label":"Delete Member",children:u.jsx(xA,{className:"w-4 h-4"})})}),u.jsx(ir,{children:u.jsx("p",{children:"Delete Member"})})]})]}),u.jsxs("div",{className:`
          h-20 bg-gradient-to-br relative /* overflow-hidden removed from here to allow menu visibility */
          ${t.gender==="male"?"from-blue-500 via-blue-600 to-indigo-600":"from-rose-500 via-pink-600 to-purple-600"}
        `,children:[u.jsx("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:16px_16px]"}),u.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"w-12 h-12 bg-white rounded-full p-0.5 shadow-lg",children:u.jsx("div",{className:`
                w-full h-full rounded-full flex items-center justify-center overflow-hidden
                ${t.gender==="male"?"bg-blue-50":"bg-rose-50"}
              `,children:t.photo?u.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover rounded-full"}):u.jsx(xl,{className:`w-6 h-6 ${t.gender==="male"?"text-blue-600":"text-rose-600"}`})})})})]}),u.jsxs("div",{className:"pt-4 pb-4 px-4 space-y-3",children:[u.jsxs("div",{className:"text-center min-h-[4rem]",children:[u.jsx("h3",{className:"font-semibold text-slate-900 text-lg leading-tight mb-1 min-h-[2.5rem] flex items-center justify-center",children:u.jsx("span",{className:"truncate max-w-full",children:t.name})}),u.jsx("div",{className:"min-h-[1.25rem] flex items-center justify-center",children:E&&u.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[u.jsx(Ks,{className:"w-3 h-3 mr-1"}),u.jsxs("span",{children:[E," years old"]})]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 rounded-lg px-2 py-1 min-h-[2rem]",children:t.mobileNumber?u.jsxs(u.Fragment,{children:[u.jsx(s_,{className:"w-3 h-3 mr-2 text-slate-400 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:t.mobileNumber})]}):u.jsx("span",{children:" "})}),u.jsx("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 rounded-lg px-2 py-1 min-h-[2rem]",children:t.occupation?u.jsxs(u.Fragment,{children:[u.jsx(gg,{className:"w-3 h-3 mr-2 text-slate-400 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:t.occupation})]}):u.jsx("span",{children:" "})})]})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl pointer-events-none"}),f&&d&&!m&&u.jsx("button",{onClick:N=>{N.stopPropagation(),P(N)},className:`
                  absolute top-2 left-2 
                  w-7 h-7 rounded-full border border-white/50
                  flex items-center justify-center shadow-md
                  transition-all duration-200 hover:scale-105 z-10 
                  opacity-50 group-hover:opacity-100 
                  ${c?"bg-emerald-500 hover:bg-emerald-600":"bg-sky-500 hover:bg-sky-600"}
                `,"aria-label":c?`Expand children of ${t.name}`:`Collapse children of ${t.name}`,"aria-expanded":!c,children:c?u.jsx(yp,{className:"w-4 h-4 text-white"}):u.jsx(Hv,{className:"w-4 h-4 text-white"})})]}),u.jsx(xi,{type:"source",position:re.Bottom,className:"!w-2 !h-2 !bg-slate-400 !border-2 !border-white !shadow-sm"})]})},cB=X.memo(lB);function uB(e,t,n,r,s,o,i,a,l,c,d){var O,L;const{generationSpacing:f,memberSpacing:p,nodeWidth:h,siblingSpacing:b}=o,m=new Map;let w=[],y=new Set;if(c==="PersonView"&&r){const R=e.find($=>$.id===r);if(R){const $=new Set;if($.add(R.id),(O=R.parents)==null||O.forEach(S=>$.add(S)),R.partners)try{const S=JSON.parse(R.partners);Array.isArray(S)&&S.forEach(T=>$.add(T))}catch(S){console.warn(`Failed to parse partners for focusedMember ${R.id} in PersonView: ${R.partners}`,S)}R.spouse&&$.add(R.spouse),e.forEach(S=>{if(S.id!==R.id){if(S.partners)try{const T=JSON.parse(S.partners);Array.isArray(T)&&T.includes(R.id)&&$.add(S.id)}catch(T){console.warn(`Failed to parse partners for member ${S.id} in PersonView reverse lookup: ${S.partners}`,T)}S.spouse===R.id&&$.add(S.id)}}),e.forEach(S=>{var T;(T=S.parents)!=null&&T.includes(R.id)&&$.add(S.id)}),R.parents&&e.forEach(S=>{var T;S.id!==R.id&&((T=S.parents)!=null&&T.some(j=>R.parents.includes(j)))&&$.add(S.id)}),w=e.filter(S=>$.has(S.id)),y=$}else w=e.map($=>({...$,generation:$.generation||1}))}else if(c==="LineageView"&&r){const R=e.find($=>$.id===r);if(R){let $=[];d==="Descendants"?$=gc(R.id,e,1):$=getAncestors(R.id,e,1),w=$,y=new Set(w.map(S=>S.id))}else w=e.map($=>({...$,generation:$.generation||1}))}else{const R=e.map(S=>({...S,generation:S.generation||1}));if(r&&c==="FullTree"){const S=e.find(T=>T.id===r);if(S){if(y.add(S.id),(L=S.parents)==null||L.forEach(j=>y.add(j)),S.partners)try{const j=JSON.parse(S.partners);Array.isArray(j)&&j.forEach(M=>y.add(M))}catch(j){console.warn(`Failed to parse partners for focusedMember ${S.id}: ${S.partners}`,j)}e.forEach(j=>{if(j.id!==S.id&&(j.spouse===S.id&&y.add(j.id),S.spouse===j.id&&y.add(j.id),j.partners))try{const M=JSON.parse(j.partners);Array.isArray(M)&&M.includes(S.id)&&y.add(j.id)}catch(M){console.warn(`Failed to parse partners for member ${j.id}: ${j.partners}`,M)}}),S.parents&&e.forEach(j=>{var M;j.id!==S.id&&((M=j.parents)!=null&&M.some(A=>S.parents.includes(A)))&&y.add(j.id)}),gc(S.id,e,S.generation||1).forEach(j=>y.add(j.id))}}let $;if(c==="FullTree"){const S=new Map,T=[...R].sort((j,M)=>(j.generation||1)-(M.generation||1));for(const j of T){let M=!0;if(j.parents&&j.parents.length>0){for(const A of j.parents)if(S.get(A)===!1||n[A]&&(!r||A!==r)){M=!1;break}}S.set(j.id,M)}$=R.filter(j=>S.get(j.id)!==!1),S.clear();for(const j of T){let M=!0;if(j.parents&&j.parents.length>0){for(const A of j.parents)if(S.get(A)===!1||n[A]){M=!1;break}}S.set(j.id,M)}$=R.filter(j=>S.get(j.id)!==!1)}else $=w;w=$}const x=w.map(R=>{var C,D,F,z,H,U,G,K;const $=((R.generation||1)-1)*f;m.set(R.id,$);const S=t&&R.name.toLowerCase().includes(t.toLowerCase()),T=!!l&&R.id===l;let j=!1;c==="FullTree"&&r&&(j=!y.has(R.id));let M=null;if(r&&(!j||c!=="FullTree")){const B=e.find(V=>V.id===r);B&&(R.id===r?M="self":(C=B.parents)!=null&&C.includes(R.id)?M="parent":(D=R.parents)!=null&&D.includes(r)?M="child":R.id===B.spouse||B.id===R.spouse?M="spouse":c!=="LineageView"&&B.parents&&((F=R.parents)!=null&&F.some(V=>B.parents.includes(V)))?R.id!==r&&!((z=B.parents)!=null&&z.includes(R.id))&&!((H=R.parents)!=null&&H.includes(r))&&R.id!==B.spouse&&B.id!==R.spouse&&(M="sibling"):c!=="LineageView"&&gc(r,e).some(V=>V.id===R.id&&V.id!==r)?R.id!==r&&!((U=R.parents)!=null&&U.includes(r))&&!((G=B.parents)!=null&&G.includes(R.id))&&R.id!==B.spouse&&B.id!==R.spouse&&!(B.parents&&((K=R.parents)!=null&&K.some(V=>B.parents.includes(V))))&&(M="descendant"):c==="LineageView"&&(d==="Ancestors"&&R.id!==r&&getAncestors(r,e).some(V=>V.id===R.id)?getAncestors(r,e).some(J=>J.id===R.id&&R.id!==r)&&(M="ancestor"):d==="Descendants"&&R.id!==r&&gc(r,e).some(V=>V.id===R.id)&&(M="descendant")))}c==="FullTree"?w.some(B=>{var V;return((V=B.parents)==null?void 0:V.includes(R.id))&&!n[R.id]}):w.some(B=>{var V;return(V=B.parents)==null?void 0:V.includes(R.id)});const A=!!e.some(B=>{var V;return(V=B.parents)==null?void 0:V.includes(R.id)});return{id:R.id,type:"familyMember",position:{x:0,y:$},data:{member:R,onSelect:s.onSelect,onEdit:s.onEdit,onDelete:s.onDelete,isHighlighted:S,isHoverHighlighted:T,isDimmed:j,focusedRelationType:M,isCollapsed:!!n[R.id],onToggleCollapse:s.onToggleCollapse,hasChildren:A,canEdit:i,onNodeClick:s.onNodeClick,onAddChild:s.onAddChild},sourcePosition:re.Bottom,targetPosition:re.Top}}),v=Math.max(0,...w.map(R=>R.generation||1)),_=new Map;let E=a/2;const P=new Map;x.forEach(R=>{const $=R.data.member.generation||1;P.has($)||P.set($,[]),P.get($).push(R)});for(let R=1;R<=v;R++){const $=P.get(R)||[];if($.length!==0)if(R===1){const S=$,T=w.filter(A=>(A.generation||1)===1).sort((A,C)=>A.id.localeCompare(C.id)),j=new Set;let M=0;if(T.forEach(A=>{const C=$.find(D=>D.id===A.id);if(C&&!j.has(C.id)){C.position.x=M,j.add(C.id),_.set(C.id,C.position.x);let D=C.position.x+h;if(A.spouse&&A.spouse!==A.id){const F=w.find(z=>z.id===A.spouse&&(z.generation||1)===1);if(F){const z=$.find(H=>H.id===F.id);z&&!j.has(z.id)&&(z.position.x=D+b,j.add(z.id),_.set(z.id,z.position.x),D=z.position.x+h)}}M=D+p}}),$.forEach(A=>{j.has(A.id)||(A.position.x=M,j.add(A.id),M+=h+p)}),S.length>0){const A=S.map(G=>G.position.x),C=Math.min(...A),D=S.map(G=>G.position.x+h),z=Math.max(...D)-C,H=a/2-(C+z/2);if(S.forEach(G=>{G.position.x+=H,_.set(G.id,G.position.x+h/2)}),S.map(G=>_.get(G.id)).length>0){const G=Math.min(...S.map(B=>B.position.x)),K=Math.max(...S.map(B=>B.position.x+h));E=G+(K-G)/2}}}else{const S=new Map;$.forEach(F=>{const z=F.data.member,H=z.parents&&z.parents.length>0?z.parents.sort().join("-"):`no-parents-${z.id}`;S.has(H)||S.set(H,[]),S.get(H).push(F)});const T=Array.from(S.keys()).sort(),j=[];let M=0;for(const F of T){const z=S.get(F),H=z.length*h+(z.length-1)*b;M+=H;let U=E;if(z.length>0&&z[0].data.member.parents&&z[0].data.member.parents.length>0){const G=z[0].data.member.parents.map(K=>_.get(K)).filter(K=>K!==void 0);G.length>0&&(U=G.reduce((K,B)=>K+B,0)/G.length)}j.push({parentKey:F,siblingGroup:z,groupWidth:H,avgParentX:U})}j.length>0&&(M+=(j.length-1)*p);let A=E;if(j.length>0){const F=j.reduce((H,U)=>H+U.avgParentX*U.siblingGroup.length,0),z=j.reduce((H,U)=>H+U.siblingGroup.length,0);z>0&&(A=F/z)}let D=A-M/2;j.forEach(({siblingGroup:F,groupWidth:z,avgParentX:H})=>{let U=0;const G=D;F.forEach(K=>{K.position.x=G+U+h/2,_.set(K.id,K.position.x),U+=h+b}),D+=z+p})}}const k=[],N=new Set(w.map(R=>R.id));return w.forEach(R=>{R.parents&&Array.isArray(R.parents)&&R.parents.forEach($=>{$&&N.has($)&&N.has(R.id)&&k.push({id:`edge-${$}-to-${R.id}`,source:$,target:R.id,type:"smoothstep",animated:!0,markerEnd:{type:tl.ArrowClosed,color:"#60a5fa",width:20,height:20},style:{stroke:"#60a5fa",strokeWidth:2.5,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",transition:"stroke 0.3s ease, opacity 0.3s ease-in-out"}})})}),{nodes:x.map(R=>({...R})),edges:k}}const dB={familyMember:cB},xC={generationSpacing:600,memberSpacing:150,nodeWidth:208,siblingSpacing:70},fB=({nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:s,nodeTypes:o,setZoomInFunc:i,setZoomOutFunc:a,maxGeneration:l,fitView:c,defaultViewport:d,minZoom:f,maxZoom:p,style:h,onlyRenderVisibleElements:b,nodesDraggable:m,nodesConnectable:w,elementsSelectable:y})=>{const{zoomIn:x,zoomOut:v}=Bd();g.useEffect(()=>{i&&i(x),a&&a(v)},[x,v,i,a]);const _=xC;return u.jsxs(M8,{nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:s,nodeTypes:o,fitView:c,defaultViewport:d,minZoom:f,maxZoom:p,style:h,onlyRenderVisibleElements:b,nodesDraggable:m,nodesConnectable:w,elementsSelectable:y,children:[u.jsx(K8,{position:re.TopRight}),u.jsx(iB,{position:re.BottomRight,nodeColor:E=>E.data.isHighlighted?"#22c55e":"#d1fae5",pannable:!0,zoomable:!0}),u.jsx(z8,{variant:dr.Dots,gap:40,size:2,color:"#a7f3d0",style:{opacity:.3},children:l>0&&Array.from({length:l},(E,P)=>P+1).map(E=>u.jsx("div",{style:{position:"absolute",left:0,top:`${(E-1)*_.generationSpacing}px`,width:"100%",height:`${_.generationSpacing}px`,backgroundColor:E%2===0?"rgba(0,0,0,0.025)":"rgba(0,0,0,0.015)",zIndex:-2}},`gen-bg-${E}`))})]})},hB=({members:e,onMemberSelect:t,searchQuery:n,onSetEditingMember:r,onDeleteMember:s,focusedMemberId:o,hoveredMemberId:i,canEdit:a,viewMode:l,lineageDirection:c,onNodeClick:d,setZoomInFunc:f,setZoomOutFunc:p,onAddChild:h})=>{const[b,m,w]=I8([]),[y,x,v]=O8([]),[_,E]=g.useState({}),[P,k]=g.useState(typeof window<"u"?window.innerWidth:1e3),N=g.useRef(null);g.useEffect(()=>{N.current&&k(N.current.offsetWidth);const T=new ResizeObserver(j=>{j[0]&&k(j[0].contentRect.width)});return N.current&&T.observe(N.current),()=>{N.current&&T.unobserve(N.current)}},[]);const I=g.useCallback(T=>{E(j=>({...j,[T]:!j[T]}))},[]),O=g.useCallback(T=>x(j=>bk(T,j)),[x]),L=g.useMemo(()=>({onSelect:t,onEdit:r,onDelete:s,onToggleCollapse:I,onNodeClick:d,onAddChild:h}),[t,r,s,I,d,h]),{nodes:R,edges:$}=g.useMemo(()=>uB(e,n,_,o,L,xC,a,P,i,l,c),[e,n,_,o,i,L,a,P,l,c]);g.useEffect(()=>{m(R),x($)},[R,$,m,x]);const S=g.useMemo(()=>!R||R.length===0?0:Math.max(...R.map(T=>T.data.member.generation||0)),[R]);return u.jsx("div",{className:"w-full h-full relative",ref:N,children:u.jsx(mC,{children:u.jsx(fB,{nodes:b,edges:y,onNodesChange:w,onEdgesChange:v,onConnect:O,nodeTypes:dB,setZoomInFunc:f,setZoomOutFunc:p,maxGeneration:S,fitView:!0,defaultViewport:{x:0,y:0,zoom:.7},minZoom:.1,maxZoom:1.5,style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f7fee7 100%)"},onlyRenderVisibleElements:!0,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!0})})})},pB="modulepreload",mB=function(e){return"/"+e},$x={},wi=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=mB(l),l in $x)return;$x[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":pB,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},gB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class d0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class vB extends d0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yB extends d0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xB extends d0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var em;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(em||(em={}));var wB=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class bB{constructor(t,{headers:n={},customFetch:r,region:s=em.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=gB(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return wB(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(b=>{throw new vB(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new yB(d);if(!d.ok)throw new xB(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield d.json():p==="application/octet-stream"?h=yield d.blob():p==="text/event-stream"?h=d:p==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var St={},f0={},Vd={},Il={},Wd={},Gd={},_B=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bi=_B();const SB=bi.fetch,wC=bi.fetch.bind(bi),bC=bi.Headers,EB=bi.Request,kB=bi.Response,Ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:bC,Request:EB,Response:kB,default:wC,fetch:SB},Symbol.toStringTag,{value:"Module"})),CB=Rj(Ri);var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});let NB=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Kd.default=NB;var _C=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gd,"__esModule",{value:!0});const jB=_C(CB),PB=_C(Kd);let TB=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=jB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,d=null,f=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(d=[],c=null,p=200,h="OK")}catch{o.status===404&&m===""?(p=204,h="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,h="OK"),c&&this.shouldThrowOnError)throw new PB.default(c)}return{error:c,data:d,count:f,status:p,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Gd.default=TB;var AB=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wd,"__esModule",{value:!0});const RB=AB(Gd);let MB=class extends RB.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wd.default=MB;var IB=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Il,"__esModule",{value:!0});const OB=IB(Wd);let DB=class extends OB.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Il.default=DB;var $B=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vd,"__esModule",{value:!0});const Xi=$B(Il);let LB=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Xi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vd.default=LB;var Yd={},qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.version=void 0;qd.version="0.0.0-automated";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.DEFAULT_HEADERS=void 0;const FB=qd;Yd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${FB.version}`};var SC=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f0,"__esModule",{value:!0});const zB=SC(Vd),BB=SC(Il),UB=Yd;let HB=class EC{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},UB.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new zB.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new EC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new BB.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};f0.default=HB;var Mi=tn&&tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(St,"__esModule",{value:!0});St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const kC=Mi(f0);St.PostgrestClient=kC.default;const CC=Mi(Vd);St.PostgrestQueryBuilder=CC.default;const NC=Mi(Il);St.PostgrestFilterBuilder=NC.default;const jC=Mi(Wd);St.PostgrestTransformBuilder=jC.default;const PC=Mi(Gd);St.PostgrestBuilder=PC.default;const TC=Mi(Kd);St.PostgrestError=TC.default;var VB=St.default={PostgrestClient:kC.default,PostgrestQueryBuilder:CC.default,PostgrestFilterBuilder:NC.default,PostgrestTransformBuilder:jC.default,PostgrestBuilder:PC.default,PostgrestError:TC.default};const{PostgrestClient:WB,PostgrestQueryBuilder:iH,PostgrestFilterBuilder:aH,PostgrestTransformBuilder:lH,PostgrestBuilder:cH,PostgrestError:uH}=VB,GB="2.11.2",KB={"X-Client-Info":`realtime-js/${GB}`},YB="1.0.0",AC=1e4,qB=1e3;var Go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Go||(Go={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var vn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vn||(vn={}));var tm;(function(e){e.websocket="websocket"})(tm||(tm={}));var Es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Es||(Es={}));class XB{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class RC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const Lx=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=QB(i,e,t,s),o),{})},QB=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?MC(o,i):nm(i)},MC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return tU(t,n)}switch(e){case Ne.bool:return JB(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return ZB(t);case Ne.json:case Ne.jsonb:return eU(t);case Ne.timestamp:return nU(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return nm(t);default:return nm(t)}},nm=e=>e,JB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>MC(t,a))}return e},nU=e=>typeof e=="string"?e.replace(" ","T"):e,IC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mh{constructor(t,n,r={},s=AC){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fx||(Fx={}));class xa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xa.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=xa.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xa.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const p=d.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),b=d.filter(w=>h.indexOf(w.presence_ref)<0),m=f.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(a[c]=b),m.length>0&&(l[c]=m)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zx||(zx={}));var Bx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bx||(Bx={}));var tr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tr||(tr={}));class h0{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mh(this,vn.join,this.params,this.timeout),this.rejoinTimer=new RC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new xa(this),this.broadcastEndpointURL=IC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(tr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tr.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(tr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,h=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,b=[];for(let m=0;m<h;m++){const w=p[m],{filter:{event:y,schema:x,table:v,filter:_}}=w,E=d&&d[m];if(E&&E.event===y&&E.schema===x&&E.table===v&&E.filter===_)b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),t==null||t(tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(tr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new mh(this,vn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mh(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=vn;if(r&&[a,l,c,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var b,m,w;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(m=h.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(h=>h.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var b,m,w,y,x,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const _=h.id,E=(b=h.filter)===null||b===void 0?void 0:b.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:m,table:w,commit_timestamp:y,type:x,errors:v}=b;p=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(b))}h.callback(p,r)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&h0.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vn.close,{},t)}_onError(t){this._on(vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lx(t.columns,t.old_record)),n}}const rU=()=>{},sU=typeof WebSocket<"u",oU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iU{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=KB,this.params={},this.timeout=AC,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rU,this.conn=null,this.sendBuffer=[],this.serializer=new XB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>wi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ri);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${tm.websocket}`,this.httpEndpoint=IC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new RC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(sU){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new aU(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),wi(async()=>{const{default:t}=await import("./browser-B_TnXiYV.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YB}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Go.connecting:return Es.Connecting;case Go.open:return Es.Open;case Go.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}channel(t,n={config:{}}){const r=new h0(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(vn.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(qB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([oU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class aU{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Go.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class p0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lU extends p0{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rm extends p0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const OC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},uU=()=>cU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wi(()=>Promise.resolve().then(()=>Ri),void 0)).Response:Response}),sm=e=>{if(Array.isArray(e))return e.map(n=>sm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=sm(r)}),t};var co=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const gh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dU=(e,t,n)=>co(void 0,void 0,void 0,function*(){const r=yield uU();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new lU(gh(s),e.status||500))}).catch(s=>{t(new rm(gh(s),s))}):t(new rm(gh(e),e))}),fU=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ol(e,t,n,r,s,o){return co(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,fU(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>dU(l,a,r))})})}function Wu(e,t,n,r){return co(this,void 0,void 0,function*(){return Ol(e,"GET",t,n,r)})}function $r(e,t,n,r,s){return co(this,void 0,void 0,function*(){return Ol(e,"POST",t,r,s,n)})}function hU(e,t,n,r,s){return co(this,void 0,void 0,function*(){return Ol(e,"PUT",t,r,s,n)})}function pU(e,t,n,r){return co(this,void 0,void 0,function*(){return Ol(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function DC(e,t,n,r,s){return co(this,void 0,void 0,function*(){return Ol(e,"DELETE",t,r,s,n)})}var wt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const mU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ux={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gU{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=OC(s)}uploadOrUpdate(t,n,r,s){return wt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Ux),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Xe(o))return{data:null,error:o};throw o}})}upload(t,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return wt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ux.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield $r(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new p0("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}update(t,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return wt(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield $r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield $r(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return wt(this,void 0,void 0,function*(){try{const s=yield $r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}download(t,n){return wt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Wu(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}info(t){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sm(r),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}exists(t){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield pU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xe(r)&&r instanceof rm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return wt(this,void 0,void 0,function*(){try{return{data:yield DC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}list(t,n,r){return wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},mU),n),{prefix:t||""});return{data:yield $r(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const vU="2.7.1",yU={"X-Client-Info":`storage-js/${vU}`};var vo=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class xU{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},yU),n),this.fetch=OC(r)}listBuckets(){return vo(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xe(t))return{data:null,error:t};throw t}})}getBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return vo(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return vo(this,void 0,void 0,function*(){try{return{data:yield hU(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return vo(this,void 0,void 0,function*(){try{return{data:yield DC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}}class wU extends xU{constructor(t,n={},r){super(t,n,r)}from(t){return new gU(this.url,this.headers,t,this.fetch)}}const bU="2.49.8";let oa="";typeof Deno<"u"?oa="deno":typeof document<"u"?oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oa="react-native":oa="node";const _U={"X-Client-Info":`supabase-js-${oa}/${bU}`},SU={headers:_U},EU={schema:"public"},kU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CU={};var NU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const jU=e=>{let t;return e?t=e:typeof fetch>"u"?t=wC:t=fetch,(...n)=>t(...n)},PU=()=>typeof Headers>"u"?bC:Headers,TU=(e,t,n)=>{const r=jU(n),s=PU();return(o,i)=>NU(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var AU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function RU(e){return e.endsWith("/")?e:e+"/"}function MU(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>AU(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const $C="2.69.1",wo=30*1e3,om=3,vh=om*wo,IU="http://localhost:9999",OU="supabase.auth.token",DU={"X-Client-Info":`gotrue-js/${$C}`},im="X-Supabase-Api-Version",LC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$U=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LU=6e5;class m0 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class FU extends m0{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function zU(e){return fe(e)&&e.name==="AuthApiError"}class FC extends m0{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ms extends m0{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Rr extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BU(e){return fe(e)&&e.name==="AuthSessionMissingError"}class yh extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cc extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nc extends ms{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UU(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hx extends ms{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class am extends ms{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xh(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class Vx extends ms{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wa extends ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gx=` 	
\r=`.split(""),HU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gx.length;t+=1)e[Gx[t].charCodeAt(0)]=-2;for(let t=0;t<Wx.length;t+=1)e[Wx[t].charCodeAt(0)]=t;return e})();function zC(e,t,n){const r=HU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kx(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{GU(i,r,n)};for(let i=0;i<e.length;i+=1)zC(e.charCodeAt(i),s,o);return t.join("")}function VU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}VU(r,t)}}function GU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function KU(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function YU(e){const t=[];return WU(e,n=>t.push(n)),new Uint8Array(t)}function qU(e){return Math.round(Date.now()/1e3)+e}function XU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rn=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},ba=()=>{if(!Rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function QU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const BC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wi(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",UC=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},jc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pc=async(e,t)=>{await e.removeItem(t)};class Xd{constructor(){this.promise=new Xd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xd.promiseConstructor=Promise;function wh(e){const t=e.split(".");if(t.length!==3)throw new wa("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$U.test(t[r]))throw new wa("JWT not in base64url format");return{header:JSON.parse(Kx(t[0])),payload:JSON.parse(Kx(t[1])),signature:KU(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function e7(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function t7(e){return("0"+e.toString(16)).substr(-2)}function n7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,t7).join("")}async function r7(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function s7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await r7(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(e,t,n=!1){const r=n7();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await UC(e,`${t}-code-verifier`,s);const o=await s7(r);return[o,r===o?"plain":"s256"]}const o7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i7(e){const t=e.headers.get(im);if(!t||!t.match(o7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function l7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var c7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const _s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u7=[502,503,504];async function Yx(e){var t;if(!JU(e))throw new am(_s(e),0);if(u7.includes(e.status))throw new am(_s(e),e.status);let n;try{n=await e.json()}catch(o){throw new FC(_s(o),o)}let r;const s=i7(e);if(s&&s.getTime()>=LC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vx(_s(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Rr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Vx(_s(n),e.status,n.weak_password.reasons);throw new FU(_s(n),e.status||500,r)}const d7=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ge(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[im]||(o[im]=LC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await f7(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function f7(e,t,n,r,s,o){const i=d7(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new am(_s(l),0)}if(a.ok||await Yx(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Yx(l)}}function Mr(e){var t;let n=null;g7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qx(e){const t=Mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Br(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h7(e){return{data:e,error:null}}function p7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=c7(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function m7(e){return e}function g7(e){return e.access_token&&e.refresh_token&&e.expires_in}var v7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class y7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=BC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Br})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=v7(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:p7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Br})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:m7});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const m=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(fe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Br})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Br})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Br})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}const x7={getItem:e=>ba()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ba()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ba()&&globalThis.localStorage.removeItem(e)}};function Xx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function w7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xo={debug:!!(globalThis&&ba()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b7 extends HC{}async function _7(e,t,n){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}w7();const S7={url:IU,storageKey:OU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qx(e,t,n){return await n()}class ol{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ol.nextInstanceID,ol.nextInstanceID+=1,this.instanceID>0&&Rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},S7),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new y7({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=BC(s.fetch),this.lock=s.lock||Qx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Rn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_7:this.lock=Qx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ba()?this.storage=x7:(this.memoryStorage={},this.storage=Xx(this.memoryStorage)):(this.memoryStorage={},this.storage=Xx(this.memoryStorage)),Rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$C}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Rn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),UU(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return fe(n)?{error:n}:{error:new FC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Mr}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(fe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await yo(this.storage,this.storageKey)),o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:b},xform:Mr})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Mr})}else throw new Cc("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qx})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qx})}else throw new Cc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await jc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Mr});if(await Pc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new yh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(fe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yo(this.storage,this.storageKey));const{error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Cc("You must provide either an email or phone number.")}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Mr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await yo(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:h7})}catch(o){if(fe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Rr;const{error:s}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new Cc("You must provide either an email or phone number and a type")}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await jc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<vh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Br}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rr}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Br})})}catch(n){if(fe(n))return BU(n)&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Rr;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await yo(this.storage,this.storageKey));const{data:c,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Br});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=wh(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(fe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Rr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Rn())throw new Nc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Hx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hx("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new Nc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const b=p-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:m,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(fe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await jc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(zU(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=XU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await yo(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(fe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:p}=o;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Rn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(fe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await e7(async s=>(s>0&&await ZU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&xh(o)&&Date.now()+i-r<wo})}catch(r){if(this._debug(n,"error",r),fe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await jc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${vh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),xh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Rr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),fe(o)){const i={session:null,error:o};return xh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await UC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Pc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wo}ms, refresh threshold is ${om} ticks`),s<=om&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof HC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await yo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(fe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(fe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=wh(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+LU>Date.now()))return r;const{data:s,error:o}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new wa("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new wa("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:b}=await this.getSession();if(b||!h.session)return{data:null,error:b};r=h.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=wh(r);if(a7(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:s,signature:i},error:null}}const c=l7(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,YU(`${a}.${l}`)))throw new wa("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}ol.nextInstanceID=0;const E7=ol;class k7 extends E7{constructor(t){super(t)}}var C7=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class N7{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=RU(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:EU,realtime:CU,auth:Object.assign(Object.assign({},kU),{storageKey:c}),global:SU},f=MU(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=TU(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new WB(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new bB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wU(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return C7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k7({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new iU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j7=(e,t,n)=>new N7(e,t,n),P7="https://mxvqldnxpilsvvpnrfcy.supabase.co",T7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14dnFsZG54cGlsc3Z2cG5yZmN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2ODMwNzgsImV4cCI6MjA2MzI1OTA3OH0.rM5tGo2SKuyP_cAEMKupRZTwtQRGUKdyn9bEaSTAiUI",je=j7(P7,T7),VC=e=>{if(typeof e!="string"||e.trim()==="")return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(n=>typeof n=="string").map(n=>n.trim()).filter(n=>n.length>0);console.warn("Partners string parsed as JSON but is not an array:",t)}catch{}if(e.startsWith("{")&&e.endsWith("}"))try{const t=e.substring(1,e.length-1);if(t.trim()==="")return[];const n=t.split(",").map(r=>{let s=r.trim();return s.startsWith('"')&&s.endsWith('"')&&(s=s.substring(1,s.length-1),s=s.replace(/""/g,'"')),s}).filter(r=>r.length>0);if(n.length>0&&n.some(r=>r.length>0))return n}catch(t){console.error("Error parsing PostgreSQL-like array string:",e,t)}return console.warn("Could not parse partners string using known methods. String was:",e),[]},WC=g.createContext(void 0),A7=({children:e})=>{const[t,n]=g.useState(null),[r,s]=g.useState(null),[o,i]=g.useState(!0);g.useEffect(()=>{i(!0),(async()=>{const{data:{session:f}}=await je.auth.getSession();n(f),s((f==null?void 0:f.user)??null),i(!1)})();const{data:d}=je.auth.onAuthStateChange(async(f,p)=>{n(p),s((p==null?void 0:p.user)??null)});return()=>{d==null||d.unsubscribe()}},[]);const l={session:t,user:r,loading:o,signOut:async()=>{i(!0),await je.auth.signOut(),i(!1)}};return u.jsx(WC.Provider,{value:l,children:e})},GC=()=>{const e=g.useContext(WC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},R7=({member:e,onClose:t,onEditRequest:n})=>{const{user:r,loading:s}=GC(),o=!s&&!!r,[i,a]=g.useState(null),[l,c]=g.useState([]),[d,f]=g.useState([]),[p,h]=g.useState(!0),b=g.useMemo(()=>VC(i==null?void 0:i.partners),[i==null?void 0:i.partners]),m=async x=>{if(!x||x.length===0)return[];const{data:v,error:_}=await je.from("family_members").select("id, name").in("id",x);return _?(console.error(`Error fetching names for IDs ${x.join(",")}:`,_),[]):(v==null?void 0:v.map(E=>E.name).filter(Boolean))||[]};g.useEffect(()=>{(async()=>{if(!(e!=null&&e.id)){h(!1),a(null);return}h(!0),a(null),c([]),f([]);try{const{data:v,error:_}=await je.from("family_members").select("*").eq("id",e.id).single();if(_){console.error("Error fetching detailed member data:",_),a(null),h(!1);return}if(a(v),v){if(v.parents&&v.parents.length>0){const E=await m(v.parents);c(E)}if(v.children&&v.children.length>0){const E=await m(v.children);f(E)}}}catch(v){console.error("Error in fetchModalData:",v),a(null)}finally{h(!1)}})()},[e==null?void 0:e.id]);const w=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",y=()=>{if(!(i!=null&&i.birthDate))return null;const x=new Date(i.birthDate),v=i.deathDate?new Date(i.deathDate):new Date,_=v.getFullYear()-x.getFullYear(),E=v.getMonth()-x.getMonth();return E<0||E===0&&v.getDate()<x.getDate()?_-1:_};return p?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:u.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl",children:u.jsx("p",{className:"text-center text-xl",children:"Loading member details..."})})}):i?u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:[" ",u.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[u.jsxs("div",{className:`
          relative p-6 rounded-t-2xl
          ${i.gender==="male"?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-pink-500 to-pink-600"}
        `,children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:u.jsx(Ci,{className:"h-6 w-6"})}),u.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[u.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:i.photo?u.jsx("img",{src:i.photo,alt:i.name,className:"w-20 h-20 rounded-full object-cover"}):u.jsx(xl,{className:"h-10 w-10"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:i.name}),y()!==null&&u.jsxs("p",{className:"text-lg opacity-90",children:[y()," years old ",i.deathDate&&"(deceased)"]})]})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(Ks,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Born"}),u.jsx("p",{children:w(i.birthDate)})]})]}),i.deathDate&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(Ks,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Died"}),u.jsx("p",{children:w(i.deathDate)})]})]}),i.birthPlace&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(r_,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Birthplace"}),u.jsx("p",{children:i.birthPlace})]})]}),i.occupation&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(gg,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Occupation"}),u.jsx("p",{children:i.occupation})]})]}),i.coParentName&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(Ds,{className:"h-5 w-5"})," ",u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Co-parent Name"}),u.jsx("p",{children:i.coParentName})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[b.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[u.jsx(t_,{className:"h-5 w-5"}),u.jsx("p",{className:"font-medium",children:"Partner(s)"})]}),u.jsx("div",{className:"space-y-2",children:b.map((x,v)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsx("p",{className:"font-medium",children:x})},v))})]}),l.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[u.jsx(Ds,{className:"h-5 w-5"}),u.jsx("p",{className:"font-medium",children:"Parents"})]}),u.jsx("div",{className:"space-y-2",children:l.map((x,v)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsx("p",{className:"font-medium",children:x})},v))})]}),d.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[u.jsx(Ds,{className:"h-5 w-5"})," ",u.jsx("p",{className:"font-medium",children:"Children"})]}),u.jsx("div",{className:"space-y-2",children:d.map((x,v)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsx("p",{className:"font-medium",children:x})},v))})]})]})]}),i.bio&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Biography"}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.bio})})]})]}),u.jsxs("div",{className:"border-t bg-gray-50 px-6 py-4 rounded-b-2xl flex space-x-3",children:[u.jsx("button",{onClick:t,className:`flex-1 bg-slate-500 text-white py-2.5 px-4 rounded-lg
                       hover:bg-slate-600 transition-colors font-medium text-sm`,children:"Close"}),o&&i&&u.jsx("button",{onClick:()=>{n(i),t()},className:`flex-1 bg-blue-500 text-white py-2.5 px-4 rounded-lg
                         hover:bg-blue-600 transition-colors font-medium text-sm`,children:"Edit Member"})]})]})]}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl text-center",children:[u.jsx("p",{className:"text-xl mb-4",children:"Member details not available."}),u.jsx("button",{onClick:t,className:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})]})})},M7=({member:e,onClose:t,onEdit:n})=>{if(!e)return null;const r=()=>console.log("Toggle expand for:",e.id);return u.jsx("div",{className:"fixed top-0 right-0 h-full w-80 md:w-96 bg-card border-l shadow-xl z-40 transform transition-transform duration-300 ease-in-out",style:{transform:e?"translateX(0)":"translateX(100%)"},children:u.jsxs(qs,{className:"h-full flex flex-col rounded-none border-0 shadow-none",children:[u.jsxs(Sl,{className:"flex flex-row items-center justify-between p-4 border-b",children:[u.jsx(El,{className:"text-lg truncate",children:e.name}),u.jsx(he,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close panel",children:u.jsx(Ci,{className:"h-5 w-5"})})]}),u.jsxs(kl,{className:"p-4 space-y-4 overflow-y-auto flex-grow",children:[u.jsx("div",{className:"flex justify-center mb-4",children:e.photo?u.jsx("img",{src:e.photo,alt:e.name,className:"w-32 h-32 rounded-full object-cover border-2 border-primary"}):u.jsx("div",{className:"w-32 h-32 rounded-full bg-muted flex items-center justify-center border-2",children:u.jsx(xl,{className:"w-16 h-16 text-muted-foreground"})})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-1",children:"Details"}),u.jsxs("p",{className:"text-sm",children:[u.jsx("strong",{children:"DOB:"})," ",e.birthDate?new Date(e.birthDate).toLocaleDateString():"N/A"]})]}),e.bio&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-1",children:"Bio"}),u.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.bio})]})]}),u.jsxs("div",{className:"p-4 border-t flex flex-col space-y-2",children:[u.jsxs(he,{variant:"outline",onClick:()=>n(e),children:[u.jsx(o_,{className:"mr-2 h-4 w-4"})," Edit Member"]}),u.jsxs(he,{variant:"outline",onClick:()=>console.log("View Full Profile for:",e.id),children:[u.jsx(lA,{className:"mr-2 h-4 w-4"})," View Full Profile"]}),u.jsxs(he,{variant:"outline",onClick:r,children:[u.jsx(uA,{className:"mr-2 h-4 w-4"}),"Collapse Family"]})]})]})})};var Qd="Dialog",[KC,dH]=br(Qd),[I7,Nn]=KC(Qd),YC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=g.useRef(null),l=g.useRef(null),[c,d]=Gs({prop:r,defaultProp:s??!1,onChange:o,caller:Qd});return u.jsx(I7,{scope:t,triggerRef:a,contentRef:l,contentId:Un(),titleId:Un(),descriptionId:Un(),open:c,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};YC.displayName=Qd;var qC="DialogTrigger",XC=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(qC,n),o=be(t,s.triggerRef);return u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":y0(s.open),...r,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});XC.displayName=qC;var g0="DialogPortal",[O7,QC]=KC(g0,{forceMount:void 0}),JC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Nn(g0,t);return u.jsx(O7,{scope:t,forceMount:n,children:g.Children.map(r,i=>u.jsx(Kn,{present:n||o.open,children:u.jsx(gl,{asChild:!0,container:s,children:i})}))})};JC.displayName=g0;var Gu="DialogOverlay",ZC=g.forwardRef((e,t)=>{const n=QC(Gu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Nn(Gu,e.__scopeDialog);return o.modal?u.jsx(Kn,{present:r||o.open,children:u.jsx($7,{...s,ref:t})}):null});ZC.displayName=Gu;var D7=Ws("DialogOverlay.RemoveScroll"),$7=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(Gu,n);return u.jsx(kd,{as:D7,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ue.div,{"data-state":y0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Js="DialogContent",eN=g.forwardRef((e,t)=>{const n=QC(Js,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Nn(Js,e.__scopeDialog);return u.jsx(Kn,{present:r||o.open,children:o.modal?u.jsx(L7,{...s,ref:t}):u.jsx(F7,{...s,ref:t})})});eN.displayName=Js;var L7=g.forwardRef((e,t)=>{const n=Nn(Js,e.__scopeDialog),r=g.useRef(null),s=be(t,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return Hg(o)},[]),u.jsx(tN,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),F7=g.forwardRef((e,t)=>{const n=Nn(Js,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return u.jsx(tN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),tN=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Nn(Js,n),l=g.useRef(null),c=be(t,l);return Ug(),u.jsxs(u.Fragment,{children:[u.jsx(Sd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(ki,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":y0(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(z7,{titleId:a.titleId}),u.jsx(U7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),v0="DialogTitle",nN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(v0,n);return u.jsx(ue.h2,{id:s.titleId,...r,ref:t})});nN.displayName=v0;var rN="DialogDescription",sN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(rN,n);return u.jsx(ue.p,{id:s.descriptionId,...r,ref:t})});sN.displayName=rN;var oN="DialogClose",iN=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nn(oN,n);return u.jsx(ue.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});iN.displayName=oN;function y0(e){return e?"open":"closed"}var aN="DialogTitleWarning",[fH,lN]=uT(aN,{contentName:Js,titleName:v0,docsSlug:"dialog"}),z7=({titleId:e})=>{const t=lN(aN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},B7="DialogDescriptionWarning",U7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lN(B7).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},cN=YC,H7=XC,uN=JC,Jd=ZC,Zd=eN,ef=nN,tf=sN,dN=iN;const Ko=cN,V7=H7,W7=uN,fN=g.forwardRef(({className:e,...t},n)=>u.jsx(Jd,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));fN.displayName=Jd.displayName;const Fs=g.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(W7,{children:[u.jsx(fN,{}),u.jsxs(Zd,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(dN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Ci,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fs.displayName=Zd.displayName;const nf=({className:e,...t})=>u.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});nf.displayName="DialogHeader";const rf=g.forwardRef(({className:e,...t},n)=>u.jsx(ef,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));rf.displayName=ef.displayName;const G7=g.forwardRef(({className:e,...t},n)=>u.jsx(tf,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));G7.displayName=tf.displayName;function Jx(e,[t,n]){return Math.min(n,Math.max(t,e))}function K7(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Y7=[" ","Enter","ArrowUp","ArrowDown"],q7=[" ","Enter"],Zs="Select",[sf,of,X7]=dd(Zs),[Ii,hH]=br(Zs,[X7,Ti]),af=Ti(),[Q7,gs]=Ii(Zs),[J7,Z7]=Ii(Zs),hN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:h,form:b}=e,m=af(t),[w,y]=g.useState(null),[x,v]=g.useState(null),[_,E]=g.useState(!1),P=Bg(c),[k,N]=Gs({prop:r,defaultProp:s??!1,onChange:o,caller:Zs}),[I,O]=Gs({prop:i,defaultProp:a,onChange:l,caller:Zs}),L=g.useRef(null),R=w?b||!!w.closest("form"):!0,[$,S]=g.useState(new Set),T=Array.from($).map(j=>j.props.value).join(";");return u.jsx(Tg,{...m,children:u.jsxs(Q7,{required:h,scope:t,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:Un(),value:I,onValueChange:O,open:k,onOpenChange:N,dir:P,triggerPointerDownPosRef:L,disabled:p,children:[u.jsx(sf.Provider,{scope:t,children:u.jsx(J7,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(j=>{S(M=>new Set(M).add(j))},[]),onNativeOptionRemove:g.useCallback(j=>{S(M=>{const A=new Set(M);return A.delete(j),A})},[]),children:n})}),R?u.jsxs($N,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:j=>O(j.target.value),disabled:p,form:b,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from($)]},T):null]})})};hN.displayName=Zs;var pN="SelectTrigger",mN=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=af(n),i=gs(pN,n),a=i.disabled||r,l=be(t,i.onTriggerChange),c=of(n),d=g.useRef("touch"),[f,p,h]=FN(m=>{const w=c().filter(v=>!v.disabled),y=w.find(v=>v.value===i.value),x=zN(w,m,y);x!==void 0&&i.onValueChange(x.value)}),b=m=>{a||(i.onOpenChange(!0),h()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(Ag,{asChild:!0,...o,children:u.jsx(ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":LN(i.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&b(m)}),onPointerDown:Z(s.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:Z(s.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(w&&m.key===" ")&&Y7.includes(m.key)&&(b(),m.preventDefault())})})})});mN.displayName=pN;var gN="SelectValue",vN=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=gs(gN,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=be(t,l.onValueNodeChange);return st(()=>{c(d)},[c,d]),u.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:LN(l.value)?u.jsx(u.Fragment,{children:i}):o})});vN.displayName=gN;var e9="SelectIcon",yN=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});yN.displayName=e9;var t9="SelectPortal",xN=e=>u.jsx(gl,{asChild:!0,...e});xN.displayName=t9;var eo="SelectContent",wN=g.forwardRef((e,t)=>{const n=gs(eo,e.__scopeSelect),[r,s]=g.useState();if(st(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ro.createPortal(u.jsx(bN,{scope:e.__scopeSelect,children:u.jsx(sf.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(_N,{...e,ref:t})});wN.displayName=eo;var un=10,[bN,vs]=Ii(eo),n9="SelectContentImpl",r9=Ws("SelectContent.RemoveScroll"),_N=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:b,hideWhenDetached:m,avoidCollisions:w,...y}=e,x=gs(eo,n),[v,_]=g.useState(null),[E,P]=g.useState(null),k=be(t,B=>_(B)),[N,I]=g.useState(null),[O,L]=g.useState(null),R=of(n),[$,S]=g.useState(!1),T=g.useRef(!1);g.useEffect(()=>{if(v)return Hg(v)},[v]),Ug();const j=g.useCallback(B=>{const[V,...J]=R().map(q=>q.ref.current),[ee]=J.slice(-1),Q=document.activeElement;for(const q of B)if(q===Q||(q==null||q.scrollIntoView({block:"nearest"}),q===V&&E&&(E.scrollTop=0),q===ee&&E&&(E.scrollTop=E.scrollHeight),q==null||q.focus(),document.activeElement!==Q))return},[R,E]),M=g.useCallback(()=>j([N,v]),[j,N,v]);g.useEffect(()=>{$&&M()},[$,M]);const{onOpenChange:A,triggerPointerDownPosRef:C}=x;g.useEffect(()=>{if(v){let B={x:0,y:0};const V=ee=>{var Q,q;B={x:Math.abs(Math.round(ee.pageX)-(((Q=C.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((q=C.current)==null?void 0:q.y)??0))}},J=ee=>{B.x<=10&&B.y<=10?ee.preventDefault():v.contains(ee.target)||A(!1),document.removeEventListener("pointermove",V),C.current=null};return C.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",J,{capture:!0})}}},[v,A,C]),g.useEffect(()=>{const B=()=>A(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[A]);const[D,F]=FN(B=>{const V=R().filter(Q=>!Q.disabled),J=V.find(Q=>Q.ref.current===document.activeElement),ee=zN(V,B,J);ee&&setTimeout(()=>ee.ref.current.focus())}),z=g.useCallback((B,V,J)=>{const ee=!T.current&&!J;(x.value!==void 0&&x.value===V||ee)&&(I(B),ee&&(T.current=!0))},[x.value]),H=g.useCallback(()=>v==null?void 0:v.focus(),[v]),U=g.useCallback((B,V,J)=>{const ee=!T.current&&!J;(x.value!==void 0&&x.value===V||ee)&&L(B)},[x.value]),G=r==="popper"?lm:SN,K=G===lm?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:b,hideWhenDetached:m,avoidCollisions:w}:{};return u.jsx(bN,{scope:n,content:v,viewport:E,onViewportChange:P,itemRefCallback:z,selectedItem:N,onItemLeave:H,itemTextRefCallback:U,focusSelectedItem:M,selectedItemText:O,position:r,isPositioned:$,searchRef:D,children:u.jsx(kd,{as:r9,allowPinchZoom:!0,children:u.jsx(Sd,{asChild:!0,trapped:x.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Z(s,B=>{var V;(V=x.trigger)==null||V.focus({preventScroll:!0}),B.preventDefault()}),children:u.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(G,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:B=>B.preventDefault(),...y,...K,onPlaced:()=>S(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,B=>{const V=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!V&&B.key.length===1&&F(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ee=R().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const Q=B.target,q=ee.indexOf(Q);ee=ee.slice(q+1)}setTimeout(()=>j(ee)),B.preventDefault()}})})})})})})});_N.displayName=n9;var s9="SelectItemAlignedPosition",SN=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=gs(eo,n),i=vs(eo,n),[a,l]=g.useState(null),[c,d]=g.useState(null),f=be(t,k=>d(k)),p=of(n),h=g.useRef(!1),b=g.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=i,v=g.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&w&&y){const k=o.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const Q=O.left-N.left,q=I.left-Q,ie=k.left-q,ae=k.width+ie,Se=Math.max(ae,N.width),ke=window.innerWidth-un,ot=Jx(q,[un,Math.max(un,ke-Se)]);a.style.minWidth=ae+"px",a.style.left=ot+"px"}else{const Q=N.right-O.right,q=window.innerWidth-I.right-Q,ie=window.innerWidth-k.right-q,ae=k.width+ie,Se=Math.max(ae,N.width),ke=window.innerWidth-un,ot=Jx(q,[un,Math.max(un,ke-Se)]);a.style.minWidth=ae+"px",a.style.right=ot+"px"}const L=p(),R=window.innerHeight-un*2,$=m.scrollHeight,S=window.getComputedStyle(c),T=parseInt(S.borderTopWidth,10),j=parseInt(S.paddingTop,10),M=parseInt(S.borderBottomWidth,10),A=parseInt(S.paddingBottom,10),C=T+j+$+A+M,D=Math.min(w.offsetHeight*5,C),F=window.getComputedStyle(m),z=parseInt(F.paddingTop,10),H=parseInt(F.paddingBottom,10),U=k.top+k.height/2-un,G=R-U,K=w.offsetHeight/2,B=w.offsetTop+K,V=T+j+B,J=C-V;if(V<=U){const Q=L.length>0&&w===L[L.length-1].ref.current;a.style.bottom="0px";const q=c.clientHeight-m.offsetTop-m.offsetHeight,ie=Math.max(G,K+(Q?H:0)+q+M),ae=V+ie;a.style.height=ae+"px"}else{const Q=L.length>0&&w===L[0].ref.current;a.style.top="0px";const ie=Math.max(U,T+m.offsetTop+(Q?z:0)+K)+J;a.style.height=ie+"px",m.scrollTop=V-U+m.offsetTop}a.style.margin=`${un}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,o.trigger,o.valueNode,a,c,m,w,y,o.dir,r]);st(()=>v(),[v]);const[_,E]=g.useState();st(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const P=g.useCallback(k=>{k&&b.current===!0&&(v(),x==null||x(),b.current=!1)},[v,x]);return u.jsx(i9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:P,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});SN.displayName=s9;var o9="SelectPopperPosition",lm=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=un,...o}=e,i=af(n);return u.jsx(Rg,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lm.displayName=o9;var[i9,x0]=Ii(eo,{}),cm="SelectViewport",EN=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=vs(cm,n),i=x0(cm,n),a=be(t,o.onViewportChange),l=g.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(sf.Slot,{scope:n,children:u.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const b=window.innerHeight-un*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(m,w);if(y<b){const x=y+h,v=Math.min(b,x),_=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});EN.displayName=cm;var kN="SelectGroup",[a9,l9]=Ii(kN),c9=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Un();return u.jsx(a9,{scope:n,id:s,children:u.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});c9.displayName=kN;var CN="SelectLabel",NN=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=l9(CN,n);return u.jsx(ue.div,{id:s.id,...r,ref:t})});NN.displayName=CN;var Ku="SelectItem",[u9,jN]=Ii(Ku),PN=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=gs(Ku,n),l=vs(Ku,n),c=a.value===r,[d,f]=g.useState(o??""),[p,h]=g.useState(!1),b=be(t,x=>{var v;return(v=l.itemRefCallback)==null?void 0:v.call(l,x,r,s)}),m=Un(),w=g.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(u9,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:g.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(sf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(ue.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:Z(i.onFocus,()=>h(!0)),onBlur:Z(i.onBlur,()=>h(!1)),onClick:Z(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Z(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Z(i.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:Z(i.onPointerMove,x=>{var v;w.current=x.pointerType,s?(v=l.onItemLeave)==null||v.call(l):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=l.onItemLeave)==null||v.call(l))}),onKeyDown:Z(i.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(q7.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});PN.displayName=Ku;var ia="SelectItemText",TN=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=gs(ia,n),a=vs(ia,n),l=jN(ia,n),c=Z7(ia,n),[d,f]=g.useState(null),p=be(t,y=>f(y),l.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,l.value,l.disabled)}),h=d==null?void 0:d.textContent,b=g.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=c;return st(()=>(m(b),()=>w(b)),[m,w,b]),u.jsxs(u.Fragment,{children:[u.jsx(ue.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ro.createPortal(o.children,i.valueNode):null]})});TN.displayName=ia;var AN="SelectItemIndicator",RN=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jN(AN,n).isSelected?u.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});RN.displayName=AN;var um="SelectScrollUpButton",MN=g.forwardRef((e,t)=>{const n=vs(um,e.__scopeSelect),r=x0(um,e.__scopeSelect),[s,o]=g.useState(!1),i=be(t,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(ON,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});MN.displayName=um;var dm="SelectScrollDownButton",IN=g.forwardRef((e,t)=>{const n=vs(dm,e.__scopeSelect),r=x0(dm,e.__scopeSelect),[s,o]=g.useState(!1),i=be(t,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(ON,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});IN.displayName=dm;var ON=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=vs("SelectScrollButton",n),i=g.useRef(null),a=of(n),l=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),st(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),d9="SelectSeparator",DN=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});DN.displayName=d9;var fm="SelectArrow",f9=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=af(n),o=gs(fm,n),i=vs(fm,n);return o.open&&i.position==="popper"?u.jsx(Mg,{...s,...r,ref:t}):null});f9.displayName=fm;var h9="SelectBubbleInput",$N=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),o=be(r,s),i=K7(t);return g.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),u.jsx(ue.select,{...n,style:{...j1,...n.style},ref:o,defaultValue:t})});$N.displayName=h9;function LN(e){return e===""||e===void 0}function FN(e){const t=Pt(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function zN(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=p9(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function p9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var m9=hN,BN=mN,g9=vN,v9=yN,y9=xN,UN=wN,x9=EN,HN=NN,VN=PN,w9=TN,b9=RN,WN=MN,GN=IN,KN=DN;const Zx=m9,ew=g9,hm=g.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(BN,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(v9,{asChild:!0,children:u.jsx(J1,{className:"h-4 w-4 opacity-50"})})]}));hm.displayName=BN.displayName;const YN=g.forwardRef(({className:e,...t},n)=>u.jsx(WN,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(sA,{className:"h-4 w-4"})}));YN.displayName=WN.displayName;const qN=g.forwardRef(({className:e,...t},n)=>u.jsx(GN,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(J1,{className:"h-4 w-4"})}));qN.displayName=GN.displayName;const pm=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(y9,{children:u.jsxs(UN,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(YN,{}),u.jsx(x9,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(qN,{})]})}));pm.displayName=UN.displayName;const _9=g.forwardRef(({className:e,...t},n)=>u.jsx(HN,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_9.displayName=HN.displayName;const mm=g.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(VN,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(b9,{children:u.jsx(Q1,{className:"h-4 w-4"})})}),u.jsx(w9,{children:t})]}));mm.displayName=VN.displayName;const S9=g.forwardRef(({className:e,...t},n)=>u.jsx(KN,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));S9.displayName=KN.displayName;const E9=({onAdd:e,onCancel:t,existingMembers:n,defaultGeneration:r})=>{const[s,o]=g.useState({id:"",name:"",gender:"male",generation:r||void 0,birthPlace:"",occupation:"",bio:"",bloodType:"",mobileNumber:"",email:"",parentId:"",spouseName:"",otherPartnerNames:"",coParentName:""}),[i,a]=g.useState(null),[l,c]=g.useState([]),[d,f]=g.useState(null),p=g.useMemo(()=>{const T=new Set(n.map(A=>A.generation));let j=1;return n.length>0&&(j=Math.max(...Array.from(T))),Array.from({length:j+2},(A,C)=>C+1).sort((A,C)=>A-C)},[n]);g.useEffect(()=>{let T;r!=null?p.includes(r)?T=r:(console.warn(`Provided defaultGeneration (${r}) is not valid or available. Defaulting to first available generation.`),p.length>0?T=p[0]:T=1):s.generation===void 0&&(p.length>0?T=p[0]:T=1),T!==void 0&&s.generation!==T&&b("generation",T)},[p,r,s.generation]);const h=T=>{const j=parseInt(T,10);b("generation",j);const M=n.filter(A=>A.generation===j).slice(0,5).map(A=>A.name);c(M)};g.useEffect(()=>{if(s.generation){const T=n.filter(j=>j.generation===s.generation).slice(0,5).map(j=>j.name);c(T)}},[s.generation,n]);const b=(T,j)=>{f(null),o(M=>({...M,[T]:j}))},m=g.useCallback(T=>{b("name",T.target.value)},[]),w=g.useCallback(T=>{b("gender",T.target.value)},[]),y=g.useCallback(T=>{b("spouseName",T.target.value)},[]),x=g.useCallback(T=>{b("otherPartnerNames",T.target.value)},[]),v=g.useCallback(T=>{if(f(null),T){const j=n.find(M=>M.id===T);if(j&&typeof j.generation=="number"){const M=j.generation+1;o(A=>({...A,parentId:T,generation:M}))}else o(M=>({...M,parentId:T}))}else o(j=>({...j,parentId:T}))},[n]),_=g.useCallback(T=>{b("coParentName",T.target.value)},[]),E=g.useCallback(T=>{b("bloodType",T.target.value)},[]),P=g.useCallback(T=>{b("birthDate",T.target.value)},[]),k=g.useCallback(T=>{b("deathDate",T.target.value)},[]),N=g.useCallback(T=>{b("mobileNumber",T.target.value)},[]),I=g.useCallback(T=>{b("email",T.target.value)},[]),O=g.useCallback(T=>{b("birthPlace",T.target.value)},[]),L=g.useCallback(T=>{b("occupation",T.target.value)},[]),R=g.useCallback(T=>{b("bio",T.target.value)},[]),$=g.useMemo(()=>Array.isArray(n)?n.map(T=>u.jsx(mm,{value:T.id,children:T.name},T.id)):(console.warn("existingMembers is not an array in AddMemberForm. Skipping parent options generation."),[]),[n]),S=async T=>{var G;if(T.preventDefault(),f(null),!((G=s.name)!=null&&G.trim())){f("Name is required.");return}let j;if(i){const B=`public/${`${Date.now()}-${i.name}`}`;try{const{error:V}=await je.storage.from("family-member-images").upload(B,i,{cacheControl:"3600",upsert:!1});if(V)console.error("Error uploading profile picture:",V),f(`Failed to upload profile picture: ${V.message}. Please try again or skip.`);else{const{data:J}=je.storage.from("family-member-images").getPublicUrl(B);J?j=J.publicUrl:console.error("Could not get public URL for the uploaded image.")}}catch(V){console.error("Catch Error during profile picture upload:",V),f(`An unexpected error occurred during picture upload: ${V.message}.`)}}const M=s.generation&&s.generation>0?s.generation:r||1,{spouseName:A,otherPartnerNames:C,parentId:D,coParentName:F,...z}=s,H=[A==null?void 0:A.trim(),...(C==null?void 0:C.split(",").map(K=>K.trim()))||[]].filter(K=>K&&K.trim().length>0),U={...z,id:new Date().getTime().toString(),photo:j,generation:M,partners:H,parents:D?[D]:[],children:[],spouse:void 0,coParentName:(F==null?void 0:F.trim())||void 0};try{await e(U)}catch(K){f(K.message||"Failed to add member. Please try again.")}};return u.jsx(Ko,{open:!0,onOpenChange:T=>{T||(t(),f(null))},children:u.jsxs(Fs,{className:oe("max-w-4xl max-h-[90vh] overflow-y-auto","z-[55]"),"aria-describedby":"dialog-description",children:[u.jsxs(nf,{children:[u.jsx(rf,{className:"text-2xl font-bold text-emerald-800",children:"Add New Family Member"}),u.jsx("p",{id:"dialog-description",className:"sr-only",children:"Form to add a new family member to the family tree"})]}),d&&u.jsx("div",{className:"my-2 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:u.jsx("p",{children:d})}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),u.jsx(ve,{value:s.name||"",onChange:m,placeholder:"Full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"profilePicture",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Profile Picture"}),u.jsx(ve,{id:"profilePicture",type:"file",accept:"image/*",onChange:T=>a(T.target.files?T.target.files[0]:null),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gender"}),u.jsxs("select",{value:s.gender,onChange:w,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"spouseName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Spouse's Name"}),u.jsx(ve,{type:"text",id:"spouseName",name:"spouseName",value:s.spouseName||"",onChange:y,placeholder:"Spouse's full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"otherPartnerNames",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Other Partner Names (comma-separated)"}),u.jsx("textarea",{id:"otherPartnerNames",name:"otherPartnerNames",rows:3,value:s.otherPartnerNames||"",onChange:x,placeholder:"e.g., Partner A, Partner B",className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"parentId-select",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Parent"}),u.jsxs(Zx,{value:s.parentId||"",onValueChange:v,children:[u.jsx(hm,{id:"parentId-select",className:"w-full",children:u.jsx(ew,{placeholder:"Select a parent (optional)"})}),u.jsx(pm,{className:"z-[60]",children:$})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"coParentName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Co-parent's name (if different from spouse/partner)"}),u.jsx(ve,{type:"text",id:"coParentName",name:"coParentName",value:s.coParentName||"",onChange:_,placeholder:"Enter co-parent's name"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"generation-select",className:"block text-sm font-medium mb-2",children:"Generation"}),u.jsxs(Zx,{value:String(s.generation||""),onValueChange:h,children:[u.jsx(hm,{id:"generation-select",className:"w-full",children:u.jsx(ew,{placeholder:"Select generation"})}),u.jsx(pm,{className:"z-[60]",children:p.map(T=>u.jsxs(mm,{value:String(T),children:["Generation ",T]},T))})]}),l.length>0&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Includes: ",l.join(", ")]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Blood Type"}),u.jsxs("select",{value:s.bloodType||"",onChange:E,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select blood type"}),u.jsx("option",{value:"A+",children:"A+"}),u.jsx("option",{value:"A-",children:"A-"}),u.jsx("option",{value:"B+",children:"B+"}),u.jsx("option",{value:"B-",children:"B-"}),u.jsx("option",{value:"AB+",children:"AB+"}),u.jsx("option",{value:"AB-",children:"AB-"}),u.jsx("option",{value:"O+",children:"O+"}),u.jsx("option",{value:"O-",children:"O-"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Birth Date"}),u.jsx(ve,{type:"date",value:s.birthDate||"",onChange:P})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Death Date"}),u.jsx(ve,{type:"date",value:s.deathDate||"",onChange:k})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mobile Number"}),u.jsx(ve,{value:s.mobileNumber||"",onChange:N,placeholder:"e.g., +1234567890"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx(ve,{type:"email",value:s.email||"",onChange:I,placeholder:"e.g., example@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Birth Place"}),u.jsx(ve,{value:s.birthPlace||"",onChange:O,placeholder:"City, Country"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Occupation"}),u.jsx(ve,{value:s.occupation||"",onChange:L,placeholder:"e.g., Engineer, Artist"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),u.jsx("textarea",{value:s.bio||"",onChange:R,placeholder:"A short biography...",rows:4,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(he,{type:"button",variant:"outline",onClick:()=>{t(),f(null)},children:"Cancel"}),u.jsx(he,{type:"submit",children:"Add Member"})]})]})]})})},k9=({member:e,onSave:t,onCancel:n,existingMembers:r})=>{const[s,o]=g.useState({...e,children:e.children||[],parentId:e.parents&&e.parents.length>0?e.parents[0]:"",spouseName:"",otherPartnerNames:"",coParentName:e.coParentName||""}),[i,a]=g.useState(null),[l,c]=g.useState(!1),d=Array.isArray(r)?r.filter(h=>h.id!==e.id):[],f=async h=>{if(h.preventDefault(),!s.name){alert("Name is required");return}let b=s.photo;const m=async N=>{if(!N){console.log("deletePhotoFromStorage: No photo URL provided, skipping deletion from storage.");return}try{const I="family-member-images",O=N.split("/"),L=O.indexOf(I);if(L===-1){console.warn(`deletePhotoFromStorage: Could not find bucket name '${I}' in URL: ${N}`);return}const R=O.slice(L+1).join("/");if(R){console.log(`deletePhotoFromStorage: Attempting to delete '${R}' from bucket '${I}'.`);const{error:$}=await je.storage.from(I).remove([R]);$?console.warn(`deletePhotoFromStorage: Error deleting photo '${R}' from storage: ${$.message}`,$):console.log(`deletePhotoFromStorage: Successfully deleted photo '${R}' from storage.`)}else console.warn(`deletePhotoFromStorage: Extracted empty file path from URL '${N}'. Cannot delete.`)}catch(I){const O=I instanceof Error?I.message:String(I);console.warn(`deletePhotoFromStorage: Exception during photo deletion from storage for URL '${N}': ${O}`,I)}};if(l&&(s.photo&&await m(s.photo),b=void 0),i){s.photo&&s.photo!==b&&await m(s.photo);const I=`public/${`${Date.now()}-${i.name}`}`,{data:O,error:L}=await je.storage.from("family-member-images").upload(I,i,{cacheControl:"3600",upsert:!1});if(L)console.error("Error uploading new profile picture:",L),alert(`Failed to upload new profile picture: ${L.message}.`);else{const{data:R}=je.storage.from("family-member-images").getPublicUrl(I);b=R==null?void 0:R.publicUrl}}const{parentId:w,spouseName:y,otherPartnerNames:x,coParentName:v,photo:_,...E}=s,P=[y==null?void 0:y.trim(),...(x==null?void 0:x.split(",").map(N=>N.trim()))||[]].filter(N=>N&&N.trim().length>0),k={...E,id:e.id,parents:w?[w]:[],partners:P,spouse:void 0,coParentName:(v==null?void 0:v.trim())||void 0,photo:b};t(k)},p=(h,b)=>{o(m=>({...m,[h]:b}))};return u.jsx(Ko,{open:!0,onOpenChange:n,children:u.jsxs(Fs,{className:oe("max-w-4xl max-h-[90vh] overflow-y-auto","z-[55]"),children:[" ",u.jsx(nf,{children:u.jsx(rf,{className:"dark:text-emerald-300",children:"Edit Family Member"})}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Name *"}),u.jsx(ve,{value:s.name,onChange:h=>p("name",h.target.value),placeholder:"Full name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Gender"}),u.jsxs("select",{value:s.gender,onChange:h=>p("gender",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"spouseName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Spouse's Name"}),u.jsx(ve,{type:"text",id:"spouseName",name:"spouseName",value:s.spouseName||"",onChange:h=>p("spouseName",h.target.value),placeholder:"Spouse's full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"otherPartnerNames",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Other Partner Names (comma-separated)"}),u.jsx("textarea",{id:"otherPartnerNames",name:"otherPartnerNames",rows:3,value:s.otherPartnerNames||"",onChange:h=>p("otherPartnerNames",h.target.value),placeholder:"e.g., Partner A, Partner B",className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"parentId",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Parent"}),u.jsxs("select",{id:"parentId",name:"parentId",value:s.parentId||"",onChange:h=>p("parentId",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select a parent (optional)"}),d.map(h=>u.jsx("option",{value:h.id,children:h.name},h.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"coParentName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Co-parent's name (if different from spouse/partner)"}),u.jsx(ve,{type:"text",id:"coParentName",name:"coParentName",value:s.coParentName||"",onChange:h=>p("coParentName",h.target.value),placeholder:"Enter co-parent's name"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Generation"}),u.jsx(ve,{type:"number",value:s.generation,onChange:h=>p("generation",parseInt(h.target.value)),min:"1",max:"10"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Blood Type"}),u.jsxs("select",{value:s.bloodType||"",onChange:h=>p("bloodType",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select blood type"}),u.jsx("option",{value:"A+",children:"A+"}),u.jsx("option",{value:"A-",children:"A-"}),u.jsx("option",{value:"B+",children:"B+"}),u.jsx("option",{value:"B-",children:"B-"}),u.jsx("option",{value:"AB+",children:"AB+"}),u.jsx("option",{value:"AB-",children:"AB-"}),u.jsx("option",{value:"O+",children:"O+"}),u.jsx("option",{value:"O-",children:"O-"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Birth Date"}),u.jsx(ve,{type:"date",value:s.birthDate||"",onChange:h=>p("birthDate",h.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Death Date"}),u.jsx(ve,{type:"date",value:s.deathDate||"",onChange:h=>p("deathDate",h.target.value)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Mobile Number"}),u.jsx(ve,{value:s.mobileNumber||"",onChange:h=>p("mobileNumber",h.target.value),placeholder:"+1-555-0123"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Email Address"}),u.jsx(ve,{type:"email",value:s.email||"",onChange:h=>p("email",h.target.value),placeholder:"email@example.com"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Birth Place"}),u.jsx(ve,{value:s.birthPlace||"",onChange:h=>p("birthPlace",h.target.value),placeholder:"City, State/Country"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Occupation"}),u.jsx(ve,{value:s.occupation||"",onChange:h=>p("occupation",h.target.value),placeholder:"Job title"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Biography"}),u.jsx("textarea",{value:s.bio||"",onChange:h=>p("bio",h.target.value),placeholder:"Brief biography...",className:"w-full p-2 border border-gray-300 rounded-md h-24 resize-none dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Profile Picture"}),s.photo&&!l&&u.jsxs("div",{className:"mb-2",children:[u.jsx("img",{src:s.photo,alt:"Current profile",className:"w-24 h-24 object-cover rounded-md border border-gray-300"}),u.jsx(he,{variant:"link",size:"sm",onClick:()=>{c(!0),a(null)},className:"text-red-500 hover:text-red-700 mt-1",children:"Remove current picture"})]}),(l||!s.photo)&&u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:l?"Current picture will be removed.":"No current picture."}),u.jsx(ve,{id:"profilePicture",type:"file",accept:"image/*",onChange:h=>{const b=h.target.files?h.target.files[0]:null;a(b),b&&c(!1)},className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"}),i&&u.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["New picture selected: ",i.name,". This will replace the current picture upon saving."]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx(he,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),u.jsx(he,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})]})})},et=[];for(let e=0;e<256;++e)et.push((e+256).toString(16).slice(1));function C9(e,t=0){return(et[e[t+0]]+et[e[t+1]]+et[e[t+2]]+et[e[t+3]]+"-"+et[e[t+4]]+et[e[t+5]]+"-"+et[e[t+6]]+et[e[t+7]]+"-"+et[e[t+8]]+et[e[t+9]]+"-"+et[e[t+10]]+et[e[t+11]]+et[e[t+12]]+et[e[t+13]]+et[e[t+14]]+et[e[t+15]]).toLowerCase()}let bh;const N9=new Uint8Array(16);function j9(){if(!bh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bh=crypto.getRandomValues.bind(crypto)}return bh(N9)}const P9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tw={randomUUID:P9};function T9(e,t,n){var s;if(tw.randomUUID&&!e)return tw.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??j9();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,C9(r)}var A9="Label",XN=g.forwardRef((e,t)=>u.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));XN.displayName=A9;var QN=XN;const R9=yl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dt=g.forwardRef(({className:e,...t},n)=>u.jsx(QN,{ref:n,className:oe(R9(),e),...t}));Dt.displayName=QN.displayName;const M9=yl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),il=g.forwardRef(({className:e,variant:t,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:oe(M9({variant:t}),e),...n}));il.displayName="Alert";const al=g.forwardRef(({className:e,...t},n)=>u.jsx("h5",{ref:n,className:oe("mb-1 font-medium leading-none tracking-tight",e),...t}));al.displayName="AlertTitle";const ll=g.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("text-sm [&_p]:leading-relaxed",e),...t}));ll.displayName="AlertDescription";const I9=({onLoginSuccess:e})=>{const[t,n]=g.useState(""),[r,s]=g.useState(""),[o,i]=g.useState(null),[a,l]=g.useState(!1),[c,d]=g.useState(null),f=async h=>{h.preventDefault(),l(!0),i(null),d(null);const{error:b}=await je.auth.signInWithPassword({email:t,password:r});b?i(b.message):(d("Login successful! Redirecting..."),e&&e()),l(!1)},p=async()=>{l(!0),i(null);const{error:h}=await je.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});h&&(i(h.message),l(!1))};return u.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-xl",children:[u.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-6",children:"Login"}),o&&u.jsxs(il,{variant:"destructive",className:"mb-4",children:[u.jsx(al,{children:"Error"}),u.jsx(ll,{children:o})]}),c&&u.jsxs(il,{variant:"default",className:"mb-4",children:[" ",u.jsx(al,{children:"Success"}),u.jsx(ll,{children:c})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(vg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(ve,{id:"email",type:"email",value:t,onChange:h=>n(h.target.value),placeholder:"you@example.com",required:!0,className:"pl-10"})]})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(xp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(ve,{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),placeholder:"••••••••",required:!0,className:"pl-10"})]})]}),u.jsx(he,{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700",children:a?"Logging in...":"Login with Email"})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),u.jsxs(he,{variant:"outline",onClick:p,disabled:a,className:"w-full",children:[u.jsx(n_,{className:"mr-2 h-4 w-4"})," ","Sign in with Google"]})]})},O9=({onSignUpSuccess:e})=>{const[t,n]=g.useState(""),[r,s]=g.useState(""),[o,i]=g.useState(""),[a,l]=g.useState(null),[c,d]=g.useState(!1),[f,p]=g.useState(null),h=async m=>{if(m.preventDefault(),l(null),p(null),r!==o){l("Passwords do not match.");return}if(r.length<6){l("Password must be at least 6 characters long.");return}d(!0);const{error:w}=await je.auth.signUp({email:t,password:r});w?l(w.message):p("Sign up successful! Please check your email to confirm your account."),d(!1)},b=async()=>{d(!0),l(null);const{error:m}=await je.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});m&&(l(m.message),d(!1))};return u.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-xl",children:[u.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-6",children:"Create Account"}),a&&u.jsxs(il,{variant:"destructive",className:"mb-4",children:[u.jsx(al,{children:"Error"}),u.jsx(ll,{children:a})]}),f&&u.jsxs(il,{variant:"default",className:"mb-4",children:[u.jsx(al,{children:"Success"}),u.jsx(ll,{children:f})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"email-signup",className:"text-gray-700 dark:text-gray-300",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(vg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(ve,{id:"email-signup",type:"email",value:t,onChange:m=>n(m.target.value),placeholder:"you@example.com",required:!0,className:"pl-10"})]})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"password-signup",className:"text-gray-700 dark:text-gray-300",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(xp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(ve,{id:"password-signup",type:"password",value:r,onChange:m=>s(m.target.value),placeholder:"•••••••• (min. 6 characters)",required:!0,className:"pl-10"})]})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"confirm-password-signup",className:"text-gray-700 dark:text-gray-300",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(xp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(ve,{id:"confirm-password-signup",type:"password",value:o,onChange:m=>i(m.target.value),placeholder:"••••••••",required:!0,className:"pl-10"})]})]}),u.jsxs(he,{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[u.jsx(_u,{className:"mr-2 h-4 w-4"}),c?"Creating Account...":"Create Account with Email"]})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"Or sign up with"})})]}),u.jsxs(he,{variant:"outline",onClick:b,disabled:c,className:"w-full",children:[u.jsx(n_,{className:"mr-2 h-4 w-4"})," ","Sign up with Google"]})]})},D9=cN,$9=uN,JN=g.forwardRef(({className:e,...t},n)=>u.jsx(Jd,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));JN.displayName=Jd.displayName;const L9=yl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ZN=g.forwardRef(({side:e="right",className:t,children:n,...r},s)=>u.jsxs($9,{children:[u.jsx(JN,{}),u.jsxs(Zd,{ref:s,className:oe(L9({side:e}),t),...r,children:[n,u.jsxs(dN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Ci,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ZN.displayName=Zd.displayName;const F9=g.forwardRef(({className:e,...t},n)=>u.jsx(ef,{ref:n,className:oe("text-lg font-semibold text-foreground",e),...t}));F9.displayName=ef.displayName;const z9=g.forwardRef(({className:e,...t},n)=>u.jsx(tf,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));z9.displayName=tf.displayName;const B9=[{to:"/",label:"Home"},{to:"/members",label:"Members"},{to:"/magazines",label:"Magazines"}],U9=()=>{var Tt,sn;const{user:e,loading:t,signOut:n}=GC(),[r,s]=g.useState(null),[o,i]=g.useState(!1),[a,l]=g.useState(!1),[c,d]=g.useState(!1),[f,p]=g.useState([]),[h,b]=g.useState(null),[m,w]=g.useState(!0),[y,x]=g.useState(null),[v,_]=g.useState(null),[E,P]=g.useState(""),[k,N]=g.useState(!1),[I,O]=g.useState(null),[L,R]=g.useState("FullTree"),[$,S]=g.useState("Descendants"),[T,j]=g.useState(null),[M,A]=g.useState(!1),[C,D]=g.useState(null),[F,z]=g.useState(null),[H,U]=g.useState(null),[G,K]=g.useState(!1),B=g.useCallback(ne=>{console.log("Add Child requested for parent:",ne.name),b(null),d(!0)},[d]),V=g.useCallback(async()=>{w(!0),x(null);const{data:ne,error:Me}=await je.from("family_members").select("*");Me?(console.error("Error fetching members:",Me),x(Me.message),p([])):p([...ne]),w(!1)},[]);g.useEffect(()=>{V()},[V]);const J=g.useCallback(async ne=>{if(!e){console.error("User not authenticated. Cannot add member."),x("You must be logged in to add a member.");return}const Me=T9(),on={...{...ne,id:Me,generation:ne.generation||1},generation:typeof ne.generation=="number"&&ne.generation>0?ne.generation:1},{error:Ze}=await je.from("family_members").insert([on]);if(Ze)throw console.error("Error adding member:",Ze),x(`Failed to add member: ${Ze.message}`),Ze;await V(),d(!1)},[V,e]),ee=g.useCallback(ne=>{if(ne){const Me=f.find(He=>He.id===ne.id);b(Me||null)}else b(null)},[f]),Q=g.useCallback(async ne=>{if(!e){console.error("User not authenticated. Cannot save member."),x("You must be logged in to save changes.");return}const{id:Me,...He}=ne,on={...He};ne.photo===void 0||ne.photo===""?on.photo=null:on.photo=ne.photo;const{error:Ze}=await je.from("family_members").update(on).eq("id",Me);Ze?(console.error("Error updating member:",Ze),x(`Failed to update member: ${Ze.message}`)):(await V(),b(null))},[V,e]),q=g.useCallback(async ne=>{if(!e){console.error("User not authenticated. Cannot delete member."),x("You must be logged in to delete a member.");return}const{error:Me}=await je.from("family_members").delete().eq("id",ne);Me?(console.error("Error deleting member:",Me),x(`Failed to delete member: ${Me.message}`)):(await V(),(r==null?void 0:r.id)===ne&&s(null),(h==null?void 0:h.id)===ne&&b(null))},[V,r,h,e]),ie=g.useCallback(ne=>{if(ne){_(ne);const Me=f.find(He=>He.id===ne);s(Me||null)}else _(null),s(null)},[f]),ae=g.useCallback(ne=>{ie(ne),N(!1)},[ie]),Se=g.useCallback(()=>{ie(null),R("FullTree"),P(""),K(!1),U(null)},[ie,R,P]),ke=g.useCallback(ne=>{P(ne),ne||_(null)},[]),ot=g.useCallback(ne=>{U(ne),K(!0)},[]),Kt=g.useCallback(()=>{N(ne=>!ne)},[]);return m?u.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading family data..."}):y?u.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:["Error loading data: ",y]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 flex flex-col",children:[u.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 sticky top-0 z-50",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[u.jsx("img",{src:"/unityLogo.png",alt:"Custom Icon",className:"h-8 w-8"}),u.jsx("h1",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})]}),u.jsxs("div",{className:"flex items-center min-w-0",children:[u.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[u.jsx(Jt,{to:"/",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Home"}),u.jsx(Jt,{to:"/members",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Members"}),u.jsx(Jt,{to:"/magazines",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Magazines"})]}),u.jsxs("div",{className:"hidden md:flex items-center",children:[!t&&e&&u.jsxs(he,{variant:"outline",className:"mr-2",onClick:()=>d(!0),children:[u.jsx(_u,{className:"mr-2 h-4 w-4"})," Add Member"]}),t?u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Loading..."}):e?u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 mr-3 hidden sm:inline",children:["Hi, ",(Tt=e.email)==null?void 0:Tt.split("@")[0]]}),u.jsx(he,{variant:"outline",onClick:n,className:"mr-2",children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(he,{variant:"outline",onClick:()=>i(!0),className:"mr-2",children:"Login"}),u.jsx(he,{variant:"default",onClick:()=>l(!0),className:"mr-2",children:"Sign Up"})]})]}),u.jsx("div",{className:"hidden md:block ml-2",children:u.jsx(Iu,{})}),u.jsx(he,{variant:"outline",size:"icon",onClick:Kt,"aria-label":k?"Close sidebar":"Open sidebar",className:"ml-2",children:k?u.jsx(pA,{className:"h-5 w-5"}):u.jsx(mA,{className:"h-5 w-5"})})]})]})})}),u.jsx(jD,{members:f,searchQuery:E,onSearchQueryChange:ke,onMemberSelect:ne=>ie(ne),onHoverMember:O,onResetFocus:Se,viewMode:L,onSetViewMode:R,onZoomIn:()=>C&&C(),onZoomOut:()=>F&&F()}),u.jsx("section",{className:"pt-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx(NE,{focusedMemberId:v,members:f,onSelectMember:_,className:"mb-4 ml-1"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:["Our Family",u.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 block",children:"Legacy Tree"})]}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Explore our family connections and discover the stories that connect us across generations."})]})]})}),u.jsxs("div",{className:"flex-1 w-full pb-8 flex flex-col",children:[" ",u.jsxs("main",{className:"flex-grow px-4 sm:px-6 lg:px-8 flex flex-col",children:[" ",u.jsxs("section",{className:"relative min-h-[400px] flex-1",children:["  ",u.jsx("div",{className:"absolute inset-0 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-800 dark:via-slate-900 dark:to-black"}),u.jsx(hB,{members:f,onMemberSelect:ne=>ie(ne.id),searchQuery:E,onSetEditingMember:ee,onDeleteMember:q,focusedMemberId:v,hoveredMemberId:I,viewMode:L,lineageDirection:$,onNodeClick:ot,canEdit:!t&&!!e&&e.role==="admin",setZoomInFunc:ne=>D(()=>ne),setZoomOutFunc:ne=>z(()=>ne),onAddChild:B})]})})]})]}),u.jsx(D9,{open:k,onOpenChange:N,children:u.jsx(ZN,{side:"right",className:"w-full sm:w-[400px] p-0 overflow-y-auto",children:u.jsxs("div",{className:"flex flex-col h-full p-4 space-y-4",children:[" ",u.jsx("nav",{className:"flex flex-col space-y-1",children:B9.map(ne=>u.jsx(Jt,{to:ne.to,className:"text-lg py-2 px-3 hover:bg-accent rounded-md text-foreground font-medium",onClick:()=>N(!1),children:ne.label},ne.to))}),u.jsx("hr",{}),u.jsx(J4,{members:f,searchQuery:E,onSearchQueryChange:ke,onMemberSelect:ne=>{ae(ne)},focusedMemberId:v,onResetFocus:Se,onHoverMember:O,viewMode:L,setViewMode:R,lineageDirection:$,setLineageDirection:S,isSidebarOpen:k,onToggleSidebar:Kt}),u.jsx("div",{className:"flex-grow"}),u.jsx("hr",{}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Iu,{}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[!t&&e&&u.jsxs(he,{variant:"outline",onClick:()=>{d(!0),N(!1)},children:[u.jsx(_u,{className:"mr-2 h-4 w-4"})," Add Member"]}),t?u.jsx("span",{className:"text-sm text-center text-muted-foreground py-2",children:"Loading user..."}):e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-sm text-center text-muted-foreground py-1",children:["Hi, ",(sn=e.email)==null?void 0:sn.split("@")[0]]}),u.jsx(he,{variant:"outline",onClick:()=>{n(),N(!1)},children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(he,{variant:"outline",onClick:()=>{i(!0),N(!1)},children:"Login"}),u.jsx(he,{variant:"default",onClick:()=>{l(!0),N(!1)},children:"Sign Up"})]})]})]})]})})})]}),r&&u.jsx(R7,{member:r,onClose:()=>s(null),onEditRequest:ee,canEdit:!t&&!!e&&e.role==="admin"}),c&&u.jsx(E9,{onAdd:J,onCancel:()=>d(!1),existingMembers:f}),h&&u.jsx(k9,{member:h,onSave:Q,onCancel:()=>b(null),existingMembers:f}),o&&u.jsx(Ko,{open:o,onOpenChange:i,children:u.jsx(Fs,{className:"sm:max-w-md",children:u.jsx(I9,{onLoginSuccess:()=>i(!1)})})}),a&&u.jsx(Ko,{open:a,onOpenChange:l,children:u.jsx(Fs,{className:"sm:max-w-md",children:u.jsx(O9,{onSignUpSuccess:()=>l(!1)})})}),T&&u.jsx(Ko,{open:M,onOpenChange:A,children:u.jsxs(Fs,{className:"sm:max-w-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Old Member Details (Modal)"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",T.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"ID:"})," ",T.id]}),u.jsx(he,{onClick:()=>A(!1),className:"mt-4",children:"Close"})]})}),u.jsx(M7,{member:H,onClose:()=>{K(!1),U(null)},onEdit:ne=>{ee(ne),K(!1),U(null)}})]})},H9=()=>{const[e,t]=g.useState(""),[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,a]=g.useState(null),l=g.useCallback(async()=>{o(!0),a(null);const{data:h,error:b}=await je.from("family_members").select("*");b?(console.error("Error fetching members for Members page:",b),a(b.message),r([])):r(h),o(!1)},[]);g.useEffect(()=>{l()},[l]);const c=h=>VC(h.partners),d=(h,b)=>{if(!h)return null;const m=new Date(h);return(b?new Date(b):new Date).getFullYear()-m.getFullYear()},f=n.filter(h=>{var b,m;return h.name.toLowerCase().includes(e.toLowerCase())||((b=h.occupation)==null?void 0:b.toLowerCase().includes(e.toLowerCase()))||((m=h.birthPlace)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))}),p=()=>{t("")};return s?u.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 text-gray-700 dark:text-slate-300",children:"Loading members..."}):i?u.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 text-red-700 dark:text-red-400 p-4",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Error Fetching Data"}),u.jsx("p",{className:"mb-2",children:"There was an issue retrieving the family members list:"}),u.jsx("p",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded border border-red-300 dark:border-red-700",children:i}),u.jsx(Button,{onClick:l,className:"mt-6",children:"Try Again"})]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 py-8",children:[u.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 mb-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx(Jt,{to:"/",className:"flex items-center space-x-3",children:u.jsx("span",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[u.jsx(Jt,{to:"/",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Home"}),u.jsx(Jt,{to:"/members",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Members"}),u.jsx(Jt,{to:"/magazines",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Magazines"})]}),u.jsx(Iu,{})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:"Family Members"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 mb-6",children:"Meet all our wonderful family members"}),u.jsxs("div",{className:"max-w-md mx-auto relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx(vA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),u.jsx("input",{type:"text",placeholder:"Search family members...",value:e,onChange:h=>t(h.target.value),className:`w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg 
                           focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 
                           dark:focus:ring-emerald-600 dark:focus:border-emerald-600
                           transition-colors bg-white dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:placeholder-gray-400 shadow-sm`}),e&&u.jsx("button",{onClick:p,className:`absolute right-3 top-1/2 transform -translate-y-1/2 
                             h-5 w-5 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors`,children:u.jsx(Ci,{className:"h-4 w-4"})})]}),e&&n.length>0&&u.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 
                              rounded-lg shadow-lg z-10 p-2`,children:u.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["Found ",f.length," member",f.length!==1?"s":""," matching: ",u.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:['"',e,'"']})]})})]})]}),!e&&!s&&n.length===0&&u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:"No members found in the database."})}),n.length>0&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(h=>{const b=c(h),m=d(h.birthDate,h.deathDate),w=h.parents&&h.parents.length>0?h.parents.map(y=>{const x=n.find(v=>v.id===y);return x?x.name:null}).filter(y=>y!==null):[];return u.jsxs(qs,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300 dark:bg-slate-800",children:[u.jsx(Sl,{className:`pb-4 ${h.gender==="male"?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-rose-500 to-pink-600"} text-white`,children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 dark:bg-slate-700/30 rounded-full flex items-center justify-center",children:h.photo?u.jsx("img",{src:h.photo,alt:h.name,className:"w-full h-full object-cover rounded-full"}):u.jsx(xl,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx(El,{className:"text-xl font-bold text-white",children:h.name}),u.jsxs("p",{className:"text-white/80 text-sm",children:["Generation ",h.generation]})]})]})}),u.jsxs(kl,{className:"p-6 space-y-4 dark:text-slate-300",children:[u.jsxs("div",{className:"space-y-3",children:[h.birthDate&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Ks,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Born: ",new Date(h.birthDate).toLocaleDateString(),m&&` (${m} years old)`]})]}),h.deathDate&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Ks,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Died: ",new Date(h.deathDate).toLocaleDateString()]})]}),h.birthPlace&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(r_,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.birthPlace})]}),h.occupation&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(gg,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.occupation})]}),h.bloodType&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(aA,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Blood Type: ",h.bloodType]})]}),h.mobileNumber&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(s_,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.mobileNumber})]}),h.email&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(vg,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.email})]}),w.length>0&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Ds,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Parents: ",w.join(" & ")]})]}),h.coParentName&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Ds,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Co-parent: ",h.coParentName]})]})]}),b.length>0&&u.jsxs("div",{className:"border-t dark:border-slate-700 pt-4",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx(t_,{className:"w-4 h-4 mr-2 text-red-500"}),u.jsx("span",{className:"font-semibold text-gray-800 dark:text-slate-200",children:"Partner(s)"})]}),b.map((y,x)=>u.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-3 mb-2 last:mb-0",children:u.jsx("div",{className:"font-medium text-gray-800 dark:text-slate-200",children:y})},x))]}),h.bio&&u.jsx("div",{className:"border-t dark:border-slate-700 pt-4",children:u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-300 leading-relaxed",children:h.bio})})]})]},h.id)})}),n.length>0&&f.length===0&&e&&u.jsxs("div",{className:"text-center py-12",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:['No family members found matching "',e,'"']}),u.jsx("button",{onClick:p,className:"mt-4 text-emerald-600 hover:text-emerald-700 dark:text-emerald-500 dark:hover:text-emerald-400 font-medium",children:"Clear search"})]})]})]})},ej=g.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ej.displayName="Textarea";const V9=({onSubmit:e,onCancel:t})=>{const[n,r]=g.useState({title:"",description:"",coverImage:"",publishDate:"",pages:0,redirectUrl:""}),[s,o]=g.useState(null),i=c=>{const{name:d,value:f,type:p}=c.target;r(h=>({...h,[d]:p==="number"?parseInt(f,10)||0:f}))},a=c=>{c.target.files&&c.target.files[0]?o(c.target.files[0]):o(null)},l=c=>{if(c.preventDefault(),!s){alert("Please select a PDF file.");return}e({...n,pdfFile:s})};return u.jsxs("form",{onSubmit:l,className:"space-y-6 p-4 bg-white dark:bg-slate-800 shadow-md rounded-lg",children:[u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Magazine Title"}),u.jsx(ve,{id:"title",name:"title",type:"text",value:n.title,onChange:i,required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),u.jsx(ej,{id:"description",name:"description",value:n.description,onChange:i,required:!0,rows:4,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"coverImage",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Cover Image URL"}),u.jsx(ve,{id:"coverImage",name:"coverImage",type:"url",value:n.coverImage,onChange:i,required:!0,placeholder:"https://example.com/image.png",className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"publishDate",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Publish Date"}),u.jsx(ve,{id:"publishDate",name:"publishDate",type:"date",value:n.publishDate,onChange:i,required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"pages",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pages"}),u.jsx(ve,{id:"pages",name:"pages",type:"number",value:n.pages,onChange:i,required:!0,min:"1",className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"redirectUrl",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Flipbook Redirect URL"}),u.jsx(ve,{id:"redirectUrl",name:"redirectUrl",type:"url",value:n.redirectUrl,onChange:i,placeholder:"https://yourflipbook.com/magazine",required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Dt,{htmlFor:"pdfFile",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Magazine PDF"}),u.jsx(ve,{id:"pdfFile",name:"pdfFile",type:"file",accept:".pdf",onChange:a,required:!0,className:`mt-1 block w-full text-sm text-gray-500 dark:text-slate-400
                     file:mr-4 file:py-2 file:px-4
                     file:rounded-md file:border-0
                     file:text-sm file:font-semibold
                     file:bg-emerald-50 dark:file:bg-emerald-900
                     file:text-emerald-700 dark:file:text-emerald-300
                     hover:file:bg-emerald-100 dark:hover:file:bg-emerald-800`})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx(he,{type:"button",variant:"outline",onClick:t,className:"dark:text-slate-300 dark:border-slate-600 hover:dark:bg-slate-700",children:"Cancel"}),u.jsx(he,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 text-white",children:"Add Magazine"})]})]})},W9=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!1),[s,o]=g.useState(!0),[i,a]=g.useState(null),[l,c]=g.useState(!1),[d,f]=g.useState(!1);async function p(){a(null);const{data:m,error:w}=await je.from("magazines").select("*").order("created_at",{ascending:!1});if(w)console.error("Error fetching magazines:",w),a("Could not fetch magazines. Please try again later."),t([]);else if(m){const y=await Promise.all(m.map(async x=>{let v="";if(x.pdf_storage_path){const{data:_}=je.storage.from("emagazines").getPublicUrl(x.pdf_storage_path);v=(_==null?void 0:_.publicUrl)||""}return{id:x.id,title:x.title,description:x.description,coverImage:x.cover_image_url||"",publishDate:x.publish_date||"",pages:x.pages,redirectUrl:x.redirect_url||"",pdfUrl:v,pdf_storage_path:x.pdf_storage_path||""}}));t(y)}o(!1)}g.useEffect(()=>{(async()=>{var x;o(!0);const{data:{user:w},error:y}=await je.auth.getUser();if(y)y.message==="Auth session missing!"||(console.error("Error fetching user session:",y),ct.error(`Error fetching user session: ${y.message}`)),f(!1);else if(w){const v=((x=w.app_metadata)==null?void 0:x.app_role)==="admin"||!1;f(v)}else f(!1);await p()})()},[]);const h=async m=>{if(!d){ct.error("Unauthorized: Only admins can add magazines.");return}if(c(!0),ct.info("Uploading PDF...",{id:"upload-toast"}),!m.pdfFile){ct.error("No PDF file selected. Please select a PDF to upload."),c(!1);return}const y=`public/magazine-pdfs/${`${Date.now()}_${m.pdfFile.name.replace(/[^a-zA-Z0-9._-]/g,"")}`}`,{data:x,error:v}=await je.storage.from("emagazines").upload(y,m.pdfFile,{cacheControl:"3600",upsert:!1});if(v||!x){console.error("Error uploading PDF:",v),ct.error(`PDF Upload Failed: ${(v==null?void 0:v.message)||"Unknown error"}`),c(!1);return}ct.success("PDF uploaded successfully!",{id:"upload-toast"}),ct.info("Saving magazine details...",{id:"save-toast"});const _={title:m.title,description:m.description,cover_image_url:m.coverImage,publish_date:m.publishDate,pages:m.pages,redirect_url:m.redirectUrl,pdf_storage_path:x.path},{error:E}=await je.from("magazines").insert([_]);if(E){console.error("Error inserting magazine data:",E),ct.error(`Failed to save magazine: ${E.message}`),c(!1);return}ct.success("Magazine saved successfully!",{id:"save-toast"}),await p(),r(!1),c(!1)},b=async(m,w)=>{if(!d){ct.error("Unauthorized: Only admins can delete magazines.");return}if(!window.confirm("Are you sure you want to delete this magazine? This action cannot be undone."))return;const y=`delete-${m}`;if(ct.loading("Deleting magazine...",{id:y}),w&&w.trim()!==""){const{error:v}=await je.storage.from("emagazines").remove([w]);v?(console.error("Error deleting PDF from storage:",v),ct.error(`Failed to delete magazine PDF: ${v.message}. DB record may still exist.`,{id:y})):ct.success("Magazine PDF deleted from storage.",{id:y})}else ct.info("No PDF storage path found, skipping storage deletion.",{id:y});const{error:x}=await je.from("magazines").delete().match({id:m});if(x){console.error("Error deleting magazine from database:",x),ct.error(`Failed to delete magazine from database: ${x.message}`,{id:y});return}ct.success("Magazine deleted successfully!",{id:y,duration:4e3}),await p()};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 py-8",children:[u.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 mb-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx(Jt,{to:"/",className:"flex items-center space-x-3",children:u.jsx("span",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[u.jsx(Jt,{to:"/",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Home"}),u.jsx(Jt,{to:"/members",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Members"}),u.jsx(Jt,{to:"/magazines",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Magazines"})]}),u.jsx(Iu,{})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:"Family Magazines"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Discover our collection of digital family magazines, featuring stories, photos, and memories that celebrate our family heritage and milestones."})]}),s&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Vf,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500 animate-pulse"}),u.jsx("p",{className:"mt-2 text-lg font-medium text-gray-700 dark:text-slate-300",children:"Loading magazines..."})]}),i&&!s&&u.jsxs("div",{className:"text-center py-12 bg-red-50 dark:bg-red-900/30 p-4 rounded-md",children:[u.jsx(Ds,{className:"mx-auto h-12 w-12 text-red-500 dark:text-red-400"})," ",u.jsxs("p",{className:"mt-2 text-lg font-medium text-red-700 dark:text-red-300",children:["Error: ",i]})]}),!s&&!i&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[u.jsxs(Ko,{open:n,onOpenChange:r,children:[u.jsx(V7,{asChild:!0,children:d&&u.jsxs(qs,{className:"flex flex-col items-center justify-center text-center p-6 cursor-pointer hover:shadow-xl transition-all duration-300 group min-h-[480px] dark:bg-slate-800 hover:dark:bg-slate-700",children:[" ",u.jsx(yp,{className:"w-16 h-16 text-emerald-500 dark:text-emerald-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-slate-200",children:"Add New Magazine"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Click to upload a new issue."})]})}),u.jsxs(Fs,{className:"sm:max-w-[600px] dark:bg-slate-800",children:[u.jsx(nf,{children:u.jsx(rf,{className:"text-gray-900 dark:text-slate-100",children:"Upload New Magazine"})}),u.jsx(V9,{onSubmit:h,onCancel:()=>{l||r(!1)}})]})]}),e.map(m=>u.jsxs(qs,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 group min-h-[480px] dark:bg-slate-800",children:[" ",u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:m.coverImage,alt:m.title,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsx("div",{className:"absolute top-4 right-4 bg-white/90 dark:bg-slate-700/90 backdrop-blur-sm px-2 py-1 rounded-md",children:u.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:[m.pages," pages"]})})]}),u.jsxs(Sl,{className:"pb-4",children:[u.jsx(El,{className:"text-xl font-bold text-gray-900 dark:text-slate-100 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:m.title}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-slate-400 mt-2",children:[u.jsx(Ks,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:new Date(m.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs(kl,{className:"pt-0 flex flex-col flex-grow",children:[" ",u.jsxs("p",{className:"text-gray-600 dark:text-slate-300 text-sm leading-relaxed mb-6 flex-grow h-20 overflow-hidden",children:[" ",m.description]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("a",{href:m.redirectUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[u.jsx(e_,{className:"w-4 h-4"}),u.jsx("span",{children:"Read"})]}),u.jsxs("a",{href:m.pdfUrl,download:`${m.title}.pdf`,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[u.jsx(iA,{className:"w-4 h-4"}),u.jsx("span",{children:"Download"})]})]}),d&&u.jsx("div",{className:"mt-4 px-6 pb-4",children:u.jsx("button",{onClick:()=>b(m.id,m.pdf_storage_path),className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:u.jsx("span",{children:"Delete Magazine"})})})]})]},m.id)),!s&&!i&&e.length===0&&u.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 text-center py-12",children:[u.jsx(Vf,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500"}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-slate-100",children:"No magazines found."}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Why not add the first one?"})]})]}),u.jsxs("div",{className:"mt-16 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-8",children:[e.length===0&&!s&&!i&&u.jsxs("div",{className:"text-center pb-8",children:[u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-slate-100",children:"No magazines available to show stats."}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Add a magazine to see statistics here."})]}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100 mb-2",children:"Magazine Statistics"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300",children:"Our family publication journey"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Vf,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),u.jsx("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400 mb-2",children:e.length}),u.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Total Issues"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ds,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"150+"}),u.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Stories Featured"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ks,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"2"}),u.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Years Publishing"})]})]})]})]})]})},G9=()=>{const e=_l();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},K9=new OI,Y9=()=>u.jsxs($I,{client:K9,children:[u.jsxs(A7,{children:[" ",u.jsxs(fI,{children:[u.jsx(rR,{}),u.jsx(LR,{}),u.jsxs(DO,{children:[" ",u.jsxs(PO,{children:[u.jsx(ta,{path:"/",element:u.jsx(U9,{})}),u.jsx(ta,{path:"/members",element:u.jsx(H9,{})}),u.jsx(ta,{path:"/magazines",element:u.jsx(W9,{})}),u.jsx(ta,{path:"*",element:u.jsx(G9,{})})]})]})," "]})]})," "]});S1(document.getElementById("root")).render(u.jsx(iR,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:u.jsx(Y9,{})}));export{gm as g};
