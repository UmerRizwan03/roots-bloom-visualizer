var l0=e=>{throw TypeError(e)};var tf=(e,t,n)=>t.has(e)||l0("Cannot "+n);var G=(e,t,n)=>(tf(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?l0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ae=(e,t,n,r)=>(tf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),et=(e,t,n)=>(tf(e,t,"access private method"),n);var Pl=(e,t,n,r)=>({set _(s){ae(e,t,s,n)},get _(){return G(e,t,r)}});function QN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ux={exports:{}},Iu={},Bx={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),ej=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),nj=Symbol.for("react.profiler"),rj=Symbol.for("react.provider"),sj=Symbol.for("react.context"),oj=Symbol.for("react.forward_ref"),ij=Symbol.for("react.suspense"),aj=Symbol.for("react.memo"),lj=Symbol.for("react.lazy"),c0=Symbol.iterator;function cj(e){return e===null||typeof e!="object"?null:(e=c0&&e[c0]||e["@@iterator"],typeof e=="function"?e:null)}var Hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vx=Object.assign,Wx={};function di(e,t,n){this.props=e,this.context=t,this.refs=Wx,this.updater=n||Hx}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gx(){}Gx.prototype=di.prototype;function Jp(e,t,n){this.props=e,this.context=t,this.refs=Wx,this.updater=n||Hx}var Zp=Jp.prototype=new Gx;Zp.constructor=Jp;Vx(Zp,di.prototype);Zp.isPureReactComponent=!0;var u0=Array.isArray,Kx=Object.prototype.hasOwnProperty,em={current:null},qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Kx.call(t,r)&&!qx.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:tl,type:e,key:o,ref:i,props:s,_owner:em.current}}function uj(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tm(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function dj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var d0=/\/+/g;function nf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dj(""+e.key):t.toString(36)}function yc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case tl:case ZN:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+nf(i,0):r,u0(s)?(n="",e!=null&&(n=e.replace(d0,"$&/")+"/"),yc(s,t,n,"",function(c){return c})):s!=null&&(tm(s)&&(s=uj(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(d0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",u0(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+nf(o,a);i+=yc(o,t,n,l,s)}else if(l=cj(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+nf(o,a++),i+=yc(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Tl(e,t,n){if(e==null)return e;var r=[],s=0;return yc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function fj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},xc={transition:null},hj={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:xc,ReactCurrentOwner:em};function Xx(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Tl,forEach:function(e,t,n){Tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tl(e,function(){t++}),t},toArray:function(e){return Tl(e,function(t){return t})||[]},only:function(e){if(!tm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=di;de.Fragment=ej;de.Profiler=nj;de.PureComponent=Jp;de.StrictMode=tj;de.Suspense=ij;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hj;de.act=Xx;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vx({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=em.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Kx.call(t,l)&&!qx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:tl,type:e.type,key:s,ref:o,props:r,_owner:i}};de.createContext=function(e){return e={$$typeof:sj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rj,_context:e},e.Consumer=e};de.createElement=Yx;de.createFactory=function(e){var t=Yx.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:oj,render:e}};de.isValidElement=tm;de.lazy=function(e){return{$$typeof:lj,_payload:{_status:-1,_result:e},_init:fj}};de.memo=function(e,t){return{$$typeof:aj,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=xc.transition;xc.transition={};try{e()}finally{xc.transition=t}};de.unstable_act=Xx;de.useCallback=function(e,t){return dt.current.useCallback(e,t)};de.useContext=function(e){return dt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};de.useEffect=function(e,t){return dt.current.useEffect(e,t)};de.useId=function(){return dt.current.useId()};de.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return dt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};de.useRef=function(e){return dt.current.useRef(e)};de.useState=function(e){return dt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return dt.current.useTransition()};de.version="18.3.1";Bx.exports=de;var m=Bx.exports;const X=Qp(m),nm=QN({__proto__:null,default:X},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj=m,mj=Symbol.for("react.element"),gj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,yj=pj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xj={key:!0,ref:!0,__self:!0,__source:!0};function Qx(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)vj.call(t,r)&&!xj.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:mj,type:e,key:o,ref:i,props:s,_owner:yj.current}}Iu.Fragment=gj;Iu.jsx=Qx;Iu.jsxs=Qx;Ux.exports=Iu;var u=Ux.exports,Jx={exports:{}},Ft={},Zx={exports:{}},ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,E){var D=R.length;R.push(E);e:for(;0<D;){var F=D-1>>>1,z=R[F];if(0<s(z,E))R[F]=E,R[D]=z,D=F;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var E=R[0],D=R.pop();if(D!==E){R[0]=D;e:for(var F=0,z=R.length,V=z>>>1;F<V;){var B=2*(F+1)-1,K=R[B],q=B+1,U=R[q];if(0>s(K,D))q<z&&0>s(U,K)?(R[F]=U,R[q]=D,F=q):(R[F]=K,R[B]=D,F=B);else if(q<z&&0>s(U,D))R[F]=U,R[q]=D,F=q;else break e}}return E}function s(R,E){var D=R.sortIndex-E.sortIndex;return D!==0?D:R.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,p=3,h=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var E=n(c);E!==null;){if(E.callback===null)r(c);else if(E.startTime<=R)r(c),E.sortIndex=E.expirationTime,t(l,E);else break;E=n(c)}}function _(R){if(g=!1,v(R),!b)if(n(l)!==null)b=!0,j(S);else{var E=n(c);E!==null&&M(_,E.startTime-R)}}function S(R,E){b=!1,g&&(g=!1,y(P),P=-1),h=!0;var D=p;try{for(v(E),f=n(l);f!==null&&(!(f.expirationTime>E)||R&&!L());){var F=f.callback;if(typeof F=="function"){f.callback=null,p=f.priorityLevel;var z=F(f.expirationTime<=E);E=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),v(E)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var B=n(c);B!==null&&M(_,B.startTime-E),V=!1}return V}finally{f=null,p=D,h=!1}}var N=!1,C=null,P=-1,I=5,O=-1;function L(){return!(e.unstable_now()-O<I)}function A(){if(C!==null){var R=e.unstable_now();O=R;var E=!0;try{E=C(!0,R)}finally{E?$():(N=!1,C=null)}}else N=!1}var $;if(typeof x=="function")$=function(){x(A)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,T=k.port2;k.port1.onmessage=A,$=function(){T.postMessage(null)}}else $=function(){w(A,0)};function j(R){C=R,N||(N=!0,$())}function M(R,E){P=w(function(){R(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,j(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var D=p;p=E;try{return R()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,E){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=p;p=R;try{return E()}finally{p=D}},e.unstable_scheduleCallback=function(R,E,D){var F=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,R={id:d++,callback:E,priorityLevel:R,startTime:D,expirationTime:z,sortIndex:-1},D>F?(R.sortIndex=D,t(c,R),n(l)===null&&R===n(c)&&(g?(y(P),P=-1):g=!0,M(_,D-F))):(R.sortIndex=z,t(l,R),b||h||(b=!0,j(S))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var E=p;return function(){var D=p;p=E;try{return R.apply(this,arguments)}finally{p=D}}}})(ew);Zx.exports=ew;var wj=Zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj=m,$t=wj;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tw=new Set,da={};function Vs(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(da[e]=t,e=0;e<t.length;e++)tw.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=Object.prototype.hasOwnProperty,_j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},h0={};function Sj(e){return ch.call(h0,e)?!0:ch.call(f0,e)?!1:_j.test(e)?h0[e]=!0:(f0[e]=!0,!1)}function kj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ej(e,t,n,r){if(t===null||typeof t>"u"||kj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var rm=/[\-:]([a-z])/g;function sm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rm,sm);Je[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rm,sm);Je[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rm,sm);Je[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function om(e,t,n,r){var s=Je.hasOwnProperty(t)?Je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ej(t,n,s,r)&&(n=null),r||s===null?Sj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dr=bj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rl=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),rw=Symbol.for("react.context"),am=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),fh=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),sw=Symbol.for("react.offscreen"),p0=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=p0&&e[p0]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,rf;function Fi(e){if(rf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rf=t&&t[1]||""}return`
`+rf+e}var sf=!1;function of(e,t){if(!e||sf)return"";sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{sf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fi(e):""}function Cj(e){switch(e.tag){case 5:return Fi(e.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 2:case 15:return e=of(e.type,!1),e;case 11:return e=of(e.type.render,!1),e;case 1:return e=of(e.type,!0),e;default:return""}}function hh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uo:return"Fragment";case co:return"Portal";case uh:return"Profiler";case im:return"StrictMode";case dh:return"Suspense";case fh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rw:return(e.displayName||"Context")+".Consumer";case nw:return(e._context.displayName||"Context")+".Provider";case am:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lm:return t=e.displayName||null,t!==null?t:hh(e.type)||"Memo";case jr:t=e._payload,e=e._init;try{return hh(e(t))}catch{}}return null}function Nj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hh(t);case 8:return t===im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ow(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jj(e){var t=ow(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Al(e){e._valueTracker||(e._valueTracker=jj(e))}function iw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ow(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ph(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function m0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aw(e,t){t=t.checked,t!=null&&om(e,"checked",t,!1)}function mh(e,t){aw(e,t);var n=Zr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gh(e,t.type,n):t.hasOwnProperty("defaultValue")&&gh(e,t.type,Zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function g0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gh(e,t,n){(t!=="number"||zc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zi=Array.isArray;function ko(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(zi(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zr(n)}}function lw(e,t){var n=Zr(t.value),r=Zr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function y0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ml,uw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pj=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(e){Pj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xi[t]=Xi[e]})});function dw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xi.hasOwnProperty(e)&&Xi[e]?(""+t).trim():t+"px"}function fw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Tj=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xh(e,t){if(t){if(Tj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function wh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function cm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _h=null,Eo=null,Co=null;function x0(e){if(e=sl(e)){if(typeof _h!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Fu(t),_h(e.stateNode,e.type,t))}}function hw(e){Eo?Co?Co.push(e):Co=[e]:Eo=e}function pw(){if(Eo){var e=Eo,t=Co;if(Co=Eo=null,x0(e),t)for(e=0;e<t.length;e++)x0(t[e])}}function mw(e,t){return e(t)}function gw(){}var af=!1;function vw(e,t,n){if(af)return e(t,n);af=!0;try{return mw(e,t,n)}finally{af=!1,(Eo!==null||Co!==null)&&(gw(),pw())}}function ha(e,t){var n=e.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Sh=!1;if(sr)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Sh=!1}function Rj(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Qi=!1,Uc=null,Bc=!1,kh=null,Aj={onError:function(e){Qi=!0,Uc=e}};function Mj(e,t,n,r,s,o,i,a,l){Qi=!1,Uc=null,Rj.apply(Aj,arguments)}function Ij(e,t,n,r,s,o,i,a,l){if(Mj.apply(this,arguments),Qi){if(Qi){var c=Uc;Qi=!1,Uc=null}else throw Error(Y(198));Bc||(Bc=!0,kh=c)}}function Ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w0(e){if(Ws(e)!==e)throw Error(Y(188))}function Oj(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return w0(s),e;if(o===r)return w0(s),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function xw(e){return e=Oj(e),e!==null?ww(e):null}function ww(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ww(e);if(t!==null)return t;e=e.sibling}return null}var bw=$t.unstable_scheduleCallback,b0=$t.unstable_cancelCallback,Dj=$t.unstable_shouldYield,$j=$t.unstable_requestPaint,Fe=$t.unstable_now,Lj=$t.unstable_getCurrentPriorityLevel,um=$t.unstable_ImmediatePriority,_w=$t.unstable_UserBlockingPriority,Hc=$t.unstable_NormalPriority,Fj=$t.unstable_LowPriority,Sw=$t.unstable_IdlePriority,Ou=null,Rn=null;function zj(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Ou,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Hj,Uj=Math.log,Bj=Math.LN2;function Hj(e){return e>>>=0,e===0?32:31-(Uj(e)/Bj|0)|0}var Il=64,Ol=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Ui(a):(o&=i,o!==0&&(r=Ui(o)))}else i=n&~s,i!==0?r=Ui(i):o!==0&&(r=Ui(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fn(t),s=1<<n,r|=e[n],t&=~s;return r}function Vj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-fn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=Vj(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Eh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kw(){var e=Il;return Il<<=1,!(Il&4194240)&&(Il=64),e}function lf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=n}function Gj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-fn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function dm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Se=0;function Ew(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cw,fm,Nw,jw,Pw,Ch=!1,Dl=[],Vr=null,Wr=null,Gr=null,pa=new Map,ma=new Map,Ar=[],Kj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(t.pointerId)}}function ji(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=sl(t),t!==null&&fm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qj(e,t,n,r,s){switch(t){case"focusin":return Vr=ji(Vr,e,t,n,r,s),!0;case"dragenter":return Wr=ji(Wr,e,t,n,r,s),!0;case"mouseover":return Gr=ji(Gr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return pa.set(o,ji(pa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ma.set(o,ji(ma.get(o)||null,e,t,n,r,s)),!0}return!1}function Tw(e){var t=ms(e.target);if(t!==null){var n=Ws(t);if(n!==null){if(t=n.tag,t===13){if(t=yw(n),t!==null){e.blockedOn=t,Pw(e.priority,function(){Nw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bh=r,n.target.dispatchEvent(r),bh=null}else return t=sl(n),t!==null&&fm(t),e.blockedOn=n,!1;t.shift()}return!0}function S0(e,t,n){wc(e)&&n.delete(t)}function Yj(){Ch=!1,Vr!==null&&wc(Vr)&&(Vr=null),Wr!==null&&wc(Wr)&&(Wr=null),Gr!==null&&wc(Gr)&&(Gr=null),pa.forEach(S0),ma.forEach(S0)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,Yj)))}function ga(e){function t(s){return Pi(s,e)}if(0<Dl.length){Pi(Dl[0],e);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vr!==null&&Pi(Vr,e),Wr!==null&&Pi(Wr,e),Gr!==null&&Pi(Gr,e),pa.forEach(t),ma.forEach(t),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Tw(n),n.blockedOn===null&&Ar.shift()}var No=dr.ReactCurrentBatchConfig,Wc=!0;function Xj(e,t,n,r){var s=Se,o=No.transition;No.transition=null;try{Se=1,hm(e,t,n,r)}finally{Se=s,No.transition=o}}function Qj(e,t,n,r){var s=Se,o=No.transition;No.transition=null;try{Se=4,hm(e,t,n,r)}finally{Se=s,No.transition=o}}function hm(e,t,n,r){if(Wc){var s=Nh(e,t,n,r);if(s===null)yf(e,t,r,Gc,n),_0(e,r);else if(qj(s,e,t,n,r))r.stopPropagation();else if(_0(e,r),t&4&&-1<Kj.indexOf(e)){for(;s!==null;){var o=sl(s);if(o!==null&&Cw(o),o=Nh(e,t,n,r),o===null&&yf(e,t,r,Gc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else yf(e,t,r,null,n)}}var Gc=null;function Nh(e,t,n,r){if(Gc=null,e=cm(r),e=ms(e),e!==null)if(t=Ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gc=e,null}function Rw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lj()){case um:return 1;case _w:return 4;case Hc:case Fj:return 16;case Sw:return 536870912;default:return 16}default:return 16}}var Ur=null,pm=null,bc=null;function Aw(){if(bc)return bc;var e,t=pm,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return bc=s.slice(e,1<r?1-r:void 0)}function _c(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function k0(){return!1}function zt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:k0,this.isPropagationStopped=k0,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mm=zt(fi),rl=Oe({},fi,{view:0,detail:0}),Jj=zt(rl),cf,uf,Ti,Du=Oe({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(cf=e.screenX-Ti.screenX,uf=e.screenY-Ti.screenY):uf=cf=0,Ti=e),cf)},movementY:function(e){return"movementY"in e?e.movementY:uf}}),E0=zt(Du),Zj=Oe({},Du,{dataTransfer:0}),eP=zt(Zj),tP=Oe({},rl,{relatedTarget:0}),df=zt(tP),nP=Oe({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),rP=zt(nP),sP=Oe({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oP=zt(sP),iP=Oe({},fi,{data:0}),C0=zt(iP),aP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cP[e])?!!t[e]:!1}function gm(){return uP}var dP=Oe({},rl,{key:function(e){if(e.key){var t=aP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_c(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(e){return e.type==="keypress"?_c(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_c(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fP=zt(dP),hP=Oe({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=zt(hP),pP=Oe({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),mP=zt(pP),gP=Oe({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vP=zt(gP),yP=Oe({},Du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xP=zt(yP),wP=[9,13,27,32],vm=sr&&"CompositionEvent"in window,Ji=null;sr&&"documentMode"in document&&(Ji=document.documentMode);var bP=sr&&"TextEvent"in window&&!Ji,Mw=sr&&(!vm||Ji&&8<Ji&&11>=Ji),j0=" ",P0=!1;function Iw(e,t){switch(e){case"keyup":return wP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function _P(e,t){switch(e){case"compositionend":return Ow(t);case"keypress":return t.which!==32?null:(P0=!0,j0);case"textInput":return e=t.data,e===j0&&P0?null:e;default:return null}}function SP(e,t){if(fo)return e==="compositionend"||!vm&&Iw(e,t)?(e=Aw(),bc=pm=Ur=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mw&&t.locale!=="ko"?null:t.data;default:return null}}var kP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kP[e.type]:t==="textarea"}function Dw(e,t,n,r){hw(r),t=Kc(t,"onChange"),0<t.length&&(n=new mm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zi=null,va=null;function EP(e){Kw(e,0)}function $u(e){var t=mo(e);if(iw(t))return e}function CP(e,t){if(e==="change")return t}var $w=!1;if(sr){var ff;if(sr){var hf="oninput"in document;if(!hf){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),hf=typeof R0.oninput=="function"}ff=hf}else ff=!1;$w=ff&&(!document.documentMode||9<document.documentMode)}function A0(){Zi&&(Zi.detachEvent("onpropertychange",Lw),va=Zi=null)}function Lw(e){if(e.propertyName==="value"&&$u(va)){var t=[];Dw(t,va,e,cm(e)),vw(EP,t)}}function NP(e,t,n){e==="focusin"?(A0(),Zi=t,va=n,Zi.attachEvent("onpropertychange",Lw)):e==="focusout"&&A0()}function jP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(va)}function PP(e,t){if(e==="click")return $u(t)}function TP(e,t){if(e==="input"||e==="change")return $u(t)}function RP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:RP;function ya(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ch.call(t,s)||!pn(e[s],t[s]))return!1}return!0}function M0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function I0(e,t){var n=M0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M0(n)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zw(){for(var e=window,t=zc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zc(e.document)}return t}function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AP(e){var t=zw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fw(n.ownerDocument.documentElement,n)){if(r!==null&&ym(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=I0(n,o);var i=I0(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MP=sr&&"documentMode"in document&&11>=document.documentMode,ho=null,jh=null,ea=null,Ph=!1;function O0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ph||ho==null||ho!==zc(r)||(r=ho,"selectionStart"in r&&ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ea&&ya(ea,r)||(ea=r,r=Kc(jh,"onSelect"),0<r.length&&(t=new mm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ho)))}function Ll(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var po={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},pf={},Uw={};sr&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Lu(e){if(pf[e])return pf[e];if(!po[e])return e;var t=po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uw)return pf[e]=t[n];return e}var Bw=Lu("animationend"),Hw=Lu("animationiteration"),Vw=Lu("animationstart"),Ww=Lu("transitionend"),Gw=new Map,D0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){Gw.set(e,t),Vs(t,[e])}for(var mf=0;mf<D0.length;mf++){var gf=D0[mf],IP=gf.toLowerCase(),OP=gf[0].toUpperCase()+gf.slice(1);rs(IP,"on"+OP)}rs(Bw,"onAnimationEnd");rs(Hw,"onAnimationIteration");rs(Vw,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(Ww,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function $0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ij(r,t,void 0,e),e.currentTarget=null}function Kw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;$0(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;$0(s,a,c),o=l}}}if(Bc)throw e=kh,Bc=!1,kh=null,e}function Pe(e,t){var n=t[Ih];n===void 0&&(n=t[Ih]=new Set);var r=e+"__bubble";n.has(r)||(qw(t,e,2,!1),n.add(r))}function vf(e,t,n){var r=0;t&&(r|=4),qw(n,e,r,t)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function xa(e){if(!e[Fl]){e[Fl]=!0,tw.forEach(function(n){n!=="selectionchange"&&(DP.has(n)||vf(n,!1,e),vf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fl]||(t[Fl]=!0,vf("selectionchange",!1,t))}}function qw(e,t,n,r){switch(Rw(t)){case 1:var s=Xj;break;case 4:s=Qj;break;default:s=hm}n=s.bind(null,t,n,e),s=void 0,!Sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yf(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ms(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}vw(function(){var c=o,d=cm(n),f=[];e:{var p=Gw.get(e);if(p!==void 0){var h=mm,b=e;switch(e){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":h=fP;break;case"focusin":b="focus",h=df;break;case"focusout":b="blur",h=df;break;case"beforeblur":case"afterblur":h=df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=E0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=eP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=mP;break;case Bw:case Hw:case Vw:h=rP;break;case Ww:h=vP;break;case"scroll":h=Jj;break;case"wheel":h=xP;break;case"copy":case"cut":case"paste":h=oP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=N0}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var x=c,v;x!==null;){v=x;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=ha(x,y),_!=null&&g.push(wa(x,_,v)))),w)break;x=x.return}0<g.length&&(p=new h(p,b,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==bh&&(b=n.relatedTarget||n.fromElement)&&(ms(b)||b[or]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(b=n.relatedTarget||n.toElement,h=c,b=b?ms(b):null,b!==null&&(w=Ws(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=c),h!==b)){if(g=E0,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=N0,_="onPointerLeave",y="onPointerEnter",x="pointer"),w=h==null?p:mo(h),v=b==null?p:mo(b),p=new g(_,x+"leave",h,n,d),p.target=w,p.relatedTarget=v,_=null,ms(d)===c&&(g=new g(y,x+"enter",b,n,d),g.target=v,g.relatedTarget=w,_=g),w=_,h&&b)t:{for(g=h,y=b,x=0,v=g;v;v=eo(v))x++;for(v=0,_=y;_;_=eo(_))v++;for(;0<x-v;)g=eo(g),x--;for(;0<v-x;)y=eo(y),v--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=eo(g),y=eo(y)}g=null}else g=null;h!==null&&L0(f,p,h,g,!1),b!==null&&w!==null&&L0(f,w,b,g,!0)}}e:{if(p=c?mo(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=CP;else if(T0(p))if($w)S=TP;else{S=jP;var N=NP}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=PP);if(S&&(S=S(e,c))){Dw(f,S,n,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&gh(p,"number",p.value)}switch(N=c?mo(c):window,e){case"focusin":(T0(N)||N.contentEditable==="true")&&(ho=N,jh=c,ea=null);break;case"focusout":ea=jh=ho=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,O0(f,n,d);break;case"selectionchange":if(MP)break;case"keydown":case"keyup":O0(f,n,d)}var C;if(vm)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else fo?Iw(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Mw&&n.locale!=="ko"&&(fo||P!=="onCompositionStart"?P==="onCompositionEnd"&&fo&&(C=Aw()):(Ur=d,pm="value"in Ur?Ur.value:Ur.textContent,fo=!0)),N=Kc(c,P),0<N.length&&(P=new C0(P,e,null,n,d),f.push({event:P,listeners:N}),C?P.data=C:(C=Ow(n),C!==null&&(P.data=C)))),(C=bP?_P(e,n):SP(e,n))&&(c=Kc(c,"onBeforeInput"),0<c.length&&(d=new C0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}Kw(f,t)})}function wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ha(e,n),o!=null&&r.unshift(wa(e,o,s)),o=ha(e,t),o!=null&&r.push(wa(e,o,s))),e=e.return}return r}function eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L0(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ha(n,o),l!=null&&i.unshift(wa(n,l,a))):s||(l=ha(n,o),l!=null&&i.push(wa(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var $P=/\r\n?/g,LP=/\u0000|\uFFFD/g;function F0(e){return(typeof e=="string"?e:""+e).replace($P,`
`).replace(LP,"")}function zl(e,t,n){if(t=F0(t),F0(e)!==t&&n)throw Error(Y(425))}function qc(){}var Th=null,Rh=null;function Ah(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,FP=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,zP=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(e){return z0.resolve(null).then(e).catch(UP)}:Mh;function UP(e){setTimeout(function(){throw e})}function xf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ga(t)}function Kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function U0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),Pn="__reactFiber$"+hi,ba="__reactProps$"+hi,or="__reactContainer$"+hi,Ih="__reactEvents$"+hi,BP="__reactListeners$"+hi,HP="__reactHandles$"+hi;function ms(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[or]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=U0(e);e!==null;){if(n=e[Pn])return n;e=U0(e)}return t}e=n,n=e.parentNode}return null}function sl(e){return e=e[Pn]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Fu(e){return e[ba]||null}var Oh=[],go=-1;function ss(e){return{current:e}}function Te(e){0>go||(e.current=Oh[go],Oh[go]=null,go--)}function Ne(e,t){go++,Oh[go]=e.current,e.current=t}var es={},it=ss(es),bt=ss(!1),Ts=es;function Ko(e,t){var n=e.type.contextTypes;if(!n)return es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function Yc(){Te(bt),Te(it)}function B0(e,t,n){if(it.current!==es)throw Error(Y(168));Ne(it,t),Ne(bt,n)}function Yw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Y(108,Nj(e)||"Unknown",s));return Oe({},n,r)}function Xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Ts=it.current,Ne(it,e),Ne(bt,bt.current),!0}function H0(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=Yw(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,Te(bt),Te(it),Ne(it,e)):Te(bt),Ne(bt,n)}var Yn=null,zu=!1,wf=!1;function Xw(e){Yn===null?Yn=[e]:Yn.push(e)}function VP(e){zu=!0,Xw(e)}function os(){if(!wf&&Yn!==null){wf=!0;var e=0,t=Se;try{var n=Yn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yn=null,zu=!1}catch(s){throw Yn!==null&&(Yn=Yn.slice(e+1)),bw(um,os),s}finally{Se=t,wf=!1}}return null}var vo=[],yo=0,Qc=null,Jc=0,Bt=[],Ht=0,Rs=null,Qn=1,Jn="";function us(e,t){vo[yo++]=Jc,vo[yo++]=Qc,Qc=e,Jc=t}function Qw(e,t,n){Bt[Ht++]=Qn,Bt[Ht++]=Jn,Bt[Ht++]=Rs,Rs=e;var r=Qn;e=Jn;var s=32-fn(r)-1;r&=~(1<<s),n+=1;var o=32-fn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qn=1<<32-fn(t)+s|n<<s|r,Jn=o+e}else Qn=1<<o|n<<s|r,Jn=e}function xm(e){e.return!==null&&(us(e,1),Qw(e,1,0))}function wm(e){for(;e===Qc;)Qc=vo[--yo],vo[yo]=null,Jc=vo[--yo],vo[yo]=null;for(;e===Rs;)Rs=Bt[--Ht],Bt[Ht]=null,Jn=Bt[--Ht],Bt[Ht]=null,Qn=Bt[--Ht],Bt[Ht]=null}var Ot=null,It=null,Re=!1,cn=null;function Jw(e,t){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function V0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,It=Kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rs!==null?{id:Qn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,It=null,!0):!1;default:return!1}}function Dh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $h(e){if(Re){var t=It;if(t){var n=t;if(!V0(e,t)){if(Dh(e))throw Error(Y(418));t=Kr(n.nextSibling);var r=Ot;t&&V0(e,t)?Jw(r,n):(e.flags=e.flags&-4097|2,Re=!1,Ot=e)}}else{if(Dh(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Re=!1,Ot=e}}}function W0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Ul(e){if(e!==Ot)return!1;if(!Re)return W0(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ah(e.type,e.memoizedProps)),t&&(t=It)){if(Dh(e))throw Zw(),Error(Y(418));for(;t;)Jw(e,t),t=Kr(t.nextSibling)}if(W0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=Kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Ot?Kr(e.stateNode.nextSibling):null;return!0}function Zw(){for(var e=It;e;)e=Kr(e.nextSibling)}function qo(){It=Ot=null,Re=!1}function bm(e){cn===null?cn=[e]:cn.push(e)}var WP=dr.ReactCurrentBatchConfig;function Ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Bl(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function G0(e){var t=e._init;return t(e._payload)}function eb(e){function t(y,x){if(e){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Qr(y,x),y.index=0,y.sibling=null,y}function o(y,x,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,v,_){return x===null||x.tag!==6?(x=Nf(v,y.mode,_),x.return=y,x):(x=s(x,v),x.return=y,x)}function l(y,x,v,_){var S=v.type;return S===uo?d(y,x,v.props.children,_,v.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jr&&G0(S)===x.type)?(_=s(x,v.props),_.ref=Ri(y,x,v),_.return=y,_):(_=Pc(v.type,v.key,v.props,null,y.mode,_),_.ref=Ri(y,x,v),_.return=y,_)}function c(y,x,v,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=jf(v,y.mode,_),x.return=y,x):(x=s(x,v.children||[]),x.return=y,x)}function d(y,x,v,_,S){return x===null||x.tag!==7?(x=Es(v,y.mode,_,S),x.return=y,x):(x=s(x,v),x.return=y,x)}function f(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Nf(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rl:return v=Pc(x.type,x.key,x.props,null,y.mode,v),v.ref=Ri(y,null,x),v.return=y,v;case co:return x=jf(x,y.mode,v),x.return=y,x;case jr:var _=x._init;return f(y,_(x._payload),v)}if(zi(x)||Ci(x))return x=Es(x,y.mode,v,null),x.return=y,x;Bl(y,x)}return null}function p(y,x,v,_){var S=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(y,x,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rl:return v.key===S?l(y,x,v,_):null;case co:return v.key===S?c(y,x,v,_):null;case jr:return S=v._init,p(y,x,S(v._payload),_)}if(zi(v)||Ci(v))return S!==null?null:d(y,x,v,_,null);Bl(y,v)}return null}function h(y,x,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(x,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rl:return y=y.get(_.key===null?v:_.key)||null,l(x,y,_,S);case co:return y=y.get(_.key===null?v:_.key)||null,c(x,y,_,S);case jr:var N=_._init;return h(y,x,v,N(_._payload),S)}if(zi(_)||Ci(_))return y=y.get(v)||null,d(x,y,_,S,null);Bl(x,_)}return null}function b(y,x,v,_){for(var S=null,N=null,C=x,P=x=0,I=null;C!==null&&P<v.length;P++){C.index>P?(I=C,C=null):I=C.sibling;var O=p(y,C,v[P],_);if(O===null){C===null&&(C=I);break}e&&C&&O.alternate===null&&t(y,C),x=o(O,x,P),N===null?S=O:N.sibling=O,N=O,C=I}if(P===v.length)return n(y,C),Re&&us(y,P),S;if(C===null){for(;P<v.length;P++)C=f(y,v[P],_),C!==null&&(x=o(C,x,P),N===null?S=C:N.sibling=C,N=C);return Re&&us(y,P),S}for(C=r(y,C);P<v.length;P++)I=h(C,y,P,v[P],_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),x=o(I,x,P),N===null?S=I:N.sibling=I,N=I);return e&&C.forEach(function(L){return t(y,L)}),Re&&us(y,P),S}function g(y,x,v,_){var S=Ci(v);if(typeof S!="function")throw Error(Y(150));if(v=S.call(v),v==null)throw Error(Y(151));for(var N=S=null,C=x,P=x=0,I=null,O=v.next();C!==null&&!O.done;P++,O=v.next()){C.index>P?(I=C,C=null):I=C.sibling;var L=p(y,C,O.value,_);if(L===null){C===null&&(C=I);break}e&&C&&L.alternate===null&&t(y,C),x=o(L,x,P),N===null?S=L:N.sibling=L,N=L,C=I}if(O.done)return n(y,C),Re&&us(y,P),S;if(C===null){for(;!O.done;P++,O=v.next())O=f(y,O.value,_),O!==null&&(x=o(O,x,P),N===null?S=O:N.sibling=O,N=O);return Re&&us(y,P),S}for(C=r(y,C);!O.done;P++,O=v.next())O=h(C,y,P,O.value,_),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),x=o(O,x,P),N===null?S=O:N.sibling=O,N=O);return e&&C.forEach(function(A){return t(y,A)}),Re&&us(y,P),S}function w(y,x,v,_){if(typeof v=="object"&&v!==null&&v.type===uo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Rl:e:{for(var S=v.key,N=x;N!==null;){if(N.key===S){if(S=v.type,S===uo){if(N.tag===7){n(y,N.sibling),x=s(N,v.props.children),x.return=y,y=x;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jr&&G0(S)===N.type){n(y,N.sibling),x=s(N,v.props),x.ref=Ri(y,N,v),x.return=y,y=x;break e}n(y,N);break}else t(y,N);N=N.sibling}v.type===uo?(x=Es(v.props.children,y.mode,_,v.key),x.return=y,y=x):(_=Pc(v.type,v.key,v.props,null,y.mode,_),_.ref=Ri(y,x,v),_.return=y,y=_)}return i(y);case co:e:{for(N=v.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),x=s(x,v.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=jf(v,y.mode,_),x.return=y,y=x}return i(y);case jr:return N=v._init,w(y,x,N(v._payload),_)}if(zi(v))return b(y,x,v,_);if(Ci(v))return g(y,x,v,_);Bl(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,v),x.return=y,y=x):(n(y,x),x=Nf(v,y.mode,_),x.return=y,y=x),i(y)):n(y,x)}return w}var Yo=eb(!0),tb=eb(!1),Zc=ss(null),eu=null,xo=null,_m=null;function Sm(){_m=xo=eu=null}function km(e){var t=Zc.current;Te(Zc),e._currentValue=t}function Lh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jo(e,t){eu=e,_m=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(_m!==e)if(e={context:e,memoizedValue:t,next:null},xo===null){if(eu===null)throw Error(Y(308));xo=e,eu.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var gs=null;function Em(e){gs===null?gs=[e]:gs.push(e)}function nb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Em(t)):(n.next=s.next,s.next=n),t.interleaved=n,ir(e,r)}function ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Cm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ir(e,n)}return s=r.interleaved,s===null?(t.next=t,Em(r)):(t.next=s.next,s.next=t),r.interleaved=t,ir(e,n)}function Sc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dm(e,n)}}function K0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tu(e,t,n,r){var s=e.updateQueue;Pr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var p=a.lane,h=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,g=a;switch(p=t,h=n,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(h,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(h,f,p):b,p==null)break e;f=Oe({},f,p);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=h,l=f):d=d.next=h,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ms|=i,e.lanes=i,e.memoizedState=f}}function q0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var ol={},An=ss(ol),_a=ss(ol),Sa=ss(ol);function vs(e){if(e===ol)throw Error(Y(174));return e}function Nm(e,t){switch(Ne(Sa,t),Ne(_a,e),Ne(An,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yh(t,e)}Te(An),Ne(An,t)}function Xo(){Te(An),Te(_a),Te(Sa)}function sb(e){vs(Sa.current);var t=vs(An.current),n=yh(t,e.type);t!==n&&(Ne(_a,e),Ne(An,n))}function jm(e){_a.current===e&&(Te(An),Te(_a))}var Me=ss(0);function nu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bf=[];function Pm(){for(var e=0;e<bf.length;e++)bf[e]._workInProgressVersionPrimary=null;bf.length=0}var kc=dr.ReactCurrentDispatcher,_f=dr.ReactCurrentBatchConfig,As=0,Ie=null,Ve=null,Ke=null,ru=!1,ta=!1,ka=0,GP=0;function tt(){throw Error(Y(321))}function Tm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pn(e[n],t[n]))return!1;return!0}function Rm(e,t,n,r,s,o){if(As=o,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kc.current=e===null||e.memoizedState===null?XP:QP,e=n(r,s),ta){o=0;do{if(ta=!1,ka=0,25<=o)throw Error(Y(301));o+=1,Ke=Ve=null,t.updateQueue=null,kc.current=JP,e=n(r,s)}while(ta)}if(kc.current=su,t=Ve!==null&&Ve.next!==null,As=0,Ke=Ve=Ie=null,ru=!1,t)throw Error(Y(300));return e}function Am(){var e=ka!==0;return ka=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xt(){if(Ve===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?Ie.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(Y(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ea(e,t){return typeof t=="function"?t(e):t}function Sf(e){var t=Xt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=Ve,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((As&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Ie.lanes|=d,Ms|=d}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,pn(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ie.lanes|=o,Ms|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kf(e){var t=Xt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);pn(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ob(){}function ib(e,t){var n=Ie,r=Xt(),s=t(),o=!pn(r.memoizedState,s);if(o&&(r.memoizedState=s,xt=!0),r=r.queue,Mm(cb.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ca(9,lb.bind(null,n,r,s,t),void 0,null),qe===null)throw Error(Y(349));As&30||ab(n,t,s)}return s}function ab(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lb(e,t,n,r){t.value=n,t.getSnapshot=r,ub(t)&&db(e)}function cb(e,t,n){return n(function(){ub(t)&&db(e)})}function ub(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pn(e,n)}catch{return!0}}function db(e){var t=ir(e,1);t!==null&&hn(t,e,1,-1)}function Y0(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=YP.bind(null,Ie,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fb(){return Xt().memoizedState}function Ec(e,t,n,r){var s=En();Ie.flags|=e,s.memoizedState=Ca(1|t,n,void 0,r===void 0?null:r)}function Uu(e,t,n,r){var s=Xt();r=r===void 0?null:r;var o=void 0;if(Ve!==null){var i=Ve.memoizedState;if(o=i.destroy,r!==null&&Tm(r,i.deps)){s.memoizedState=Ca(t,n,o,r);return}}Ie.flags|=e,s.memoizedState=Ca(1|t,n,o,r)}function X0(e,t){return Ec(8390656,8,e,t)}function Mm(e,t){return Uu(2048,8,e,t)}function hb(e,t){return Uu(4,2,e,t)}function pb(e,t){return Uu(4,4,e,t)}function mb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gb(e,t,n){return n=n!=null?n.concat([e]):null,Uu(4,4,mb.bind(null,t,e),n)}function Im(){}function vb(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yb(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xb(e,t,n){return As&21?(pn(n,t)||(n=kw(),Ie.lanes|=n,Ms|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function KP(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=_f.transition;_f.transition={};try{e(!1),t()}finally{Se=n,_f.transition=r}}function wb(){return Xt().memoizedState}function qP(e,t,n){var r=Xr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bb(e))_b(t,n);else if(n=nb(e,t,n,r),n!==null){var s=ut();hn(n,e,r,s),Sb(n,t,r)}}function YP(e,t,n){var r=Xr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bb(e))_b(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,pn(a,i)){var l=t.interleaved;l===null?(s.next=s,Em(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=nb(e,t,s,r),n!==null&&(s=ut(),hn(n,e,r,s),Sb(n,t,r))}}function bb(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function _b(e,t){ta=ru=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dm(e,n)}}var su={readContext:Yt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},XP={readContext:Yt,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:X0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ec(4194308,4,mb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ec(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qP.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:Y0,useDebugValue:Im,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=Y0(!1),t=e[0];return e=KP.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,s=En();if(Re){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),qe===null)throw Error(Y(349));As&30||ab(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,X0(cb.bind(null,r,o,e),[e]),r.flags|=2048,Ca(9,lb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=En(),t=qe.identifierPrefix;if(Re){var n=Jn,r=Qn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ka++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QP={readContext:Yt,useCallback:vb,useContext:Yt,useEffect:Mm,useImperativeHandle:gb,useInsertionEffect:hb,useLayoutEffect:pb,useMemo:yb,useReducer:Sf,useRef:fb,useState:function(){return Sf(Ea)},useDebugValue:Im,useDeferredValue:function(e){var t=Xt();return xb(t,Ve.memoizedState,e)},useTransition:function(){var e=Sf(Ea)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:ob,useSyncExternalStore:ib,useId:wb,unstable_isNewReconciler:!1},JP={readContext:Yt,useCallback:vb,useContext:Yt,useEffect:Mm,useImperativeHandle:gb,useInsertionEffect:hb,useLayoutEffect:pb,useMemo:yb,useReducer:kf,useRef:fb,useState:function(){return kf(Ea)},useDebugValue:Im,useDeferredValue:function(e){var t=Xt();return Ve===null?t.memoizedState=e:xb(t,Ve.memoizedState,e)},useTransition:function(){var e=kf(Ea)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:ob,useSyncExternalStore:ib,useId:wb,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bu={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ut(),s=Xr(e),o=er(r,s);o.payload=t,n!=null&&(o.callback=n),t=qr(e,o,s),t!==null&&(hn(t,e,s,r),Sc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ut(),s=Xr(e),o=er(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=qr(e,o,s),t!==null&&(hn(t,e,s,r),Sc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),r=Xr(e),s=er(n,r);s.tag=2,t!=null&&(s.callback=t),t=qr(e,s,r),t!==null&&(hn(t,e,r,n),Sc(t,e,r))}};function Q0(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ya(n,r)||!ya(s,o):!0}function kb(e,t,n){var r=!1,s=es,o=t.contextType;return typeof o=="object"&&o!==null?o=Yt(o):(s=_t(t)?Ts:it.current,r=t.contextTypes,o=(r=r!=null)?Ko(e,s):es),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function J0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bu.enqueueReplaceState(t,t.state,null)}function zh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Yt(o):(o=_t(t)?Ts:it.current,s.context=Ko(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bu.enqueueReplaceState(s,s.state,null),tu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qo(e,t){try{var n="",r=t;do n+=Cj(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ef(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZP=typeof WeakMap=="function"?WeakMap:Map;function Eb(e,t,n){n=er(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){iu||(iu=!0,Qh=r),Uh(e,t)},n}function Cb(e,t,n){n=er(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Uh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Uh(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Z0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZP;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=h2.bind(null,e,t,n),t.then(e,e))}function ev(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=er(-1,1),t.tag=2,qr(n,t,1))),n.lanes|=1),e)}var e2=dr.ReactCurrentOwner,xt=!1;function lt(e,t,n,r){t.child=e===null?tb(t,null,n,r):Yo(t,e.child,n,r)}function nv(e,t,n,r,s){n=n.render;var o=t.ref;return jo(t,s),r=Rm(e,t,n,r,o,s),n=Am(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(Re&&n&&xm(t),t.flags|=1,lt(e,t,r,s),t.child)}function rv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Bm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Nb(e,t,o,r,s)):(e=Pc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(i,r)&&e.ref===t.ref)return ar(e,t,s)}return t.flags|=1,e=Qr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Nb(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ya(o,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,ar(e,t,s)}return Bh(e,t,n,r,s)}function jb(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(bo,Tt),Tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(bo,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(bo,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ne(bo,Tt),Tt|=r;return lt(e,t,s,n),t.child}function Pb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bh(e,t,n,r,s){var o=_t(n)?Ts:it.current;return o=Ko(t,o),jo(t,s),n=Rm(e,t,n,r,o,s),r=Am(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(Re&&r&&xm(t),t.flags|=1,lt(e,t,n,s),t.child)}function sv(e,t,n,r,s){if(_t(n)){var o=!0;Xc(t)}else o=!1;if(jo(t,s),t.stateNode===null)Cc(e,t),kb(t,n,r),zh(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yt(c):(c=_t(n)?Ts:it.current,c=Ko(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&J0(t,i,r,c),Pr=!1;var p=t.memoizedState;i.state=p,tu(t,r,i,s),l=t.memoizedState,a!==r||p!==l||bt.current||Pr?(typeof d=="function"&&(Fh(t,n,d,r),l=t.memoizedState),(a=Pr||Q0(t,n,a,r,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,rb(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:tn(t.type,a),i.props=c,f=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yt(l):(l=_t(n)?Ts:it.current,l=Ko(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&J0(t,i,r,l),Pr=!1,p=t.memoizedState,i.state=p,tu(t,r,i,s);var b=t.memoizedState;a!==f||p!==b||bt.current||Pr?(typeof h=="function"&&(Fh(t,n,h,r),b=t.memoizedState),(c=Pr||Q0(t,n,c,r,p,b,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Hh(e,t,n,r,o,s)}function Hh(e,t,n,r,s,o){Pb(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&H0(t,n,!1),ar(e,t,o);r=t.stateNode,e2.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,a,o)):lt(e,t,a,o),t.memoizedState=r.state,s&&H0(t,n,!0),t.child}function Tb(e){var t=e.stateNode;t.pendingContext?B0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B0(e,t.context,!1),Nm(e,t.containerInfo)}function ov(e,t,n,r,s){return qo(),bm(s),t.flags|=256,lt(e,t,n,r),t.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Wh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rb(e,t,n){var r=t.pendingProps,s=Me.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Me,s&1),e===null)return $h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Wu(i,r,0,null),e=Es(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wh(n),t.memoizedState=Vh,e):Om(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return t2(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Qr(a,o):(o=Es(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Wh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Vh,r}return o=e.child,e=o.sibling,r=Qr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Om(e,t){return t=Wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hl(e,t,n,r){return r!==null&&bm(r),Yo(t,e.child,null,n),e=Om(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function t2(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Ef(Error(Y(422))),Hl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Wu({mode:"visible",children:r.children},s,0,null),o=Es(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Yo(t,e.child,null,i),t.child.memoizedState=Wh(i),t.memoizedState=Vh,o);if(!(t.mode&1))return Hl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Y(419)),r=Ef(o,r,void 0),Hl(e,t,i,r)}if(a=(i&e.childLanes)!==0,xt||a){if(r=qe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ir(e,s),hn(r,e,s,-1))}return Um(),r=Ef(Error(Y(421))),Hl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=p2.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,It=Kr(s.nextSibling),Ot=t,Re=!0,cn=null,e!==null&&(Bt[Ht++]=Qn,Bt[Ht++]=Jn,Bt[Ht++]=Rs,Qn=e.id,Jn=e.overflow,Rs=t),t=Om(t,r.children),t.flags|=4096,t)}function iv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lh(e.return,t,n)}function Cf(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ab(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(lt(e,t,r.children,n),r=Me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iv(e,n,t);else if(e.tag===19)iv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Cf(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Cf(t,!0,n,null,o);break;case"together":Cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Qr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function n2(e,t,n){switch(t.tag){case 3:Tb(t),qo();break;case 5:sb(t);break;case 1:_t(t.type)&&Xc(t);break;case 4:Nm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ne(Zc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?Rb(e,t,n):(Ne(Me,Me.current&1),e=ar(e,t,n),e!==null?e.sibling:null);Ne(Me,Me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ab(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,jb(e,t,n)}return ar(e,t,n)}var Mb,Gh,Ib,Ob;Mb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gh=function(){};Ib=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,vs(An.current);var o=null;switch(n){case"input":s=ph(e,s),r=ph(e,r),o=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),o=[];break;case"textarea":s=vh(e,s),r=vh(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qc)}xh(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(da.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(da.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Ob=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ai(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function r2(e,t,n){var r=t.pendingProps;switch(wm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return _t(t.type)&&Yc(),nt(t),null;case 3:return r=t.stateNode,Xo(),Te(bt),Te(it),Pm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(ep(cn),cn=null))),Gh(e,t),nt(t),null;case 5:jm(t);var s=vs(Sa.current);if(n=t.type,e!==null&&t.stateNode!=null)Ib(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return nt(t),null}if(e=vs(An.current),Ul(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Pn]=t,r[ba]=o,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Bi.length;s++)Pe(Bi[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":m0(r,o),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",r);break;case"textarea":v0(r,o),Pe("invalid",r)}xh(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&zl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&zl(r.textContent,a,e),s=["children",""+a]):da.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Al(r),g0(r,o,!0);break;case"textarea":Al(r),y0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Pn]=t,e[ba]=r,Mb(e,t,!1,!1),t.stateNode=e;e:{switch(i=wh(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),s=r;break;case"iframe":case"object":case"embed":Pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Bi.length;s++)Pe(Bi[s],e);s=r;break;case"source":Pe("error",e),s=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),s=r;break;case"details":Pe("toggle",e),s=r;break;case"input":m0(e,r),s=ph(e,r),Pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":v0(e,r),s=vh(e,r),Pe("invalid",e);break;default:s=r}xh(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?fw(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fa(e,l):typeof l=="number"&&fa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(da.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Pe("scroll",e):l!=null&&om(e,o,l,i))}switch(n){case"input":Al(e),g0(e,r,!1);break;case"textarea":Al(e),y0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ko(e,!!r.multiple,o,!1):r.defaultValue!=null&&ko(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Ob(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=vs(Sa.current),vs(An.current),Ul(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pn]=t,(o=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:zl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r}return nt(t),null;case 13:if(Te(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&It!==null&&t.mode&1&&!(t.flags&128))Zw(),qo(),t.flags|=98560,o=!1;else if(o=Ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[Pn]=t}else qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),o=!1}else cn!==null&&(ep(cn),cn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?We===0&&(We=3):Um())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return Xo(),Gh(e,t),e===null&&xa(t.stateNode.containerInfo),nt(t),null;case 10:return km(t.type._context),nt(t),null;case 17:return _t(t.type)&&Yc(),nt(t),null;case 19:if(Te(Me),o=t.memoizedState,o===null)return nt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ai(o,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=nu(e),i!==null){for(t.flags|=128,Ai(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Me,Me.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>Jo&&(t.flags|=128,r=!0,Ai(o,!1),t.lanes=4194304)}else{if(!r)if(e=nu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Re)return nt(t),null}else 2*Fe()-o.renderingStartTime>Jo&&n!==1073741824&&(t.flags|=128,r=!0,Ai(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,n=Me.current,Ne(Me,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return zm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function s2(e,t){switch(wm(t),t.tag){case 1:return _t(t.type)&&Yc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xo(),Te(bt),Te(it),Pm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jm(t),null;case 13:if(Te(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Me),null;case 4:return Xo(),null;case 10:return km(t.type._context),null;case 22:case 23:return zm(),null;case 24:return null;default:return null}}var Vl=!1,ot=!1,o2=typeof WeakSet=="function"?WeakSet:Set,te=null;function wo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Kh(e,t,n){try{n()}catch(r){$e(e,t,r)}}var av=!1;function i2(e,t){if(Th=Wc,e=zw(),ym(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===s&&(a=i),p===o&&++d===r&&(l=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rh={focusedElem:e,selectionRange:n},Wc=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,w=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:tn(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(_){$e(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return b=av,av=!1,b}function na(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Kh(t,n,o)}s=s.next}while(s!==r)}}function Hu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Db(e){var t=e.alternate;t!==null&&(e.alternate=null,Db(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[ba],delete t[Ih],delete t[BP],delete t[HP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $b(e){return e.tag===5||e.tag===3||e.tag===4}function lv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$b(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qc));else if(r!==4&&(e=e.child,e!==null))for(Yh(e,t,n),e=e.sibling;e!==null;)Yh(e,t,n),e=e.sibling}function Xh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xh(e,t,n),e=e.sibling;e!==null;)Xh(e,t,n),e=e.sibling}var Xe=null,on=!1;function xr(e,t,n){for(n=n.child;n!==null;)Lb(e,t,n),n=n.sibling}function Lb(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:ot||wo(n,t);case 6:var r=Xe,s=on;Xe=null,xr(e,t,n),Xe=r,on=s,Xe!==null&&(on?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(on?(e=Xe,n=n.stateNode,e.nodeType===8?xf(e.parentNode,n):e.nodeType===1&&xf(e,n),ga(e)):xf(Xe,n.stateNode));break;case 4:r=Xe,s=on,Xe=n.stateNode.containerInfo,on=!0,xr(e,t,n),Xe=r,on=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Kh(n,t,i),s=s.next}while(s!==r)}xr(e,t,n);break;case 1:if(!ot&&(wo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,t,a)}xr(e,t,n);break;case 21:xr(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,xr(e,t,n),ot=r):xr(e,t,n);break;default:xr(e,t,n)}}function cv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o2),t.forEach(function(r){var s=m2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,on=!1;break e;case 3:Xe=a.stateNode.containerInfo,on=!0;break e;case 4:Xe=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(Xe===null)throw Error(Y(160));Lb(o,i,s),Xe=null,on=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){$e(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fb(t,e),t=t.sibling}function Fb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),Sn(e),r&4){try{na(3,e,e.return),Hu(3,e)}catch(g){$e(e,e.return,g)}try{na(5,e,e.return)}catch(g){$e(e,e.return,g)}}break;case 1:Jt(t,e),Sn(e),r&512&&n!==null&&wo(n,n.return);break;case 5:if(Jt(t,e),Sn(e),r&512&&n!==null&&wo(n,n.return),e.flags&32){var s=e.stateNode;try{fa(s,"")}catch(g){$e(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&aw(s,o),wh(a,i);var c=wh(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?fw(s,f):d==="dangerouslySetInnerHTML"?uw(s,f):d==="children"?fa(s,f):om(s,d,f,c)}switch(a){case"input":mh(s,o);break;case"textarea":lw(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ko(s,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?ko(s,!!o.multiple,o.defaultValue,!0):ko(s,!!o.multiple,o.multiple?[]:"",!1))}s[ba]=o}catch(g){$e(e,e.return,g)}}break;case 6:if(Jt(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){$e(e,e.return,g)}}break;case 3:if(Jt(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(t.containerInfo)}catch(g){$e(e,e.return,g)}break;case 4:Jt(t,e),Sn(e);break;case 13:Jt(t,e),Sn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Lm=Fe())),r&4&&cv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(c=ot)||d,Jt(t,e),ot=c):Jt(t,e),Sn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(p=te,h=p.child,p.tag){case 0:case 11:case 14:case 15:na(4,p,p.return);break;case 1:wo(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){$e(r,n,g)}}break;case 5:wo(p,p.return);break;case 22:if(p.memoizedState!==null){dv(f);continue}}h!==null?(h.return=p,te=h):dv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dw("display",i))}catch(g){$e(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){$e(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),Sn(e),r&4&&cv(e);break;case 21:break;default:Jt(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($b(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fa(s,""),r.flags&=-33);var o=lv(e);Xh(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=lv(e);Yh(e,a,i);break;default:throw Error(Y(161))}}catch(l){$e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a2(e,t,n){te=e,zb(e)}function zb(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Vl;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ot;a=Vl;var c=ot;if(Vl=i,(ot=l)&&!c)for(te=s;te!==null;)i=te,l=i.child,i.tag===22&&i.memoizedState!==null?fv(s):l!==null?(l.return=i,te=l):fv(s);for(;o!==null;)te=o,zb(o),o=o.sibling;te=s,Vl=a,ot=c}uv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,te=o):uv(e)}}function uv(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Hu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&q0(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q0(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ga(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}ot||t.flags&512&&qh(t)}catch(p){$e(t,t.return,p)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function dv(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function fv(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hu(4,t)}catch(l){$e(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){$e(t,s,l)}}var o=t.return;try{qh(t)}catch(l){$e(t,o,l)}break;case 5:var i=t.return;try{qh(t)}catch(l){$e(t,i,l)}}}catch(l){$e(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var l2=Math.ceil,ou=dr.ReactCurrentDispatcher,Dm=dr.ReactCurrentOwner,Gt=dr.ReactCurrentBatchConfig,me=0,qe=null,ze=null,Qe=0,Tt=0,bo=ss(0),We=0,Na=null,Ms=0,Vu=0,$m=0,ra=null,vt=null,Lm=0,Jo=1/0,Kn=null,iu=!1,Qh=null,Yr=null,Wl=!1,Br=null,au=0,sa=0,Jh=null,Nc=-1,jc=0;function ut(){return me&6?Fe():Nc!==-1?Nc:Nc=Fe()}function Xr(e){return e.mode&1?me&2&&Qe!==0?Qe&-Qe:WP.transition!==null?(jc===0&&(jc=kw()),jc):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Rw(e.type)),e):1}function hn(e,t,n,r){if(50<sa)throw sa=0,Jh=null,Error(Y(185));nl(e,n,r),(!(me&2)||e!==qe)&&(e===qe&&(!(me&2)&&(Vu|=n),We===4&&Mr(e,Qe)),St(e,r),n===1&&me===0&&!(t.mode&1)&&(Jo=Fe()+500,zu&&os()))}function St(e,t){var n=e.callbackNode;Wj(e,t);var r=Vc(e,e===qe?Qe:0);if(r===0)n!==null&&b0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&b0(n),t===1)e.tag===0?VP(hv.bind(null,e)):Xw(hv.bind(null,e)),zP(function(){!(me&6)&&os()}),n=null;else{switch(Ew(r)){case 1:n=um;break;case 4:n=_w;break;case 16:n=Hc;break;case 536870912:n=Sw;break;default:n=Hc}n=qb(n,Ub.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ub(e,t){if(Nc=-1,jc=0,me&6)throw Error(Y(327));var n=e.callbackNode;if(Po()&&e.callbackNode!==n)return null;var r=Vc(e,e===qe?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=lu(e,r);else{t=r;var s=me;me|=2;var o=Hb();(qe!==e||Qe!==t)&&(Kn=null,Jo=Fe()+500,ks(e,t));do try{d2();break}catch(a){Bb(e,a)}while(!0);Sm(),ou.current=o,me=s,ze!==null?t=0:(qe=null,Qe=0,t=We)}if(t!==0){if(t===2&&(s=Eh(e),s!==0&&(r=s,t=Zh(e,s))),t===1)throw n=Na,ks(e,0),Mr(e,r),St(e,Fe()),n;if(t===6)Mr(e,r);else{if(s=e.current.alternate,!(r&30)&&!c2(s)&&(t=lu(e,r),t===2&&(o=Eh(e),o!==0&&(r=o,t=Zh(e,o))),t===1))throw n=Na,ks(e,0),Mr(e,r),St(e,Fe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:ds(e,vt,Kn);break;case 3:if(Mr(e,r),(r&130023424)===r&&(t=Lm+500-Fe(),10<t)){if(Vc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mh(ds.bind(null,e,vt,Kn),t);break}ds(e,vt,Kn);break;case 4:if(Mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-fn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*l2(r/1960))-r,10<r){e.timeoutHandle=Mh(ds.bind(null,e,vt,Kn),r);break}ds(e,vt,Kn);break;case 5:ds(e,vt,Kn);break;default:throw Error(Y(329))}}}return St(e,Fe()),e.callbackNode===n?Ub.bind(null,e):null}function Zh(e,t){var n=ra;return e.current.memoizedState.isDehydrated&&(ks(e,t).flags|=256),e=lu(e,t),e!==2&&(t=vt,vt=n,t!==null&&ep(t)),e}function ep(e){vt===null?vt=e:vt.push.apply(vt,e)}function c2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!pn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~$m,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fn(t),r=1<<n;e[n]=-1,t&=~r}}function hv(e){if(me&6)throw Error(Y(327));Po();var t=Vc(e,0);if(!(t&1))return St(e,Fe()),null;var n=lu(e,t);if(e.tag!==0&&n===2){var r=Eh(e);r!==0&&(t=r,n=Zh(e,r))}if(n===1)throw n=Na,ks(e,0),Mr(e,t),St(e,Fe()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ds(e,vt,Kn),St(e,Fe()),null}function Fm(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Jo=Fe()+500,zu&&os())}}function Is(e){Br!==null&&Br.tag===0&&!(me&6)&&Po();var t=me;me|=1;var n=Gt.transition,r=Se;try{if(Gt.transition=null,Se=1,e)return e()}finally{Se=r,Gt.transition=n,me=t,!(me&6)&&os()}}function zm(){Tt=bo.current,Te(bo)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,FP(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yc();break;case 3:Xo(),Te(bt),Te(it),Pm();break;case 5:jm(r);break;case 4:Xo();break;case 13:Te(Me);break;case 19:Te(Me);break;case 10:km(r.type._context);break;case 22:case 23:zm()}n=n.return}if(qe=e,ze=e=Qr(e.current,null),Qe=Tt=t,We=0,Na=null,$m=Vu=Ms=0,vt=ra=null,gs!==null){for(t=0;t<gs.length;t++)if(n=gs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}gs=null}return e}function Bb(e,t){do{var n=ze;try{if(Sm(),kc.current=su,ru){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ru=!1}if(As=0,Ke=Ve=Ie=null,ta=!1,ka=0,Dm.current=null,n===null||n.return===null){We=1,Na=t,ze=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ev(i);if(h!==null){h.flags&=-257,tv(h,i,a,o,t),h.mode&1&&Z0(o,c,t),t=h,l=c;var b=t.updateQueue;if(b===null){var g=new Set;g.add(l),t.updateQueue=g}else b.add(l);break e}else{if(!(t&1)){Z0(o,c,t),Um();break e}l=Error(Y(426))}}else if(Re&&a.mode&1){var w=ev(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tv(w,i,a,o,t),bm(Qo(l,a));break e}}o=l=Qo(l,a),We!==4&&(We=2),ra===null?ra=[o]:ra.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Eb(o,l,t);K0(o,y);break e;case 1:a=l;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yr===null||!Yr.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Cb(o,a,t);K0(o,_);break e}}o=o.return}while(o!==null)}Wb(n)}catch(S){t=S,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function Hb(){var e=ou.current;return ou.current=su,e===null?su:e}function Um(){(We===0||We===3||We===2)&&(We=4),qe===null||!(Ms&268435455)&&!(Vu&268435455)||Mr(qe,Qe)}function lu(e,t){var n=me;me|=2;var r=Hb();(qe!==e||Qe!==t)&&(Kn=null,ks(e,t));do try{u2();break}catch(s){Bb(e,s)}while(!0);if(Sm(),me=n,ou.current=r,ze!==null)throw Error(Y(261));return qe=null,Qe=0,We}function u2(){for(;ze!==null;)Vb(ze)}function d2(){for(;ze!==null&&!Dj();)Vb(ze)}function Vb(e){var t=Kb(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?Wb(e):ze=t,Dm.current=null}function Wb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=s2(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,ze=null;return}}else if(n=r2(n,t,Tt),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);We===0&&(We=5)}function ds(e,t,n){var r=Se,s=Gt.transition;try{Gt.transition=null,Se=1,f2(e,t,n,r)}finally{Gt.transition=s,Se=r}return null}function f2(e,t,n,r){do Po();while(Br!==null);if(me&6)throw Error(Y(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Gj(e,o),e===qe&&(ze=qe=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wl||(Wl=!0,qb(Hc,function(){return Po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gt.transition,Gt.transition=null;var i=Se;Se=1;var a=me;me|=4,Dm.current=null,i2(e,n),Fb(n,e),AP(Rh),Wc=!!Th,Rh=Th=null,e.current=n,a2(n),$j(),me=a,Se=i,Gt.transition=o}else e.current=n;if(Wl&&(Wl=!1,Br=e,au=s),o=e.pendingLanes,o===0&&(Yr=null),zj(n.stateNode),St(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(iu)throw iu=!1,e=Qh,Qh=null,e;return au&1&&e.tag!==0&&Po(),o=e.pendingLanes,o&1?e===Jh?sa++:(sa=0,Jh=e):sa=0,os(),null}function Po(){if(Br!==null){var e=Ew(au),t=Gt.transition,n=Se;try{if(Gt.transition=null,Se=16>e?16:e,Br===null)var r=!1;else{if(e=Br,Br=null,au=0,me&6)throw Error(Y(331));var s=me;for(me|=4,te=e.current;te!==null;){var o=te,i=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:na(8,d,o)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var p=d.sibling,h=d.return;if(Db(d),d===c){te=null;break}if(p!==null){p.return=h,te=p;break}te=h}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}te=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,te=i;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:na(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,te=y;break e}te=o.return}}var x=e.current;for(te=x;te!==null;){i=te;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,te=v;else e:for(i=x;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hu(9,a)}}catch(S){$e(a,a.return,S)}if(a===i){te=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break e}te=a.return}}if(me=s,os(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Ou,e)}catch{}r=!0}return r}finally{Se=n,Gt.transition=t}}return!1}function pv(e,t,n){t=Qo(n,t),t=Eb(e,t,1),e=qr(e,t,1),t=ut(),e!==null&&(nl(e,1,t),St(e,t))}function $e(e,t,n){if(e.tag===3)pv(e,e,n);else for(;t!==null;){if(t.tag===3){pv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=Qo(n,e),e=Cb(t,e,1),t=qr(t,e,1),e=ut(),t!==null&&(nl(t,1,e),St(t,e));break}}t=t.return}}function h2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(Qe&n)===n&&(We===4||We===3&&(Qe&130023424)===Qe&&500>Fe()-Lm?ks(e,0):$m|=n),St(e,t)}function Gb(e,t){t===0&&(e.mode&1?(t=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):t=1);var n=ut();e=ir(e,t),e!==null&&(nl(e,t,n),St(e,n))}function p2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gb(e,n)}function m2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),Gb(e,n)}var Kb;Kb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,n2(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Re&&t.flags&1048576&&Qw(t,Jc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cc(e,t),e=t.pendingProps;var s=Ko(t,it.current);jo(t,n),s=Rm(null,t,r,e,s,n);var o=Am();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(o=!0,Xc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cm(t),s.updater=Bu,t.stateNode=s,s._reactInternals=t,zh(t,r,e,n),t=Hh(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&xm(t),lt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=v2(r),e=tn(r,e),s){case 0:t=Bh(null,t,r,e,n);break e;case 1:t=sv(null,t,r,e,n);break e;case 11:t=nv(null,t,r,e,n);break e;case 14:t=rv(null,t,r,tn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),Bh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),sv(e,t,r,s,n);case 3:e:{if(Tb(t),e===null)throw Error(Y(387));r=t.pendingProps,o=t.memoizedState,s=o.element,rb(e,t),tu(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Qo(Error(Y(423)),t),t=ov(e,t,r,n,s);break e}else if(r!==s){s=Qo(Error(Y(424)),t),t=ov(e,t,r,n,s);break e}else for(It=Kr(t.stateNode.containerInfo.firstChild),Ot=t,Re=!0,cn=null,n=tb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),r===s){t=ar(e,t,n);break e}lt(e,t,r,n)}t=t.child}return t;case 5:return sb(t),e===null&&$h(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ah(r,s)?i=null:o!==null&&Ah(r,o)&&(t.flags|=32),Pb(e,t),lt(e,t,i,n),t.child;case 6:return e===null&&$h(t),null;case 13:return Rb(e,t,n);case 4:return Nm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yo(t,null,r,n):lt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),nv(e,t,r,s,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ne(Zc,r._currentValue),r._currentValue=i,o!==null)if(pn(o.value,i)){if(o.children===s.children&&!bt.current){t=ar(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=er(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Y(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lh(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}lt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,jo(t,n),s=Yt(s),r=r(s),t.flags|=1,lt(e,t,r,n),t.child;case 14:return r=t.type,s=tn(r,t.pendingProps),s=tn(r.type,s),rv(e,t,r,s,n);case 15:return Nb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tn(r,s),Cc(e,t),t.tag=1,_t(r)?(e=!0,Xc(t)):e=!1,jo(t,n),kb(t,r,s),zh(t,r,s,n),Hh(null,t,r,!0,e,n);case 19:return Ab(e,t,n);case 22:return jb(e,t,n)}throw Error(Y(156,t.tag))};function qb(e,t){return bw(e,t)}function g2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,r){return new g2(e,t,n,r)}function Bm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v2(e){if(typeof e=="function")return Bm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===am)return 11;if(e===lm)return 14}return 2}function Qr(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Bm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case uo:return Es(n.children,s,o,t);case im:i=8,s|=8;break;case uh:return e=Vt(12,n,t,s|2),e.elementType=uh,e.lanes=o,e;case dh:return e=Vt(13,n,t,s),e.elementType=dh,e.lanes=o,e;case fh:return e=Vt(19,n,t,s),e.elementType=fh,e.lanes=o,e;case sw:return Wu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nw:i=10;break e;case rw:i=9;break e;case am:i=11;break e;case lm:i=14;break e;case jr:i=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Vt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Es(e,t,n,r){return e=Vt(7,e,r,t),e.lanes=n,e}function Wu(e,t,n,r){return e=Vt(22,e,r,t),e.elementType=sw,e.lanes=n,e.stateNode={isHidden:!1},e}function Nf(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function jf(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hm(e,t,n,r,s,o,i,a,l){return e=new y2(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cm(o),e}function x2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yb(e){if(!e)return es;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(_t(n))return Yw(e,n,t)}return t}function Xb(e,t,n,r,s,o,i,a,l){return e=Hm(n,r,!0,e,s,o,i,a,l),e.context=Yb(null),n=e.current,r=ut(),s=Xr(n),o=er(r,s),o.callback=t??null,qr(n,o,s),e.current.lanes=s,nl(e,s,r),St(e,r),e}function Gu(e,t,n,r){var s=t.current,o=ut(),i=Xr(s);return n=Yb(n),t.context===null?t.context=n:t.pendingContext=n,t=er(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qr(s,t,i),e!==null&&(hn(e,s,i,o),Sc(e,s,i)),i}function cu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vm(e,t){mv(e,t),(e=e.alternate)&&mv(e,t)}function w2(){return null}var Qb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wm(e){this._internalRoot=e}Ku.prototype.render=Wm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Gu(e,t,null,null)};Ku.prototype.unmount=Wm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Is(function(){Gu(null,e,null,null)}),t[or]=null}};function Ku(e){this._internalRoot=e}Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=jw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ar.length&&t!==0&&t<Ar[n].priority;n++);Ar.splice(n,0,e),n===0&&Tw(e)}};function Gm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gv(){}function b2(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=cu(i);o.call(c)}}var i=Xb(t,r,e,0,null,!1,!1,"",gv);return e._reactRootContainer=i,e[or]=i.current,xa(e.nodeType===8?e.parentNode:e),Is(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=cu(l);a.call(c)}}var l=Hm(e,0,!1,null,null,!1,!1,"",gv);return e._reactRootContainer=l,e[or]=l.current,xa(e.nodeType===8?e.parentNode:e),Is(function(){Gu(t,l,n,r)}),l}function Yu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=cu(i);a.call(l)}}Gu(t,i,e,s)}else i=b2(n,t,e,s,r);return cu(i)}Cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ui(t.pendingLanes);n!==0&&(dm(t,n|1),St(t,Fe()),!(me&6)&&(Jo=Fe()+500,os()))}break;case 13:Is(function(){var r=ir(e,1);if(r!==null){var s=ut();hn(r,e,1,s)}}),Vm(e,1)}};fm=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var n=ut();hn(t,e,134217728,n)}Vm(e,134217728)}};Nw=function(e){if(e.tag===13){var t=Xr(e),n=ir(e,t);if(n!==null){var r=ut();hn(n,e,t,r)}Vm(e,t)}};jw=function(){return Se};Pw=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};_h=function(e,t,n){switch(t){case"input":if(mh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fu(r);if(!s)throw Error(Y(90));iw(r),mh(r,s)}}}break;case"textarea":lw(e,n);break;case"select":t=n.value,t!=null&&ko(e,!!n.multiple,t,!1)}};mw=Fm;gw=Is;var _2={usingClientEntryPoint:!1,Events:[sl,mo,Fu,hw,pw,Fm]},Mi={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S2={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xw(e),e===null?null:e.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||w2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Ou=Gl.inject(S2),Rn=Gl}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_2;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gm(t))throw Error(Y(200));return x2(e,t,null,n)};Ft.createRoot=function(e,t){if(!Gm(e))throw Error(Y(299));var n=!1,r="",s=Qb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hm(e,1,!1,null,null,n,!1,r,s),e[or]=t.current,xa(e.nodeType===8?e.parentNode:e),new Wm(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=xw(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return Is(e)};Ft.hydrate=function(e,t,n){if(!qu(t))throw Error(Y(200));return Yu(null,e,t,!0,n)};Ft.hydrateRoot=function(e,t,n){if(!Gm(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Qb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Xb(t,null,e,1,n??null,s,!1,o,i),e[or]=t.current,xa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ku(t)};Ft.render=function(e,t,n){if(!qu(t))throw Error(Y(200));return Yu(null,e,t,!1,n)};Ft.unmountComponentAtNode=function(e){if(!qu(e))throw Error(Y(40));return e._reactRootContainer?(Is(function(){Yu(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};Ft.unstable_batchedUpdates=Fm;Ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qu(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Yu(e,t,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function Jb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jb)}catch(e){console.error(e)}}Jb(),Jx.exports=Ft;var Gs=Jx.exports;const Zb=Qp(Gs);var e1,vv=Gs;e1=vv.createRoot,vv.hydrateRoot;const k2=1,E2=1e6;let Pf=0;function C2(){return Pf=(Pf+1)%Number.MAX_SAFE_INTEGER,Pf.toString()}const Tf=new Map,yv=e=>{if(Tf.has(e))return;const t=setTimeout(()=>{Tf.delete(e),oa({type:"REMOVE_TOAST",toastId:e})},E2);Tf.set(e,t)},N2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,k2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?yv(n):e.toasts.forEach(r=>{yv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Tc=[];let Rc={toasts:[]};function oa(e){Rc=N2(Rc,e),Tc.forEach(t=>{t(Rc)})}function j2({...e}){const t=C2(),n=s=>oa({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>oa({type:"DISMISS_TOAST",toastId:t});return oa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function P2(){const[e,t]=m.useState(Rc);return m.useEffect(()=>(Tc.push(t),()=>{const n=Tc.indexOf(t);n>-1&&Tc.splice(n,1)}),[e]),{...e,toast:j2,dismiss:n=>oa({type:"DISMISS_TOAST",toastId:n})}}function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function xv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xu(...e){return t=>{let n=!1;const r=e.map(s=>{const o=xv(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():xv(e[s],null)}}}}function we(...e){return m.useCallback(Xu(...e),e)}function T2(e,t){const n=m.createContext(t),r=o=>{const{children:i,...a}=o,l=m.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function fr(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];const c=f=>{var y;const{scope:p,children:h,...b}=f,g=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,w=m.useMemo(()=>b,Object.values(b));return u.jsx(g.Provider,{value:w,children:h})};c.displayName=o+"Provider";function d(f,p){var g;const h=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=m.useContext(h);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,R2(s,...t)]}function R2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Os(e){const t=M2(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,a=m.Children.toArray(o),l=a.find(O2);if(l){const c=l.props.children,d=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...i,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var A2=Os("Slot");function M2(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=$2(s),a=D2(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Xu(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var t1=Symbol("radix.slottable");function I2(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=t1,t}function O2(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===t1}function D2(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function $2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qu(e){const t=e+"CollectionProvider",[n,r]=fr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:y}=g,x=X.useRef(null),v=X.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:v,collectionRef:x,children:y})};i.displayName=t;const a=e+"CollectionSlot",l=Os(a),c=X.forwardRef((g,w)=>{const{scope:y,children:x}=g,v=o(a,y),_=we(w,v.collectionRef);return u.jsx(l,{ref:_,children:x})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=Os(d),h=X.forwardRef((g,w)=>{const{scope:y,children:x,...v}=g,_=X.useRef(null),S=we(w,_),N=o(d,y);return X.useEffect(()=>(N.itemMap.set(_,{ref:_,...v}),()=>void N.itemMap.delete(_))),u.jsx(p,{[f]:"",ref:S,children:x})});h.displayName=d;function b(g){const w=o(e+"CollectionConsumer",g);return X.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,C)=>v.indexOf(N.ref.current)-v.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},b,r]}var L2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=L2.reduce((e,t)=>{const n=Os(`Primitive.${t}`),r=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Km(e,t){e&&Gs.flushSync(()=>e.dispatchEvent(t))}function kt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function F2(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var z2="DismissableLayer",tp="dismissableLayer.update",U2="dismissableLayer.pointerDownOutside",B2="dismissableLayer.focusOutside",wv,n1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pi=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=m.useContext(n1),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),b=we(t,C=>f(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),x=d?g.indexOf(d):-1,v=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,S=V2(C=>{const P=C.target,I=[...c.branches].some(O=>O.contains(P));!_||I||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},p),N=W2(C=>{const P=C.target;[...c.branches].some(O=>O.contains(P))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},p);return F2(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(wv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),bv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wv)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),bv())},[d,c]),m.useEffect(()=>{const C=()=>h({});return document.addEventListener(tp,C),()=>document.removeEventListener(tp,C)},[]),u.jsx(le.div,{...l,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,S.onPointerDownCapture)})});pi.displayName=z2;var H2="DismissableLayerBranch",r1=m.forwardRef((e,t)=>{const n=m.useContext(n1),r=m.useRef(null),s=we(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(le.div,{...e,ref:s})});r1.displayName=H2;function V2(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){s1(U2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function W2(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&s1(B2,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bv(){const e=new CustomEvent(tp);document.dispatchEvent(e)}function s1(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Km(s,o):s.dispatchEvent(o)}var G2=pi,K2=r1,Ze=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},q2="Portal",il=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=m.useState(!1);Ze(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Zb.createPortal(u.jsx(le.div,{...r,ref:t}),i):null});il.displayName=q2;function Y2(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Ln=e=>{const{present:t,children:n}=e,r=X2(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=we(r.ref,Q2(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};Ln.displayName="Presence";function X2(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[a,l]=Y2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Kl(r.current);o.current=a==="mounted"?c:"none"},[a]),Ze(()=>{const c=r.current,d=s.current;if(d!==e){const p=o.current,h=Kl(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Ze(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=h=>{const g=Kl(r.current).includes(h.animationName);if(h.target===t&&g&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=h=>{h.target===t&&(o.current=Kl(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Kl(e){return(e==null?void 0:e.animationName)||"none"}function Q2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var J2=nm[" useInsertionEffect ".trim().toString()]||Ze;function Ds({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Z2({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=m.useCallback(d=>{var f;if(a){const p=eT(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,e,o,i]);return[l,c]}function Z2({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),o=m.useRef(t);return J2(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function eT(e){return typeof e=="function"}var o1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tT="VisuallyHidden",Ju=m.forwardRef((e,t)=>u.jsx(le.span,{...e,ref:t,style:{...o1,...e.style}}));Ju.displayName=tT;var nT=Ju,qm="ToastProvider",[Ym,rT,sT]=Qu("Toast"),[i1,CH]=fr("Toast",[sT]),[oT,Zu]=i1(qm),a1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qm}\`. Expected non-empty \`string\`.`),u.jsx(Ym.Provider,{scope:t,children:u.jsx(oT,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(h=>h+1),[]),onToastRemove:m.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};a1.displayName=qm;var l1="ToastViewport",iT=["F8"],np="toast.viewportPause",rp="toast.viewportResume",c1=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=iT,label:s="Notifications ({hotkey})",...o}=e,i=Zu(l1,n),a=rT(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=we(t,f,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;m.useEffect(()=>{const w=y=>{var v;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),m.useEffect(()=>{const w=l.current,y=f.current;if(b&&w&&y){const x=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(np);y.dispatchEvent(N),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(rp);y.dispatchEvent(N),i.isClosePausedRef.current=!1}},_=N=>{!w.contains(N.relatedTarget)&&v()},S=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",x),w.addEventListener("focusout",_),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[b,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const x=a().map(v=>{const _=v.ref.current,S=[_,...xT(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?x.reverse():x).flat()},[a]);return m.useEffect(()=>{const w=f.current;if(w){const y=x=>{var S,N,C;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const P=document.activeElement,I=x.shiftKey;if(x.target===w&&I){(S=c.current)==null||S.focus();return}const A=g({tabbingDirection:I?"backwards":"forwards"}),$=A.findIndex(k=>k===P);Rf(A.slice($+1))?x.preventDefault():I?(N=c.current)==null||N.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,g]),u.jsxs(K2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(sp,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Rf(w)}}),u.jsx(Ym.Slot,{scope:n,children:u.jsx(le.ol,{tabIndex:-1,...o,ref:p})}),b&&u.jsx(sp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Rf(w)}})]})});c1.displayName=l1;var u1="ToastFocusProxy",sp=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Zu(u1,n);return u.jsx(Ju,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});sp.displayName=u1;var al="Toast",aT="toast.swipeStart",lT="toast.swipeMove",cT="toast.swipeCancel",uT="toast.swipeEnd",d1=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=Ds({prop:r,defaultProp:s??!0,onChange:o,caller:al});return u.jsx(Ln,{present:n||a,children:u.jsx(hT,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:kt(e.onPause),onResume:kt(e.onResume),onSwipeStart:Z(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Z(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});d1.displayName=al;var[dT,fT]=i1(al,{onClose(){}}),hT=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...b}=e,g=Zu(al,n),[w,y]=m.useState(null),x=we(t,k=>y(k)),v=m.useRef(null),_=m.useRef(null),S=s||g.duration,N=m.useRef(0),C=m.useRef(S),P=m.useRef(0),{onToastAdd:I,onToastRemove:O}=g,L=kt(()=>{var T;(w==null?void 0:w.contains(document.activeElement))&&((T=g.viewport)==null||T.focus()),i()}),A=m.useCallback(k=>{!k||k===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(L,k))},[L]);m.useEffect(()=>{const k=g.viewport;if(k){const T=()=>{A(C.current),c==null||c()},j=()=>{const M=new Date().getTime()-N.current;C.current=C.current-M,window.clearTimeout(P.current),l==null||l()};return k.addEventListener(np,j),k.addEventListener(rp,T),()=>{k.removeEventListener(np,j),k.removeEventListener(rp,T)}}},[g.viewport,S,l,c,A]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&A(S)},[o,S,g.isClosePausedRef,A]),m.useEffect(()=>(I(),()=>O()),[I,O]);const $=m.useMemo(()=>w?y1(w):null,[w]);return g.viewport?u.jsxs(u.Fragment,{children:[$&&u.jsx(pT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),u.jsx(dT,{scope:n,onClose:L,children:Gs.createPortal(u.jsx(Ym.ItemSlot,{scope:n,children:u.jsx(G2,{asChild:!0,onEscapeKeyDown:Z(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Z(e.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Z(e.onPointerDown,k=>{k.button===0&&(v.current={x:k.clientX,y:k.clientY})}),onPointerMove:Z(e.onPointerMove,k=>{if(!v.current)return;const T=k.clientX-v.current.x,j=k.clientY-v.current.y,M=!!_.current,R=["left","right"].includes(g.swipeDirection),E=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=R?E(0,T):0,F=R?0:E(0,j),z=k.pointerType==="touch"?10:2,V={x:D,y:F},B={originalEvent:k,delta:V};M?(_.current=V,ql(lT,f,B,{discrete:!1})):_v(V,g.swipeDirection,z)?(_.current=V,ql(aT,d,B,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(T)>z||Math.abs(j)>z)&&(v.current=null)}),onPointerUp:Z(e.onPointerUp,k=>{const T=_.current,j=k.target;if(j.hasPointerCapture(k.pointerId)&&j.releasePointerCapture(k.pointerId),_.current=null,v.current=null,T){const M=k.currentTarget,R={originalEvent:k,delta:T};_v(T,g.swipeDirection,g.swipeThreshold)?ql(uT,h,R,{discrete:!0}):ql(cT,p,R,{discrete:!0}),M.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),pT=e=>{const{__scopeToast:t,children:n,...r}=e,s=Zu(al,t),[o,i]=m.useState(!1),[a,l]=m.useState(!1);return vT(()=>i(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(il,{asChild:!0,children:u.jsx(Ju,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},mT="ToastTitle",f1=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(le.div,{...r,ref:t})});f1.displayName=mT;var gT="ToastDescription",h1=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(le.div,{...r,ref:t})});h1.displayName=gT;var p1="ToastAction",m1=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(v1,{altText:n,asChild:!0,children:u.jsx(Xm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${p1}\`. Expected non-empty \`string\`.`),null)});m1.displayName=p1;var g1="ToastClose",Xm=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=fT(g1,n);return u.jsx(v1,{asChild:!0,children:u.jsx(le.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,s.onClose)})})});Xm.displayName=g1;var v1=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function y1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),yT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...y1(r))}}),t}function ql(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Km(s,o):s.dispatchEvent(o)}var _v=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function vT(e=()=>{}){const t=kt(e);Ze(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function yT(e){return e.nodeType===e.ELEMENT_NODE}function xT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Rf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var wT=a1,x1=c1,w1=d1,b1=f1,_1=h1,S1=m1,k1=Xm;function E1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=E1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function C1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=E1(e))&&(r&&(r+=" "),r+=t);return r}const Sv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kv=C1,ll=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const p=Sv(d)||Sv(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...o,...a}[g]):{...o,...a}[g]===w})?[...c,f,p]:c},[]);return kv(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,..._T,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:N1("lucide",s),...a},[...i.map(([c,d])=>m.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(ST,{ref:o,iconNode:t,className:N1(`lucide-${bT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ve("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ve("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ve("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ve("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ve("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ve("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ve("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ve("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ve("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ve("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eg="-",FT=e=>{const t=UT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(eg);return a[0]===""&&a.length!==1&&a.shift(),O1(a,t)||zT(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},O1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?O1(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(eg);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Cv=/^\[(.+)\]$/,zT=e=>{if(Cv.test(e)){const t=Cv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return HT(Object.entries(e.classGroups),n).forEach(([o,i])=>{ap(i,r,o,t)}),r},ap=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Nv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(BT(s)){ap(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{ap(i,Nv(t,o),n,r)})})},Nv=(e,t)=>{let n=e;return t.split(eg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BT=e=>e.isThemeGetter,HT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,VT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},D1="!",WT=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===s&&(r||a.slice(w,w+o)===t)){l.push(a.slice(d,w)),d=w+o;continue}if(y==="/"){f=w;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?a:a.substring(d),h=p.startsWith(D1),b=h?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:i}):i},GT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},KT=e=>({cache:VT(e.cacheSize),parseClassName:WT(e),...FT(e)}),qT=/\s+/,YT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(qT);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(c);let b=!!h,g=r(b?p.substring(0,h):p);if(!g){if(!b){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}b=!1}const w=GT(d).join(":"),y=f?w+D1:w,x=y+g;if(o.includes(x))continue;o.push(x);const v=s(g,b);for(let _=0;_<v.length;++_){const S=v[_];o.push(y+S)}a=c+(a.length>0?" "+a:a)}return a};function XT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=$1(t))&&(r&&(r+=" "),r+=n);return r}const $1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$1(e[r]))&&(n&&(n+=" "),n+=t);return n};function QT(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((d,f)=>f(d),e());return n=KT(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=YT(l,n);return s(l,d),d}return function(){return o(XT.apply(null,arguments))}}const je=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},L1=/^\[(?:([a-z-]+):)?(.+)\]$/i,JT=/^\d+\/\d+$/,ZT=new Set(["px","full","screen"]),eR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vn=e=>To(e)||ZT.has(e)||JT.test(e),wr=e=>mi(e,"length",fR),To=e=>!!e&&!Number.isNaN(Number(e)),Mf=e=>mi(e,"number",To),Ii=e=>!!e&&Number.isInteger(Number(e)),oR=e=>e.endsWith("%")&&To(e.slice(0,-1)),ce=e=>L1.test(e),br=e=>eR.test(e),iR=new Set(["length","size","percentage"]),aR=e=>mi(e,iR,F1),lR=e=>mi(e,"position",F1),cR=new Set(["image","url"]),uR=e=>mi(e,cR,pR),dR=e=>mi(e,"",hR),Oi=()=>!0,mi=(e,t,n)=>{const r=L1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},fR=e=>tR.test(e)&&!nR.test(e),F1=()=>!1,hR=e=>rR.test(e),pR=e=>sR.test(e),mR=()=>{const e=je("colors"),t=je("spacing"),n=je("blur"),r=je("brightness"),s=je("borderColor"),o=je("borderRadius"),i=je("borderSpacing"),a=je("borderWidth"),l=je("contrast"),c=je("grayscale"),d=je("hueRotate"),f=je("invert"),p=je("gap"),h=je("gradientColorStops"),b=je("gradientColorStopPositions"),g=je("inset"),w=je("margin"),y=je("opacity"),x=je("padding"),v=je("saturate"),_=je("scale"),S=je("sepia"),N=je("skew"),C=je("space"),P=je("translate"),I=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ce,t],A=()=>[ce,t],$=()=>["",Vn,wr],k=()=>["auto",To,ce],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",ce],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[To,ce];return{cacheSize:500,separator:":",theme:{colors:[Oi],spacing:[Vn,wr],blur:["none","",br,ce],brightness:F(),borderColor:[e],borderRadius:["none","","full",br,ce],borderSpacing:A(),borderWidth:$(),contrast:F(),grayscale:E(),hueRotate:F(),invert:E(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[oR,wr],inset:L(),margin:L(),opacity:F(),padding:A(),saturate:F(),scale:F(),sepia:E(),skew:F(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[br]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),ce]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,ce]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ii,ce]}],"grid-cols":[{"grid-cols":[Oi]}],"col-start-end":[{col:["auto",{span:["full",Ii,ce]},ce]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Oi]}],"row-start-end":[{row:["auto",{span:[Ii,ce]},ce]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[br]},br]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",br,wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mf]}],"font-family":[{font:[Oi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",To,Mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vn,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vn,wr]}],"underline-offset":[{"underline-offset":["auto",Vn,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),lR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Vn,ce]}],"outline-w":[{outline:[Vn,wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Vn,wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",br,dR]}],"shadow-color":[{shadow:[Oi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",br,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ii,ce]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vn,wr,Mf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gR=QT(mR);function oe(...e){return gR(C1(e))}const vR=wT,z1=m.forwardRef(({className:e,...t},n)=>u.jsx(x1,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));z1.displayName=x1.displayName;const yR=ll("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),U1=m.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(w1,{ref:r,className:oe(yR({variant:t}),e),...n}));U1.displayName=w1.displayName;const xR=m.forwardRef(({className:e,...t},n)=>u.jsx(S1,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));xR.displayName=S1.displayName;const B1=m.forwardRef(({className:e,...t},n)=>u.jsx(k1,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(cl,{className:"h-4 w-4"})}));B1.displayName=k1.displayName;const H1=m.forwardRef(({className:e,...t},n)=>u.jsx(b1,{ref:n,className:oe("text-sm font-semibold",e),...t}));H1.displayName=b1.displayName;const V1=m.forwardRef(({className:e,...t},n)=>u.jsx(_1,{ref:n,className:oe("text-sm opacity-90",e),...t}));V1.displayName=_1.displayName;function wR(){const{toasts:e}=P2();return u.jsxs(vR,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return u.jsxs(U1,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(H1,{children:n}),r&&u.jsx(V1,{children:r})]}),s,u.jsx(B1,{})]},t)}),u.jsx(z1,{})]})}var du=["light","dark"],tg="(prefers-color-scheme: dark)",bR=typeof window>"u",ng=m.createContext(void 0),_R={setTheme:e=>{},themes:[]},W1=()=>{var e;return(e=m.useContext(ng))!=null?e:_R},SR=e=>m.useContext(ng)?e.children:m.createElement(ER,{...e}),kR=["light","dark"],ER=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=kR,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d})=>{let[f,p]=m.useState(()=>jv(s,i)),[h,b]=m.useState(()=>jv(s)),g=l?Object.values(l):o,w=m.useCallback(_=>{let S=_;if(!S)return;_==="system"&&n&&(S=Pv());let N=l?l[S]:S,C=t?NR():null,P=document.documentElement;if(a==="class"?(P.classList.remove(...g),N&&P.classList.add(N)):N?P.setAttribute(a,N):P.removeAttribute(a),r){let I=du.includes(i)?i:null,O=du.includes(S)?S:I;P.style.colorScheme=O}C==null||C()},[]),y=m.useCallback(_=>{let S=typeof _=="function"?_(_):_;p(S);try{localStorage.setItem(s,S)}catch{}},[e]),x=m.useCallback(_=>{let S=Pv(_);b(S),f==="system"&&n&&!e&&w("system")},[f,e]);m.useEffect(()=>{let _=window.matchMedia(tg);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),m.useEffect(()=>{let _=S=>{if(S.key!==s)return;let N=S.newValue||i;y(N)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),m.useEffect(()=>{w(e??f)},[e,f]);let v=m.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:n?[...o,"system"]:o,systemTheme:n?h:void 0}),[f,y,e,h,n,o]);return m.createElement(ng.Provider,{value:v},m.createElement(CR,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:l,children:c,attrs:g,nonce:d}),c)},CR=m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?du.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,w=!0)=>{let y=i?i[b]:b,x=g?b+"|| ''":`'${y}'`,v="";return s&&w&&!g&&du.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),n==="class"?g||y?v+=`c.add(${x})`:v+="null":y&&(v+=`d[s](n,${x})`),v},h=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${tg}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})}),jv=(e,t)=>{if(bR)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},NR=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Pv=e=>(e||(e=window.matchMedia(tg)),e.matches?"dark":"light"),jR=e=>{switch(e){case"success":return RR;case"info":return MR;case"warning":return AR;case"error":return IR;default:return null}},PR=Array(12).fill(0),TR=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},PR.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),RR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OR=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DR=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},lp=1,$R=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:lp++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],X.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(FR(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:c,description:d})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||lp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gt=new $R,LR=(e,t)=>{let n=(t==null?void 0:t.id)||lp++;return gt.addToast({title:e,...t,id:n}),n},FR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zR=LR,UR=()=>gt.toasts,BR=()=>gt.getActiveToasts(),rt=Object.assign(zR,{success:gt.success,info:gt.info,warning:gt.warning,error:gt.error,custom:gt.custom,message:gt.message,promise:gt.promise,dismiss:gt.dismiss,loading:gt.loading},{getHistory:UR,getToasts:BR});function HR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}HR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yl(e){return e.label!==void 0}var VR=3,WR="32px",GR="16px",Tv=4e3,KR=356,qR=14,YR=20,XR=200;function Zt(...e){return e.filter(Boolean).join(" ")}function QR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var JR=e=>{var t,n,r,s,o,i,a,l,c,d,f;let{invert:p,toast:h,unstyled:b,interacting:g,setHeights:w,visibleToasts:y,heights:x,index:v,toasts:_,expanded:S,removeToast:N,defaultRichColors:C,closeButton:P,style:I,cancelButtonStyle:O,actionButtonStyle:L,className:A="",descriptionClassName:$="",duration:k,position:T,gap:j,loadingIcon:M,expandByDefault:R,classNames:E,icons:D,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:z}=e,[V,B]=X.useState(null),[K,q]=X.useState(null),[U,W]=X.useState(!1),[J,ee]=X.useState(!1),[Q,H]=X.useState(!1),[re,se]=X.useState(!1),[ye,he]=X.useState(!1),[pt,Un]=X.useState(0),[xn,pr]=X.useState(0),Bn=X.useRef(h.duration||k||Tv),mr=X.useRef(null),Et=X.useRef(null),_i=v===0,gr=v+1<=y,He=h.type,Qt=h.dismissible!==!1,Yd=h.className||"",Si=h.descriptionClassName||"",Zs=X.useMemo(()=>x.findIndex(ie=>ie.toastId===h.id)||0,[x,h.id]),Xd=X.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:P},[h.closeButton,P]),Sl=X.useMemo(()=>h.duration||k||Tv,[h.duration,k]),ki=X.useRef(0),vr=X.useRef(0),kl=X.useRef(0),yr=X.useRef(null),[Qd,Jd]=T.split("-"),El=X.useMemo(()=>x.reduce((ie,be,ke)=>ke>=Zs?ie:ie+be.height,0),[x,Zs]),Cl=DR(),Zd=h.invert||p,Ei=He==="loading";vr.current=X.useMemo(()=>Zs*j+El,[Zs,El]),X.useEffect(()=>{Bn.current=Sl},[Sl]),X.useEffect(()=>{W(!0)},[]),X.useEffect(()=>{let ie=Et.current;if(ie){let be=ie.getBoundingClientRect().height;return pr(be),w(ke=>[{toastId:h.id,height:be,position:h.position},...ke]),()=>w(ke=>ke.filter(Ct=>Ct.toastId!==h.id))}},[w,h.id]),X.useLayoutEffect(()=>{if(!U)return;let ie=Et.current,be=ie.style.height;ie.style.height="auto";let ke=ie.getBoundingClientRect().height;ie.style.height=be,pr(ke),w(Ct=>Ct.find(Nt=>Nt.toastId===h.id)?Ct.map(Nt=>Nt.toastId===h.id?{...Nt,height:ke}:Nt):[{toastId:h.id,height:ke,position:h.position},...Ct])},[U,h.title,h.description,w,h.id]);let wn=X.useCallback(()=>{ee(!0),Un(vr.current),w(ie=>ie.filter(be=>be.toastId!==h.id)),setTimeout(()=>{N(h)},XR)},[h,N,w,vr]);X.useEffect(()=>{if(h.promise&&He==="loading"||h.duration===1/0||h.type==="loading")return;let ie;return S||g||z&&Cl?(()=>{if(kl.current<ki.current){let be=new Date().getTime()-ki.current;Bn.current=Bn.current-be}kl.current=new Date().getTime()})():Bn.current!==1/0&&(ki.current=new Date().getTime(),ie=setTimeout(()=>{var be;(be=h.onAutoClose)==null||be.call(h,h),wn()},Bn.current)),()=>clearTimeout(ie)},[S,g,h,He,z,Cl,wn]),X.useEffect(()=>{h.delete&&wn()},[wn,h.delete]);function Nl(){var ie,be,ke;return D!=null&&D.loading?X.createElement("div",{className:Zt(E==null?void 0:E.loader,(ie=h==null?void 0:h.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":He==="loading"},D.loading):M?X.createElement("div",{className:Zt(E==null?void 0:E.loader,(be=h==null?void 0:h.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":He==="loading"},M):X.createElement(TR,{className:Zt(E==null?void 0:E.loader,(ke=h==null?void 0:h.classNames)==null?void 0:ke.loader),visible:He==="loading"})}return X.createElement("li",{tabIndex:0,ref:Et,className:Zt(A,Yd,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[He],(n=h==null?void 0:h.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":U,"data-promise":!!h.promise,"data-swiped":ye,"data-removed":J,"data-visible":gr,"data-y-position":Qd,"data-x-position":Jd,"data-index":v,"data-front":_i,"data-swiping":Q,"data-dismissible":Qt,"data-type":He,"data-invert":Zd,"data-swipe-out":re,"data-swipe-direction":K,"data-expanded":!!(S||R&&U),style:{"--index":v,"--toasts-before":v,"--z-index":_.length-v,"--offset":`${J?pt:vr.current}px`,"--initial-height":R?"auto":`${xn}px`,...I,...h.style},onDragEnd:()=>{H(!1),B(null),yr.current=null},onPointerDown:ie=>{Ei||!Qt||(mr.current=new Date,Un(vr.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(H(!0),yr.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,be,ke,Ct;if(re||!Qt)return;yr.current=null;let Nt=Number(((ie=Et.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bn=Number(((be=Et.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Hn=new Date().getTime()-((ke=mr.current)==null?void 0:ke.getTime()),jt=V==="x"?Nt:bn,_n=Math.abs(jt)/Hn;if(Math.abs(jt)>=YR||_n>.11){Un(vr.current),(Ct=h.onDismiss)==null||Ct.call(h,h),q(V==="x"?Nt>0?"right":"left":bn>0?"down":"up"),wn(),se(!0),he(!1);return}H(!1),B(null)},onPointerMove:ie=>{var be,ke,Ct,Nt;if(!yr.current||!Qt||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let bn=ie.clientY-yr.current.y,Hn=ie.clientX-yr.current.x,jt=(ke=e.swipeDirections)!=null?ke:QR(T);!V&&(Math.abs(Hn)>1||Math.abs(bn)>1)&&B(Math.abs(Hn)>Math.abs(bn)?"x":"y");let _n={x:0,y:0};V==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&bn<0||jt.includes("bottom")&&bn>0)&&(_n.y=bn):V==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&Hn<0||jt.includes("right")&&Hn>0)&&(_n.x=Hn),(Math.abs(_n.x)>0||Math.abs(_n.y)>0)&&he(!0),(Ct=Et.current)==null||Ct.style.setProperty("--swipe-amount-x",`${_n.x}px`),(Nt=Et.current)==null||Nt.style.setProperty("--swipe-amount-y",`${_n.y}px`)}},Xd&&!h.jsx?X.createElement("button",{"aria-label":F,"data-disabled":Ei,"data-close-button":!0,onClick:Ei||!Qt?()=>{}:()=>{var ie;wn(),(ie=h.onDismiss)==null||ie.call(h,h)},className:Zt(E==null?void 0:E.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(o=D==null?void 0:D.close)!=null?o:OR):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:X.createElement(X.Fragment,null,He||h.icon||h.promise?X.createElement("div",{"data-icon":"",className:Zt(E==null?void 0:E.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Nl():null,h.type!=="loading"?h.icon||(D==null?void 0:D[He])||jR(He):null):null,X.createElement("div",{"data-content":"",className:Zt(E==null?void 0:E.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},X.createElement("div",{"data-title":"",className:Zt(E==null?void 0:E.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?X.createElement("div",{"data-description":"",className:Zt($,Si,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&Yl(h.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ie=>{var be,ke;Yl(h.cancel)&&Qt&&((ke=(be=h.cancel).onClick)==null||ke.call(be,ie),wn())},className:Zt(E==null?void 0:E.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&Yl(h.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:ie=>{var be,ke;Yl(h.action)&&((ke=(be=h.action).onClick)==null||ke.call(be,ie),!ie.defaultPrevented&&wn())},className:Zt(E==null?void 0:E.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Rv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ZR(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?GR:WR;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${i}-${c}`]=a:n[`${i}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var eA=m.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:b=VR,toastOptions:g,dir:w=Rv(),gap:y=qR,loadingIcon:x,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[N,C]=X.useState([]),P=X.useMemo(()=>Array.from(new Set([r].concat(N.filter(z=>z.position).map(z=>z.position)))),[N,r]),[I,O]=X.useState([]),[L,A]=X.useState(!1),[$,k]=X.useState(!1),[T,j]=X.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=X.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=X.useRef(null),D=X.useRef(!1),F=X.useCallback(z=>{C(V=>{var B;return(B=V.find(K=>K.id===z.id))!=null&&B.delete||gt.dismiss(z.id),V.filter(({id:K})=>K!==z.id)})},[]);return X.useEffect(()=>gt.subscribe(z=>{if(z.dismiss){C(V=>V.map(B=>B.id===z.id?{...B,delete:!0}:B));return}setTimeout(()=>{Zb.flushSync(()=>{C(V=>{let B=V.findIndex(K=>K.id===z.id);return B!==-1?[...V.slice(0,B),{...V[B],...z},...V.slice(B+1)]:[z,...V]})})})}),[]),X.useEffect(()=>{if(d!=="system"){j(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:V})=>{j(V?"dark":"light")})}catch{z.addListener(({matches:B})=>{try{j(B?"dark":"light")}catch(K){console.error(K)}})}},[d]),X.useEffect(()=>{N.length<=1&&A(!1)},[N]),X.useEffect(()=>{let z=V=>{var B,K;s.every(q=>V[q]||V.code===q)&&(A(!0),(B=M.current)==null||B.focus()),V.code==="Escape"&&(document.activeElement===M.current||(K=M.current)!=null&&K.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),X.useEffect(()=>{if(M.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,D.current=!1)}},[M.current]),X.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((z,V)=>{var B;let[K,q]=z.split("-");return N.length?X.createElement("ol",{key:z,dir:w==="auto"?Rv():w,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":K,"data-lifted":L&&N.length>1&&!o,"data-x-position":q,style:{"--front-toast-height":`${((B=I[0])==null?void 0:B.height)||0}px`,"--width":`${KR}px`,"--gap":`${y}px`,...h,...ZR(l,c)},onBlur:U=>{D.current&&!U.currentTarget.contains(U.relatedTarget)&&(D.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||D.current||(D.current=!0,E.current=U.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{$||A(!1)},onDragEnd:()=>A(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},N.filter(U=>!U.position&&V===0||U.position===z).map((U,W)=>{var J,ee;return X.createElement(JR,{key:U.id,icons:v,index:W,toast:U,defaultRichColors:f,duration:(J=g==null?void 0:g.duration)!=null?J:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ee=g==null?void 0:g.closeButton)!=null?ee:i,interacting:$,position:z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:F,toasts:N.filter(Q=>Q.position==U.position),heights:I.filter(Q=>Q.position==U.position),setHeights:O,expandByDefault:o,gap:y,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const tA=({...e})=>{const{theme:t="system"}=W1();return u.jsx(eA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var nA=nm[" useId ".trim().toString()]||(()=>{}),rA=0;function Mn(e){const[t,n]=m.useState(nA());return Ze(()=>{n(r=>r??String(rA++))},[e]),t?`radix-${t}`:""}const sA=["top","right","bottom","left"],ts=Math.min,At=Math.max,fu=Math.round,Xl=Math.floor,In=e=>({x:e,y:e}),oA={left:"right",right:"left",bottom:"top",top:"bottom"},iA={start:"end",end:"start"};function cp(e,t,n){return At(e,ts(t,n))}function lr(e,t){return typeof e=="function"?e(t):e}function cr(e){return e.split("-")[0]}function gi(e){return e.split("-")[1]}function rg(e){return e==="x"?"y":"x"}function sg(e){return e==="y"?"height":"width"}function tr(e){return["top","bottom"].includes(cr(e))?"y":"x"}function og(e){return rg(tr(e))}function aA(e,t,n){n===void 0&&(n=!1);const r=gi(e),s=og(e),o=sg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=hu(i)),[i,hu(i)]}function lA(e){const t=hu(e);return[up(e),t,up(t)]}function up(e){return e.replace(/start|end/g,t=>iA[t])}function cA(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function uA(e,t,n,r){const s=gi(e);let o=cA(cr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(up)))),o}function hu(e){return e.replace(/left|right|bottom|top/g,t=>oA[t])}function dA(e){return{top:0,right:0,bottom:0,left:0,...e}}function G1(e){return typeof e!="number"?dA(e):{top:e,right:e,bottom:e,left:e}}function pu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Av(e,t,n){let{reference:r,floating:s}=e;const o=tr(t),i=og(t),a=sg(i),l=cr(t),c=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(gi(t)){case"start":h[i]-=p*(n&&c?-1:1);break;case"end":h[i]+=p*(n&&c?-1:1);break}return h}const fA=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Av(c,r,l),p=r,h={},b=0;for(let g=0;g<a.length;g++){const{name:w,fn:y}=a[g],{x,y:v,data:_,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=x??d,f=v??f,h={...h,[w]:{...h[w],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Av(c,p,l)),g=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:h}};async function ja(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=lr(t,e),b=G1(h),w=a[p?f==="floating"?"reference":"floating":f],y=pu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},S=pu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:v,strategy:l}):x);return{top:(y.top-S.top+b.top)/_.y,bottom:(S.bottom-y.bottom+b.bottom)/_.y,left:(y.left-S.left+b.left)/_.x,right:(S.right-y.right+b.right)/_.x}}const hA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=lr(e,t)||{};if(c==null)return{};const f=G1(d),p={x:n,y:r},h=og(s),b=sg(h),g=await i.getDimensions(c),w=h==="y",y=w?"top":"left",x=w?"bottom":"right",v=w?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[h]-p[h]-o.floating[b],S=p[h]-o.reference[h],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=N?N[v]:0;(!C||!await(i.isElement==null?void 0:i.isElement(N)))&&(C=a.floating[v]||o.floating[b]);const P=_/2-S/2,I=C/2-g[b]/2-1,O=ts(f[y],I),L=ts(f[x],I),A=O,$=C-g[b]-L,k=C/2-g[b]/2+P,T=cp(A,k,$),j=!l.arrow&&gi(s)!=null&&k!==T&&o.reference[b]/2-(k<A?O:L)-g[b]/2<0,M=j?k<A?k-A:k-$:0;return{[h]:p[h]+M,data:{[h]:T,centerOffset:k-T-M,...j&&{alignmentOffset:M}},reset:j}}}),pA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=lr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=cr(s),x=tr(a),v=cr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(v||!g?[hu(a)]:lA(a)),N=b!=="none";!p&&N&&S.push(...uA(a,g,b,_));const C=[a,...S],P=await ja(t,w),I=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(P[y]),f){const T=aA(s,i,_);I.push(P[T[0]],P[T[1]])}if(O=[...O,{placement:s,overflows:I}],!I.every(T=>T<=0)){var L,A;const T=(((L=o.flip)==null?void 0:L.index)||0)+1,j=C[T];if(j){var $;const R=f==="alignment"?x!==tr(j):!1,E=(($=O[0])==null?void 0:$.overflows[0])>0;if(!R||E)return{data:{index:T,overflows:O},reset:{placement:j}}}let M=(A=O.filter(R=>R.overflows[0]<=0).sort((R,E)=>R.overflows[1]-E.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(h){case"bestFit":{var k;const R=(k=O.filter(E=>{if(N){const D=tr(E.placement);return D===x||D==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(D=>D>0).reduce((D,F)=>D+F,0)]).sort((E,D)=>E[1]-D[1])[0])==null?void 0:k[0];R&&(M=R);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Mv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Iv(e){return sA.some(t=>e[t]>=0)}const mA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=lr(e,t);switch(r){case"referenceHidden":{const o=await ja(t,{...s,elementContext:"reference"}),i=Mv(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Iv(i)}}}case"escaped":{const o=await ja(t,{...s,altBoundary:!0}),i=Mv(o,n.floating);return{data:{escapedOffsets:i,escaped:Iv(i)}}}default:return{}}}}};async function gA(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=cr(n),a=gi(n),l=tr(n)==="y",c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,f=lr(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(h=a==="end"?b*-1:b),l?{x:h*d,y:p*c}:{x:p*c,y:h*d}}const vA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await gA(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},yA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...l}=lr(e,t),c={x:n,y:r},d=await ja(t,l),f=tr(cr(s)),p=rg(f);let h=c[p],b=c[f];if(o){const w=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=h+d[w],v=h-d[y];h=cp(x,h,v)}if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=b+d[w],v=b-d[y];b=cp(x,b,v)}const g=a.fn({...t,[p]:h,[f]:b});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:o,[f]:i}}}}}},xA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=lr(e,t),d={x:n,y:r},f=tr(s),p=rg(f);let h=d[p],b=d[f];const g=lr(a,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const v=p==="y"?"height":"width",_=o.reference[p]-o.floating[v]+w.mainAxis,S=o.reference[p]+o.reference[v]-w.mainAxis;h<_?h=_:h>S&&(h=S)}if(c){var y,x;const v=p==="y"?"width":"height",_=["top","left"].includes(cr(s)),S=o.reference[f]-o.floating[v]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:w.crossAxis),N=o.reference[f]+o.reference[v]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?w.crossAxis:0);b<S?b=S:b>N&&(b=N)}return{[p]:h,[f]:b}}}},wA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=lr(e,t),d=await ja(t,c),f=cr(s),p=gi(s),h=tr(s)==="y",{width:b,height:g}=o.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=p==="end"?"top":"bottom");const x=g-d.top-d.bottom,v=b-d.left-d.right,_=ts(g-d[w],x),S=ts(b-d[y],v),N=!t.middlewareData.shift;let C=_,P=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=x),N&&!p){const O=At(d.left,0),L=At(d.right,0),A=At(d.top,0),$=At(d.bottom,0);h?P=b-2*(O!==0||L!==0?O+L:At(d.left,d.right)):C=g-2*(A!==0||$!==0?A+$:At(d.top,d.bottom))}await l({...t,availableWidth:P,availableHeight:C});const I=await i.getDimensions(a.floating);return b!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function ed(){return typeof window<"u"}function vi(e){return K1(e)?(e.nodeName||"").toLowerCase():"#document"}function Dt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fn(e){var t;return(t=(K1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function K1(e){return ed()?e instanceof Node||e instanceof Dt(e).Node:!1}function mn(e){return ed()?e instanceof Element||e instanceof Dt(e).Element:!1}function Dn(e){return ed()?e instanceof HTMLElement||e instanceof Dt(e).HTMLElement:!1}function Ov(e){return!ed()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dt(e).ShadowRoot}function ul(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function bA(e){return["table","td","th"].includes(vi(e))}function td(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ig(e){const t=ag(),n=mn(e)?gn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _A(e){let t=ns(e);for(;Dn(t)&&!Zo(t);){if(ig(t))return t;if(td(t))return null;t=ns(t)}return null}function ag(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zo(e){return["html","body","#document"].includes(vi(e))}function gn(e){return Dt(e).getComputedStyle(e)}function nd(e){return mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ns(e){if(vi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ov(e)&&e.host||Fn(e);return Ov(t)?t.host:t}function q1(e){const t=ns(e);return Zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dn(t)&&ul(t)?t:q1(t)}function Pa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=q1(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Dt(s);if(o){const a=dp(i);return t.concat(i,i.visualViewport||[],ul(s)?s:[],a&&n?Pa(a):[])}return t.concat(s,Pa(s,[],n))}function dp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Y1(e){const t=gn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Dn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=fu(n)!==o||fu(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function lg(e){return mn(e)?e:e.contextElement}function Ro(e){const t=lg(e);if(!Dn(t))return In(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Y1(t);let i=(o?fu(n.width):n.width)/r,a=(o?fu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const SA=In(0);function X1(e){const t=Dt(e);return!ag()||!t.visualViewport?SA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Dt(e)?!1:t}function Ls(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=lg(e);let i=In(1);t&&(r?mn(r)&&(i=Ro(r)):i=Ro(e));const a=kA(o,n,r)?X1(o):In(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Dt(o),h=r&&mn(r)?Dt(r):r;let b=p,g=dp(b);for(;g&&r&&h!==b;){const w=Ro(g),y=g.getBoundingClientRect(),x=gn(g),v=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,_=y.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=v,c+=_,b=Dt(g),g=dp(b)}}return pu({width:d,height:f,x:l,y:c})}function cg(e,t){const n=nd(e).scrollLeft;return t?t.left+n:Ls(Fn(e)).left+n}function Q1(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:cg(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function EA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Fn(r),a=t?td(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=In(1);const d=In(0),f=Dn(r);if((f||!f&&!o)&&((vi(r)!=="body"||ul(i))&&(l=nd(r)),Dn(r))){const h=Ls(r);c=Ro(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=i&&!f&&!o?Q1(i,l,!0):In(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function CA(e){return Array.from(e.getClientRects())}function NA(e){const t=Fn(e),n=nd(e),r=e.ownerDocument.body,s=At(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=At(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+cg(e);const a=-n.scrollTop;return gn(r).direction==="rtl"&&(i+=At(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function jA(e,t){const n=Dt(e),r=Fn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=ag();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function PA(e,t){const n=Ls(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Dn(e)?Ro(e):In(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function Dv(e,t,n){let r;if(t==="viewport")r=jA(e,n);else if(t==="document")r=NA(Fn(e));else if(mn(t))r=PA(t,n);else{const s=X1(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pu(r)}function J1(e,t){const n=ns(e);return n===t||!mn(n)||Zo(n)?!1:gn(n).position==="fixed"||J1(n,t)}function TA(e,t){const n=t.get(e);if(n)return n;let r=Pa(e,[],!1).filter(a=>mn(a)&&vi(a)!=="body"),s=null;const o=gn(e).position==="fixed";let i=o?ns(e):e;for(;mn(i)&&!Zo(i);){const a=gn(i),l=ig(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ul(i)&&!l&&J1(e,i))?r=r.filter(d=>d!==i):s=a,i=ns(i)}return t.set(e,r),r}function RA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?td(t)?[]:TA(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const f=Dv(t,d,s);return c.top=At(f.top,c.top),c.right=ts(f.right,c.right),c.bottom=ts(f.bottom,c.bottom),c.left=At(f.left,c.left),c},Dv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function AA(e){const{width:t,height:n}=Y1(e);return{width:t,height:n}}function MA(e,t,n){const r=Dn(t),s=Fn(t),o=n==="fixed",i=Ls(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=In(0);function c(){l.x=cg(s)}if(r||!r&&!o)if((vi(t)!=="body"||ul(s))&&(a=nd(t)),r){const h=Ls(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&c();o&&!r&&s&&c();const d=s&&!r&&!o?Q1(s,a):In(0),f=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function If(e){return gn(e).position==="static"}function $v(e,t){if(!Dn(e)||gn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fn(e)===n&&(n=n.ownerDocument.body),n}function Z1(e,t){const n=Dt(e);if(td(e))return n;if(!Dn(e)){let s=ns(e);for(;s&&!Zo(s);){if(mn(s)&&!If(s))return s;s=ns(s)}return n}let r=$v(e,t);for(;r&&bA(r)&&If(r);)r=$v(r,t);return r&&Zo(r)&&If(r)&&!ig(r)?n:r||_A(e)||n}const IA=async function(e){const t=this.getOffsetParent||Z1,n=this.getDimensions,r=await n(e.floating);return{reference:MA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OA(e){return gn(e).direction==="rtl"}const DA={convertOffsetParentRelativeRectToViewportRelativeRect:EA,getDocumentElement:Fn,getClippingRect:RA,getOffsetParent:Z1,getElementRects:IA,getClientRects:CA,getDimensions:AA,getScale:Ro,isElement:mn,isRTL:OA};function e_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $A(e,t){let n=null,r;const s=Fn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=c;if(a||t(),!p||!h)return;const b=Xl(f),g=Xl(s.clientWidth-(d+p)),w=Xl(s.clientHeight-(f+h)),y=Xl(d),v={rootMargin:-b+"px "+-g+"px "+-w+"px "+-y+"px",threshold:At(0,ts(1,l))||1};let _=!0;function S(N){const C=N[0].intersectionRatio;if(C!==l){if(!_)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!e_(c,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(S,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return i(!0),o}function LA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=lg(e),d=s||o?[...c?Pa(c):[],...Pa(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&a?$A(c,n):null;let p=-1,h=null;i&&(h=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let b,g=l?Ls(e):null;l&&w();function w(){const y=Ls(e);g&&!e_(g,y)&&n(),g=y,b=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(b)}}const FA=vA,zA=yA,UA=pA,BA=wA,HA=mA,Lv=hA,VA=xA,WA=(e,t,n)=>{const r=new Map,s={platform:DA,...n},o={...s.platform,_c:r};return fA(e,t,{...s,platform:o})};var Ac=typeof document<"u"?m.useLayoutEffect:m.useEffect;function mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!mu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function t_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fv(e,t){const n=t_(e);return Math.round(t*n)/n}function Of(e){const t=m.useRef(e);return Ac(()=>{t.current=e}),t}function GA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=m.useState(r);mu(p,r)||h(r);const[b,g]=m.useState(null),[w,y]=m.useState(null),x=m.useCallback(R=>{R!==N.current&&(N.current=R,g(R))},[]),v=m.useCallback(R=>{R!==C.current&&(C.current=R,y(R))},[]),_=o||b,S=i||w,N=m.useRef(null),C=m.useRef(null),P=m.useRef(d),I=l!=null,O=Of(l),L=Of(s),A=Of(c),$=m.useCallback(()=>{if(!N.current||!C.current)return;const R={placement:t,strategy:n,middleware:p};L.current&&(R.platform=L.current),WA(N.current,C.current,R).then(E=>{const D={...E,isPositioned:A.current!==!1};k.current&&!mu(P.current,D)&&(P.current=D,Gs.flushSync(()=>{f(D)}))})},[p,t,n,L,A]);Ac(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[c]);const k=m.useRef(!1);Ac(()=>(k.current=!0,()=>{k.current=!1}),[]),Ac(()=>{if(_&&(N.current=_),S&&(C.current=S),_&&S){if(O.current)return O.current(_,S,$);$()}},[_,S,$,O,I]);const T=m.useMemo(()=>({reference:N,floating:C,setReference:x,setFloating:v}),[x,v]),j=m.useMemo(()=>({reference:_,floating:S}),[_,S]),M=m.useMemo(()=>{const R={position:n,left:0,top:0};if(!j.floating)return R;const E=Fv(j.floating,d.x),D=Fv(j.floating,d.y);return a?{...R,transform:"translate("+E+"px, "+D+"px)",...t_(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:E,top:D}},[n,a,j.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:$,refs:T,elements:j,floatingStyles:M}),[d,$,T,j,M])}const KA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Lv({element:r.current,padding:s}).fn(n):{}:r?Lv({element:r,padding:s}).fn(n):{}}}},qA=(e,t)=>({...FA(e),options:[e,t]}),YA=(e,t)=>({...zA(e),options:[e,t]}),XA=(e,t)=>({...VA(e),options:[e,t]}),QA=(e,t)=>({...UA(e),options:[e,t]}),JA=(e,t)=>({...BA(e),options:[e,t]}),ZA=(e,t)=>({...HA(e),options:[e,t]}),eM=(e,t)=>({...KA(e),options:[e,t]});var tM="Arrow",n_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return u.jsx(le.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});n_.displayName=tM;var nM=n_;function rM(e){const[t,n]=m.useState(void 0);return Ze(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ug="Popper",[r_,yi]=fr(ug),[sM,s_]=r_(ug),o_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return u.jsx(sM,{scope:t,anchor:r,onAnchorChange:s,children:n})};o_.displayName=ug;var i_="PopperAnchor",a_=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=s_(i_,n),i=m.useRef(null),a=we(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(le.div,{...s,ref:a})});a_.displayName=i_;var dg="PopperContent",[oM,iM]=r_(dg),l_=m.forwardRef((e,t)=>{var U,W,J,ee,Q,H;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:b,...g}=e,w=s_(dg,n),[y,x]=m.useState(null),v=we(t,re=>x(re)),[_,S]=m.useState(null),N=rM(_),C=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,I=r+(o!=="center"?"-"+o:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],A=L.length>0,$={padding:O,boundary:L.filter(lM),altBoundary:A},{refs:k,floatingStyles:T,placement:j,isPositioned:M,middlewareData:R}=GA({strategy:"fixed",placement:I,whileElementsMounted:(...re)=>LA(...re,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[qA({mainAxis:s+P,alignmentAxis:i}),l&&YA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XA():void 0,...$}),l&&QA({...$}),JA({...$,apply:({elements:re,rects:se,availableWidth:ye,availableHeight:he})=>{const{width:pt,height:Un}=se.reference,xn=re.floating.style;xn.setProperty("--radix-popper-available-width",`${ye}px`),xn.setProperty("--radix-popper-available-height",`${he}px`),xn.setProperty("--radix-popper-anchor-width",`${pt}px`),xn.setProperty("--radix-popper-anchor-height",`${Un}px`)}}),_&&eM({element:_,padding:a}),cM({arrowWidth:C,arrowHeight:P}),p&&ZA({strategy:"referenceHidden",...$})]}),[E,D]=d_(j),F=kt(b);Ze(()=>{M&&(F==null||F())},[M,F]);const z=(U=R.arrow)==null?void 0:U.x,V=(W=R.arrow)==null?void 0:W.y,B=((J=R.arrow)==null?void 0:J.centerOffset)!==0,[K,q]=m.useState();return Ze(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:M?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ee=R.transformOrigin)==null?void 0:ee.x,(Q=R.transformOrigin)==null?void 0:Q.y].join(" "),...((H=R.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(oM,{scope:n,placedSide:E,onArrowChange:S,arrowX:z,arrowY:V,shouldHideArrow:B,children:u.jsx(le.div,{"data-side":E,"data-align":D,...g,ref:v,style:{...g.style,animation:M?void 0:"none"}})})})});l_.displayName=dg;var c_="PopperArrow",aM={top:"bottom",right:"left",bottom:"top",left:"right"},u_=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=iM(c_,r),i=aM[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(nM,{...s,ref:n,style:{...s.style,display:"block"}})})});u_.displayName=c_;function lM(e){return e!==null}var cM=e=>({name:"transformOrigin",options:e,fn(t){var w,y,x;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=d_(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,h=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let b="",g="";return c==="bottom"?(b=i?f:`${p}px`,g=`${-l}px`):c==="top"?(b=i?f:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,g=i?f:`${h}px`):c==="left"&&(b=`${r.floating.width+l}px`,g=i?f:`${h}px`),{data:{x:b,y:g}}}});function d_(e){const[t,n="center"]=e.split("-");return[t,n]}var fg=o_,hg=a_,pg=l_,mg=u_,[rd,NH]=fr("Tooltip",[yi]),sd=yi(),f_="TooltipProvider",uM=700,fp="tooltip.open",[dM,gg]=rd(f_),h_=e=>{const{__scopeTooltip:t,delayDuration:n=uM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(dM,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};h_.displayName=f_;var Ta="Tooltip",[fM,od]=rd(Ta),p_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=gg(Ta,e.__scopeTooltip),c=sd(t),[d,f]=m.useState(null),p=Mn(),h=m.useRef(0),b=i??l.disableHoverableContent,g=a??l.delayDuration,w=m.useRef(!1),[y,x]=Ds({prop:r,defaultProp:s??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(fp))):l.onClose(),o==null||o(C)},caller:Ta}),v=m.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),_=m.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w.current=!1,x(!0)},[x]),S=m.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),N=m.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{w.current=!0,x(!0),h.current=0},g)},[g,x]);return m.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),u.jsx(fg,{...c,children:u.jsx(fM,{scope:t,contentId:p,open:y,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?N():_()},[l.isOpenDelayedRef,N,_]),onTriggerLeave:m.useCallback(()=>{b?S():(window.clearTimeout(h.current),h.current=0)},[S,b]),onOpen:_,onClose:S,disableHoverableContent:b,children:n})})};p_.displayName=Ta;var hp="TooltipTrigger",m_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=od(hp,n),o=gg(hp,n),i=sd(n),a=m.useRef(null),l=we(t,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(hg,{asChild:!0,...i,children:u.jsx(le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Z(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});m_.displayName=hp;var hM="TooltipPortal",[jH,pM]=rd(hM,{forceMount:void 0}),ei="TooltipContent",g_=m.forwardRef((e,t)=>{const n=pM(ei,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=od(ei,e.__scopeTooltip);return u.jsx(Ln,{present:r||i.open,children:i.disableHoverableContent?u.jsx(v_,{side:s,...o,ref:t}):u.jsx(mM,{side:s,...o,ref:t})})}),mM=m.forwardRef((e,t)=>{const n=od(ei,e.__scopeTooltip),r=gg(ei,e.__scopeTooltip),s=m.useRef(null),o=we(t,s),[i,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),h=m.useCallback((b,g)=>{const w=b.currentTarget,y={x:b.clientX,y:b.clientY},x=wM(y,w.getBoundingClientRect()),v=bM(y,x),_=_M(g.getBoundingClientRect()),S=kM([...v,..._]);a(S),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const b=w=>h(w,d),g=w=>h(w,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[l,d,h,p]),m.useEffect(()=>{if(i){const b=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),v=!SM(y,i);x?p():v&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,i,c,p]),u.jsx(v_,{...e,ref:o})}),[gM,vM]=rd(Ta,{isInside:!1}),yM=I2("TooltipContent"),v_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=od(ei,n),c=sd(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(fp,d),()=>document.removeEventListener(fp,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(pi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(pg,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(yM,{children:r}),u.jsx(gM,{scope:n,isInside:!0,children:u.jsx(nT,{id:l.contentId,role:"tooltip",children:s||r})})]})})});g_.displayName=ei;var y_="TooltipArrow",xM=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=sd(n);return vM(y_,n).isInside?null:u.jsx(mg,{...s,...r,ref:t})});xM.displayName=y_;function wM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function _M(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function SM(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function kM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EM(t)}function EM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var CM=h_,NM=p_,jM=m_,x_=g_;const PM=CM,Ql=NM,Jl=jM,Hi=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(x_,{ref:r,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Hi.displayName=x_.displayName;var id=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ad=typeof window>"u"||"Deno"in globalThis;function nn(){}function TM(e,t){return typeof e=="function"?e(t):e}function RM(e){return typeof e=="number"&&e>=0&&e!==1/0}function AM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zv(e,t){return typeof e=="function"?e(t):e}function MM(e,t){return typeof e=="function"?e(t):e}function Uv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==vg(i,t.options))return!1}else if(!Aa(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Bv(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ra(t.options.mutationKey)!==Ra(o))return!1}else if(!Aa(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function vg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ra)(e)}function Ra(e){return JSON.stringify(e,(t,n)=>pp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Aa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Aa(e[n],t[n])):!1}function w_(e,t){if(e===t)return e;const n=Hv(e)&&Hv(t);if(n||pp(e)&&pp(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=w_(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===i&&l===s?e:a}return t}function Hv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pp(e){if(!Vv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Vv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vv(e){return Object.prototype.toString.call(e)==="[object Object]"}function IM(e){return new Promise(t=>{setTimeout(t,e)})}function OM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?w_(e,t):t}function DM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $M(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var yg=Symbol();function b_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===yg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xs,Dr,$o,Mx,LM=(Mx=class extends id{constructor(){super();xe(this,xs);xe(this,Dr);xe(this,$o);ae(this,$o,t=>{if(!ad&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,Dr)||this.setEventListener(G(this,$o))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Dr))==null||t.call(this),ae(this,Dr,void 0))}setEventListener(t){var n;ae(this,$o,t),(n=G(this,Dr))==null||n.call(this),ae(this,Dr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){G(this,xs)!==t&&(ae(this,xs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof G(this,xs)=="boolean"?G(this,xs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xs=new WeakMap,Dr=new WeakMap,$o=new WeakMap,Mx),__=new LM,Lo,$r,Fo,Ix,FM=(Ix=class extends id{constructor(){super();xe(this,Lo,!0);xe(this,$r);xe(this,Fo);ae(this,Fo,t=>{if(!ad&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,$r)||this.setEventListener(G(this,Fo))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,$r))==null||t.call(this),ae(this,$r,void 0))}setEventListener(t){var n;ae(this,Fo,t),(n=G(this,$r))==null||n.call(this),ae(this,$r,t(this.setOnline.bind(this)))}setOnline(t){G(this,Lo)!==t&&(ae(this,Lo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return G(this,Lo)}},Lo=new WeakMap,$r=new WeakMap,Fo=new WeakMap,Ix),gu=new FM;function zM(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function UM(e){return Math.min(1e3*2**e,3e4)}function S_(e){return(e??"online")==="online"?gu.isOnline():!0}var k_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Df(e){return e instanceof k_}function E_(e){let t=!1,n=0,r=!1,s;const o=zM(),i=g=>{var w;r||(p(new k_(g)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>__.isFocused()&&(e.networkMode==="always"||gu.isOnline())&&e.canRun(),d=()=>S_(e.networkMode)&&e.canRun(),f=g=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),o.resolve(g))},p=g=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),o.reject(g))},h=()=>new Promise(g=>{var w;s=y=>{(r||c())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(r)return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var N;if(r)return;const x=e.retry??(ad?0:3),v=e.retryDelay??UM,_=typeof v=="function"?v(n,y):v,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!S){p(y);return}n++,(N=e.onFail)==null||N.call(e,n,y),IM(_).then(()=>c()?void 0:h()).then(()=>{t?p(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():h().then(b),o)}}var BM=e=>setTimeout(e,0);function HM(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=BM;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ct=HM(),ws,Ox,C_=(Ox=class{constructor(){xe(this,ws)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RM(this.gcTime)&&ae(this,ws,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ad?1/0:5*60*1e3))}clearGcTimeout(){G(this,ws)&&(clearTimeout(G(this,ws)),ae(this,ws,void 0))}},ws=new WeakMap,Ox),zo,Uo,Ut,bs,st,Za,_s,rn,Gn,Dx,VM=(Dx=class extends C_{constructor(t){super();xe(this,rn);xe(this,zo);xe(this,Uo);xe(this,Ut);xe(this,bs);xe(this,st);xe(this,Za);xe(this,_s);ae(this,_s,!1),ae(this,Za,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,bs,t.client),ae(this,Ut,G(this,bs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,zo,GM(this.options)),this.state=t.state??G(this,zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,st))==null?void 0:t.promise}setOptions(t){this.options={...G(this,Za),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Ut).remove(this)}setData(t,n){const r=OM(this.state.data,t,this.options);return et(this,rn,Gn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){et(this,rn,Gn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=G(this,st))==null?void 0:r.promise;return(s=G(this,st))==null||s.cancel(t),n?n.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,zo))}isActive(){return this.observers.some(t=>MM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!AM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,st))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,st))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,Ut).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(G(this,st)&&(G(this,_s)?G(this,st).cancel({revert:!0}):G(this,st).cancelRetry()),this.scheduleGc()),G(this,Ut).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,rn,Gn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(G(this,st))return G(this,st).continueRetry(),G(this,st).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ae(this,_s,!0),r.signal)})},o=()=>{const f=b_(this.options,n),p={client:G(this,bs),queryKey:this.queryKey,meta:this.meta};return s(p),ae(this,_s,!1),this.options.persister?this.options.persister(f,p,this):f(p)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:G(this,bs),state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),ae(this,Uo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&et(this,rn,Gn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var p,h,b,g;Df(f)&&f.silent||et(this,rn,Gn).call(this,{type:"error",error:f}),Df(f)||((h=(p=G(this,Ut).config).onError)==null||h.call(p,f,this),(g=(b=G(this,Ut).config).onSettled)==null||g.call(b,this.state.data,f,this)),this.scheduleGc()};return ae(this,st,E_({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,h,b,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(h=(p=G(this,Ut).config).onSuccess)==null||h.call(p,f,this),(g=(b=G(this,Ut).config).onSettled)==null||g.call(b,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{et(this,rn,Gn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{et(this,rn,Gn).call(this,{type:"pause"})},onContinue:()=>{et(this,rn,Gn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),G(this,st).start()}},zo=new WeakMap,Uo=new WeakMap,Ut=new WeakMap,bs=new WeakMap,st=new WeakMap,Za=new WeakMap,_s=new WeakMap,rn=new WeakSet,Gn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...WM(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Df(s)&&s.revert&&G(this,Uo)?{...G(this,Uo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),G(this,Ut).notify({query:this,type:"updated",action:t})})},Dx);function WM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cn,$x,KM=($x=class extends id{constructor(t={}){super();xe(this,Cn);this.config=t,ae(this,Cn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??vg(s,n);let i=this.get(o);return i||(i=new VM({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){G(this,Cn).has(t.queryHash)||(G(this,Cn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=G(this,Cn).get(t.queryHash);n&&(t.destroy(),n===t&&G(this,Cn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,Cn).get(t)}getAll(){return[...G(this,Cn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Uv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Uv(t,r)):n}notify(t){ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cn=new WeakMap,$x),Nn,at,Ss,jn,kr,Lx,qM=(Lx=class extends C_{constructor(t){super();xe(this,jn);xe(this,Nn);xe(this,at);xe(this,Ss);this.mutationId=t.mutationId,ae(this,at,t.mutationCache),ae(this,Nn,[]),this.state=t.state||YM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,Nn).includes(t)||(G(this,Nn).push(t),this.clearGcTimeout(),G(this,at).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Nn,G(this,Nn).filter(n=>n!==t)),this.scheduleGc(),G(this,at).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,Nn).length||(this.state.status==="pending"?this.scheduleGc():G(this,at).remove(this))}continue(){var t;return((t=G(this,Ss))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,d,f,p,h,b,g,w,y,x,v,_,S,N,C,P;const n=()=>{et(this,jn,kr).call(this,{type:"continue"})};ae(this,Ss,E_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{et(this,jn,kr).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{et(this,jn,kr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,at).canRun(this)}));const r=this.state.status==="pending",s=!G(this,Ss).canStart();try{if(r)n();else{et(this,jn,kr).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=G(this,at).config).onMutate)==null?void 0:i.call(o,t,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));O!==this.state.context&&et(this,jn,kr).call(this,{type:"pending",context:O,variables:t,isPaused:s})}const I=await G(this,Ss).start();return await((d=(c=G(this,at).config).onSuccess)==null?void 0:d.call(c,I,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,t,this.state.context)),await((b=(h=G(this,at).config).onSettled)==null?void 0:b.call(h,I,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,I,null,t,this.state.context)),et(this,jn,kr).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(y=G(this,at).config).onError)==null?void 0:x.call(y,I,t,this.state.context,this)),await((_=(v=this.options).onError)==null?void 0:_.call(v,I,t,this.state.context)),await((N=(S=G(this,at).config).onSettled)==null?void 0:N.call(S,void 0,I,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,I,t,this.state.context)),I}finally{et(this,jn,kr).call(this,{type:"error",error:I})}}finally{G(this,at).runNext(this)}}},Nn=new WeakMap,at=new WeakMap,Ss=new WeakMap,jn=new WeakSet,kr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ct.batch(()=>{G(this,Nn).forEach(r=>{r.onMutationUpdate(t)}),G(this,at).notify({mutation:this,type:"updated",action:t})})},Lx);function YM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xn,sn,el,Fx,XM=(Fx=class extends id{constructor(t={}){super();xe(this,Xn);xe(this,sn);xe(this,el);this.config=t,ae(this,Xn,new Set),ae(this,sn,new Map),ae(this,el,0)}build(t,n,r){const s=new qM({mutationCache:this,mutationId:++Pl(this,el)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){G(this,Xn).add(t);const n=Zl(t);if(typeof n=="string"){const r=G(this,sn).get(n);r?r.push(t):G(this,sn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,Xn).delete(t)){const n=Zl(t);if(typeof n=="string"){const r=G(this,sn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&G(this,sn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Zl(t);if(typeof n=="string"){const r=G(this,sn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Zl(t);if(typeof n=="string"){const s=(r=G(this,sn).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ct.batch(()=>{G(this,Xn).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,Xn).clear(),G(this,sn).clear()})}getAll(){return Array.from(G(this,Xn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bv(n,r))}findAll(t={}){return this.getAll().filter(n=>Bv(t,n))}notify(t){ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ct.batch(()=>Promise.all(t.map(n=>n.continue().catch(nn))))}},Xn=new WeakMap,sn=new WeakMap,el=new WeakMap,Fx);function Zl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Wv(e){return{onFetch:(t,n)=>{var d,f,p,h,b;const r=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=b_(t.options,t.fetchOptions),x=async(v,_,S)=>{if(g)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const N={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(N);const C=await y(N),{maxPages:P}=t.options,I=S?$M:DM;return{pages:I(v.pages,C,P),pageParams:I(v.pageParams,_,P)}};if(s&&o.length){const v=s==="backward",_=v?QM:Gv,S={pages:o,pageParams:i},N=_(r,S);a=await x(S,N,v)}else{const v=e??o.length;do{const _=l===0?i[0]??r.initialPageParam:Gv(r,a);if(l>0&&_==null)break;a=await x(a,_),l++}while(l<v)}return a};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Gv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function QM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var De,Lr,Fr,Bo,Ho,zr,Vo,Wo,zx,JM=(zx=class{constructor(e={}){xe(this,De);xe(this,Lr);xe(this,Fr);xe(this,Bo);xe(this,Ho);xe(this,zr);xe(this,Vo);xe(this,Wo);ae(this,De,e.queryCache||new KM),ae(this,Lr,e.mutationCache||new XM),ae(this,Fr,e.defaultOptions||{}),ae(this,Bo,new Map),ae(this,Ho,new Map),ae(this,zr,0)}mount(){Pl(this,zr)._++,G(this,zr)===1&&(ae(this,Vo,__.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,De).onFocus())})),ae(this,Wo,gu.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,De).onOnline())})))}unmount(){var e,t;Pl(this,zr)._--,G(this,zr)===0&&((e=G(this,Vo))==null||e.call(this),ae(this,Vo,void 0),(t=G(this,Wo))==null||t.call(this),ae(this,Wo,void 0))}isFetching(e){return G(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,Lr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,De).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=G(this,De).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(zv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return G(this,De).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=G(this,De).get(r.queryHash),o=s==null?void 0:s.state.data,i=TM(t,o);if(i!==void 0)return G(this,De).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ct.batch(()=>G(this,De).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,De).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=G(this,De);ct.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=G(this,De);return ct.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ct.batch(()=>G(this,De).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(nn).catch(nn)}invalidateQueries(e,t={}){return ct.batch(()=>(G(this,De).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ct.batch(()=>G(this,De).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(nn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=G(this,De).build(this,t);return n.isStaleByTime(zv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nn).catch(nn)}fetchInfiniteQuery(e){return e.behavior=Wv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nn).catch(nn)}ensureInfiniteQueryData(e){return e.behavior=Wv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gu.isOnline()?G(this,Lr).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,De)}getMutationCache(){return G(this,Lr)}getDefaultOptions(){return G(this,Fr)}setDefaultOptions(e){ae(this,Fr,e)}setQueryDefaults(e,t){G(this,Bo).set(Ra(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Bo).values()],n={};return t.forEach(r=>{Aa(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){G(this,Ho).set(Ra(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,Ho).values()],n={};return t.forEach(r=>{Aa(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Fr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Fr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,De).clear(),G(this,Lr).clear()}},De=new WeakMap,Lr=new WeakMap,Fr=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,zr=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,zx),ZM=m.createContext(void 0),eI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(ZM.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(this,arguments)}var Hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hr||(Hr={}));const Kv="popstate";function tI(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:a="",hash:l=""}=Ks(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),mp("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:vu(o))}function r(s,o){xg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return rI(t,n,r,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nI(){return Math.random().toString(36).substr(2,8)}function qv(e,t){return{usr:e.state,key:e.key,idx:t}}function mp(e,t,n,r){return n===void 0&&(n=null),Ma({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ks(t):t,{state:n,key:t&&t.key||r||nI()})}function vu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ks(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Hr.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(Ma({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Hr.Pop;let w=d(),y=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:y})}function p(w,y){a=Hr.Push;let x=mp(g.location,w,y);n&&n(x,w),c=d()+1;let v=qv(x,c),_=g.createHref(x);try{i.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function h(w,y){a=Hr.Replace;let x=mp(g.location,w,y);n&&n(x,w),c=d();let v=qv(x,c),_=g.createHref(x);i.replaceState(v,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:vu(w);return x=x.replace(/ $/,"%20"),Ue(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return a},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Kv,f),l=w,()=>{s.removeEventListener(Kv,f),l=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(w){return i.go(w)}};return g}var Yv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yv||(Yv={}));function sI(e,t,n){return n===void 0&&(n="/"),oI(e,t,n)}function oI(e,t,n,r){let s=typeof t=="string"?Ks(t):t,o=wg(s.pathname||"/",n);if(o==null)return null;let i=N_(e);iI(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=yI(o);a=mI(i[l],c)}return a}function N_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Jr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),N_(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:hI(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of j_(o.path))s(o,i,l)}),t}function j_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=j_(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aI=/^:[\w-]+$/,lI=3,cI=2,uI=1,dI=10,fI=-2,Xv=e=>e==="*";function hI(e,t){let n=e.split("/"),r=n.length;return n.some(Xv)&&(r+=fI),t&&(r+=cI),n.filter(s=>!Xv(s)).reduce((s,o)=>s+(aI.test(o)?lI:o===""?uI:dI),r)}function pI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function mI(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=gI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Jr([o,f.pathname]),pathnameBase:_I(Jr([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Jr([o,f.pathnameBase]))}return i}function gI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=vI(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=a[f];return h&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function vI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function yI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ks(e):e;return{pathname:n?n.startsWith("/")?n:wI(n,t):t,search:SI(r),hash:kI(s)}}function wI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $f(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function P_(e,t){let n=bI(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function T_(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ks(e):(s=Ma({},e),Ue(!s.pathname||!s.pathname.includes("?"),$f("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),$f("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),$f("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=xI(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Jr=e=>e.join("/").replace(/\/\/+/g,"/"),_I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R_=["post","put","patch","delete"];new Set(R_);const CI=["get",...R_];new Set(CI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(this,arguments)}const bg=m.createContext(null),NI=m.createContext(null),qs=m.createContext(null),ld=m.createContext(null),Ys=m.createContext({outlet:null,matches:[],isDataRoute:!1}),A_=m.createContext(null);function jI(e,t){let{relative:n}=t===void 0?{}:t;dl()||Ue(!1);let{basename:r,navigator:s}=m.useContext(qs),{hash:o,pathname:i,search:a}=I_(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Jr([r,i])),s.createHref({pathname:l,search:a,hash:o})}function dl(){return m.useContext(ld)!=null}function fl(){return dl()||Ue(!1),m.useContext(ld).location}function M_(e){m.useContext(qs).static||m.useLayoutEffect(e)}function PI(){let{isDataRoute:e}=m.useContext(Ys);return e?BI():TI()}function TI(){dl()||Ue(!1);let e=m.useContext(bg),{basename:t,future:n,navigator:r}=m.useContext(qs),{matches:s}=m.useContext(Ys),{pathname:o}=fl(),i=JSON.stringify(P_(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return M_(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=T_(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function I_(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(qs),{matches:s}=m.useContext(Ys),{pathname:o}=fl(),i=JSON.stringify(P_(s,r.v7_relativeSplatPath));return m.useMemo(()=>T_(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function RI(e,t){return AI(e,t)}function AI(e,t,n,r){dl()||Ue(!1);let{navigator:s}=m.useContext(qs),{matches:o}=m.useContext(Ys),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=fl(),d;if(t){var f;let w=typeof t=="string"?Ks(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ue(!1),d=w}else d=c;let p=d.pathname||"/",h=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=sI(e,{pathname:h}),g=$I(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Jr([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Jr([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&g?m.createElement(ld.Provider,{value:{location:Ia({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hr.Pop}},g):g}function MI(){let e=UI(),t=EI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const II=m.createElement(MI,null);class OI extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ys.Provider,{value:this.props.routeContext},m.createElement(A_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DI(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(bg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ys.Provider,{value:t},r)}function $I(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ue(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:h}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let h,b=!1,g=null,w=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||II,l&&(c<0&&p===0?(HI("route-fallback"),b=!0,w=null):c===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),x=()=>{let v;return h?v=g:b?v=w:f.route.Component?v=m.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,m.createElement(DI,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(OI,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var O_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O_||{}),D_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D_||{});function LI(e){let t=m.useContext(bg);return t||Ue(!1),t}function FI(e){let t=m.useContext(NI);return t||Ue(!1),t}function zI(e){let t=m.useContext(Ys);return t||Ue(!1),t}function $_(e){let t=zI(),n=t.matches[t.matches.length-1];return n.route.id||Ue(!1),n.route.id}function UI(){var e;let t=m.useContext(A_),n=FI(),r=$_();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function BI(){let{router:e}=LI(O_.UseNavigateStable),t=$_(D_.UseNavigateStable),n=m.useRef(!1);return M_(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ia({fromRouteId:t},o)))},[e,t])}const Qv={};function HI(e,t,n){Qv[e]||(Qv[e]=!0)}function VI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vi(e){Ue(!1)}function WI(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Hr.Pop,navigator:o,static:i=!1,future:a}=e;dl()&&Ue(!1);let l=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:o,static:i,future:Ia({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Ks(r));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:b="default"}=r,g=m.useMemo(()=>{let w=wg(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:h,key:b},navigationType:s}},[l,d,f,p,h,b,s]);return g==null?null:m.createElement(qs.Provider,{value:c},m.createElement(ld.Provider,{children:n,value:g}))}function GI(e){let{children:t,location:n}=e;return RI(gp(t),n)}new Promise(()=>{});function gp(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,gp(r.props.children,o));return}r.type!==Vi&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=gp(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}function KI(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function qI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YI(e,t){return e.button===0&&(!t||t==="_self")&&!qI(e)}const XI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QI="6";try{window.__reactRouterVersion=QI}catch{}const JI="startTransition",Jv=nm[JI];function ZI(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=tI({window:s,v5Compat:!0}));let i=o.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&Jv?Jv(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>VI(r),[r]),m.createElement(WI,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const eO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,p=KI(t,XI),{basename:h}=m.useContext(qs),b,g=!1;if(typeof c=="string"&&tO.test(c)&&(b=c,eO))try{let v=new URL(window.location.href),_=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=wg(_.pathname,h);_.origin===v.origin&&S!=null?c=S+_.search+_.hash:g=!0}catch{}let w=jI(c,{relative:s}),y=nO(c,{replace:i,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function x(v){r&&r(v),v.defaultPrevented||y(v)}return m.createElement("a",vp({},p,{href:b||w,onClick:g||o?r:x,ref:n,target:l}))});var Zv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zv||(Zv={}));var ey;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ey||(ey={}));function nO(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=PI(),c=fl(),d=I_(e,{relative:i});return m.useCallback(f=>{if(YI(f,n)){f.preventDefault();let p=r!==void 0?r:vu(c)===vu(d);l(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,d,r,s,n,e,o,i,a])}const rO=ll("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?A2:"button";return u.jsx(i,{className:oe(rO({variant:t,size:n,className:e})),ref:o,...s})});_e.displayName="Button";var sO=m.createContext(void 0);function _g(e){const t=m.useContext(sO);return e||t||"ltr"}var Lf=0;function Sg(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ty()),document.body.insertAdjacentElement("beforeend",e[1]??ty()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lf--}},[])}function ty(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ff="focusScope.autoFocusOnMount",zf="focusScope.autoFocusOnUnmount",ny={bubbles:!1,cancelable:!0},oO="FocusScope",cd=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=m.useState(null),c=kt(s),d=kt(o),f=m.useRef(null),p=we(t,g=>l(g)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(v){if(h.paused||!a)return;const _=v.target;a.contains(_)?f.current=_:Er(f.current,{select:!0})},w=function(v){if(h.paused||!a)return;const _=v.relatedTarget;_!==null&&(a.contains(_)||Er(f.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&Er(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,h.paused]),m.useEffect(()=>{if(a){sy.add(h);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(Ff,ny);a.addEventListener(Ff,c),a.dispatchEvent(y),y.defaultPrevented||(iO(dO(L_(a)),{select:!0}),document.activeElement===g&&Er(a))}return()=>{a.removeEventListener(Ff,c),setTimeout(()=>{const y=new CustomEvent(zf,ny);a.addEventListener(zf,d),a.dispatchEvent(y),y.defaultPrevented||Er(g??document.body,{select:!0}),a.removeEventListener(zf,d),sy.remove(h)},0)}}},[a,c,d,h]);const b=m.useCallback(g=>{if(!n&&!r||h.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const x=g.currentTarget,[v,_]=aO(x);v&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&Er(v,{select:!0})):g.shiftKey&&y===v&&(g.preventDefault(),n&&Er(_,{select:!0})):y===x&&g.preventDefault()}},[n,r,h.paused]);return u.jsx(le.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});cd.displayName=oO;function iO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Er(r,{select:t}),document.activeElement!==n)return}function aO(e){const t=L_(e),n=ry(t,e),r=ry(t.reverse(),e);return[n,r]}function L_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ry(e,t){for(const n of e)if(!lO(n,{upTo:t}))return n}function lO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cO(e){return e instanceof HTMLInputElement&&"select"in e}function Er(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cO(e)&&t&&e.select()}}var sy=uO();function uO(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=oy(e,t),e.unshift(t)},remove(t){var n;e=oy(e,t),(n=e[0])==null||n.resume()}}}function oy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dO(e){return e.filter(t=>t.tagName!=="A")}var Uf="rovingFocusGroup.onEntryFocus",fO={bubbles:!1,cancelable:!0},hl="RovingFocusGroup",[yp,F_,hO]=Qu(hl),[pO,z_]=fr(hl,[hO]),[mO,gO]=pO(hl),U_=m.forwardRef((e,t)=>u.jsx(yp.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(yp.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(vO,{...e,ref:t})})}));U_.displayName=hl;var vO=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,p=m.useRef(null),h=we(t,p),b=_g(o),[g,w]=Ds({prop:i,defaultProp:a??null,onChange:l,caller:hl}),[y,x]=m.useState(!1),v=kt(c),_=F_(n),S=m.useRef(!1),[N,C]=m.useState(0);return m.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Uf,v),()=>P.removeEventListener(Uf,v)},[v]),u.jsx(mO,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(P=>w(P),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>C(P=>P-1),[]),children:u.jsx(le.div,{tabIndex:y||N===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{S.current=!0}),onFocus:Z(e.onFocus,P=>{const I=!S.current;if(P.target===P.currentTarget&&I&&!y){const O=new CustomEvent(Uf,fO);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=_().filter(j=>j.focusable),A=L.find(j=>j.active),$=L.find(j=>j.id===g),T=[A,$,...L].filter(Boolean).map(j=>j.ref.current);V_(T,d)}}S.current=!1}),onBlur:Z(e.onBlur,()=>x(!1))})})}),B_="RovingFocusGroupItem",H_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=Mn(),c=o||l,d=gO(B_,n),f=d.currentTabStopId===c,p=F_(n),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:g}=d;return m.useEffect(()=>{if(r)return h(),()=>b()},[r,h,b]),u.jsx(yp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Z(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=wO(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const _=v.indexOf(w.currentTarget);v=d.loop?bO(v,_+1):v.slice(_+1)}setTimeout(()=>V_(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});H_.displayName=B_;var yO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wO(e,t,n){const r=xO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yO[r]}function V_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function bO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _O=U_,SO=H_,kO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},to=new WeakMap,ec=new WeakMap,tc={},Bf=0,W_=function(e){return e&&(e.host||W_(e.parentNode))},EO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=W_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},CO=function(e,t,n,r){var s=EO(t,Array.isArray(e)?e:[e]);tc[n]||(tc[n]=new WeakMap);var o=tc[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var h=p.getAttribute(r),b=h!==null&&h!=="false",g=(to.get(p)||0)+1,w=(o.get(p)||0)+1;to.set(p,g),o.set(p,w),i.push(p),g===1&&b&&ec.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),a.clear(),Bf++,function(){i.forEach(function(f){var p=to.get(f)-1,h=o.get(f)-1;to.set(f,p),o.set(f,h),p||(ec.has(f)||f.removeAttribute(r),ec.delete(f)),h||f.removeAttribute(n)}),Bf--,Bf||(to=new WeakMap,to=new WeakMap,ec=new WeakMap,tc={})}},kg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=kO(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),CO(r,s,n,"aria-hidden")):function(){return null}},Tn=function(){return Tn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Tn.apply(this,arguments)};function G_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function NO(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Mc="right-scroll-bar-position",Ic="width-before-scroll-bar",jO="with-scroll-bars-hidden",PO="--removed-body-scroll-bar-size";function Hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TO(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var RO=typeof window<"u"?m.useLayoutEffect:m.useEffect,iy=new WeakMap;function AO(e,t){var n=TO(null,function(r){return e.forEach(function(s){return Hf(s,r)})});return RO(function(){var r=iy.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Hf(a,null)}),o.forEach(function(a){s.has(a)||Hf(a,i)})}iy.set(n,e)},[e]),n}function MO(e){return e}function IO(e,t){t===void 0&&(t=MO);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function OO(e){e===void 0&&(e={});var t=IO(null);return t.options=Tn({async:!0,ssr:!1},e),t}var K_=function(e){var t=e.sideCar,n=G_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Tn({},n))};K_.isSideCarExport=!0;function DO(e,t){return e.useMedium(t),K_}var q_=OO(),Vf=function(){},ud=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Vf,onWheelCapture:Vf,onTouchMoveCapture:Vf}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,b=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,v=e.gapMode,_=G_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,N=AO([n,t]),C=Tn(Tn({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:q_,removeScrollBar:c,shards:f,noRelative:h,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:v}),i?m.cloneElement(m.Children.only(a),Tn(Tn({},C),{ref:N})):m.createElement(x,Tn({},C,{className:l,ref:N}),a))});ud.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ud.classNames={fullWidth:Ic,zeroRight:Mc};var $O=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$O();return t&&e.setAttribute("nonce",t),e}function FO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LO())&&(FO(t,n),zO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BO=function(){var e=UO();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Y_=function(){var e=BO(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},HO={left:0,top:0,right:0,gap:0},Wf=function(e){return parseInt(e||"",10)||0},VO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Wf(n),Wf(r),Wf(s)]},WO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return HO;var t=VO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},GO=Y_(),Ao="data-scroll-locked",KO=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(jO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(PO,": ").concat(a,`px;
  }
`)},ay=function(){var e=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(e)?e:0},qO=function(){m.useEffect(function(){return document.body.setAttribute(Ao,(ay()+1).toString()),function(){var e=ay()-1;e<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,e.toString())}},[])},YO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;qO();var o=m.useMemo(function(){return WO(s)},[s]);return m.createElement(GO,{styles:KO(o,!t,s,n?"":"!important")})},xp=!1;if(typeof window<"u")try{var nc=Object.defineProperty({},"passive",{get:function(){return xp=!0,!0}});window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{xp=!1}var no=xp?{passive:!1}:!1,XO=function(e){return e.tagName==="TEXTAREA"},X_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!XO(e)&&n[t]==="visible")},QO=function(e){return X_(e,"overflowY")},JO=function(e){return X_(e,"overflowX")},ly=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Q_(e,r);if(s){var o=J_(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ZO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},eD=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Q_=function(e,t){return e==="v"?QO(t):JO(t)},J_=function(e,t){return e==="v"?ZO(t):eD(t)},tD=function(e,t){return e==="h"&&t==="rtl"?-1:1},nD=function(e,t,n,r,s){var o=tD(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,d=i>0,f=0,p=0;do{var h=J_(e,a),b=h[0],g=h[1],w=h[2],y=g-w-o*b;(b||y)&&Q_(e,a)&&(f+=y,p+=b),a=a.parentNode.host||a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},rc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cy=function(e){return[e.deltaX,e.deltaY]},uy=function(e){return e&&"current"in e?e.current:e},rD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oD=0,ro=[];function iD(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(oD++)[0],o=m.useState(Y_)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=NO([e.lockRef.current],(e.shards||[]).map(uy),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=rc(g),x=n.current,v="deltaX"in g?g.deltaX:x[0]-y[0],_="deltaY"in g?g.deltaY:x[1]-y[1],S,N=g.target,C=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&N.type==="range")return!1;var P=ly(C,N);if(!P)return!0;if(P?S=C:(S=C==="v"?"h":"v",P=ly(C,N)),!P)return!1;if(!r.current&&"changedTouches"in g&&(v||_)&&(r.current=S),!S)return!0;var I=r.current||S;return nD(I,w,g,I==="h"?v:_)},[]),l=m.useCallback(function(g){var w=g;if(!(!ro.length||ro[ro.length-1]!==o)){var y="deltaY"in w?cy(w):rc(w),x=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&rD(S.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var v=(i.current.shards||[]).map(uy).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=v.length>0?a(w,v[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),c=m.useCallback(function(g,w,y,x){var v={name:g,delta:w,target:y,should:x,shadowParent:aD(y)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=m.useCallback(function(g){n.current=rc(g),r.current=void 0},[]),f=m.useCallback(function(g){c(g.type,cy(g),g.target,a(g,e.lockRef.current))},[]),p=m.useCallback(function(g){c(g.type,rc(g),g.target,a(g,e.lockRef.current))},[]);m.useEffect(function(){return ro.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,no),document.addEventListener("touchmove",l,no),document.addEventListener("touchstart",d,no),function(){ro=ro.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,no),document.removeEventListener("touchmove",l,no),document.removeEventListener("touchstart",d,no)}},[]);var h=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(o,{styles:sD(s)}):null,h?m.createElement(YO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function aD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lD=DO(q_,iD);var dd=m.forwardRef(function(e,t){return m.createElement(ud,Tn({},e,{ref:t,sideCar:lD}))});dd.classNames=ud.classNames;var wp=["Enter"," "],cD=["ArrowDown","PageUp","Home"],Z_=["ArrowUp","PageDown","End"],uD=[...cD,...Z_],dD={ltr:[...wp,"ArrowRight"],rtl:[...wp,"ArrowLeft"]},fD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pl="Menu",[Oa,hD,pD]=Qu(pl),[Xs,eS]=fr(pl,[pD,yi,z_]),fd=yi(),tS=z_(),[mD,Qs]=Xs(pl),[gD,ml]=Xs(pl),nS=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=fd(t),[l,c]=m.useState(null),d=m.useRef(!1),f=kt(o),p=_g(s);return m.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),u.jsx(fg,{...a,children:u.jsx(mD,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(gD,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:r})})})};nS.displayName=pl;var vD="MenuAnchor",Eg=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=fd(n);return u.jsx(hg,{...s,...r,ref:t})});Eg.displayName=vD;var Cg="MenuPortal",[yD,rS]=Xs(Cg,{forceMount:void 0}),sS=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Qs(Cg,t);return u.jsx(yD,{scope:t,forceMount:n,children:u.jsx(Ln,{present:n||o.open,children:u.jsx(il,{asChild:!0,container:s,children:r})})})};sS.displayName=Cg;var Kt="MenuContent",[xD,Ng]=Xs(Kt),oS=m.forwardRef((e,t)=>{const n=rS(Kt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Qs(Kt,e.__scopeMenu),i=ml(Kt,e.__scopeMenu);return u.jsx(Oa.Provider,{scope:e.__scopeMenu,children:u.jsx(Ln,{present:r||o.open,children:u.jsx(Oa.Slot,{scope:e.__scopeMenu,children:i.modal?u.jsx(wD,{...s,ref:t}):u.jsx(bD,{...s,ref:t})})})})}),wD=m.forwardRef((e,t)=>{const n=Qs(Kt,e.__scopeMenu),r=m.useRef(null),s=we(t,r);return m.useEffect(()=>{const o=r.current;if(o)return kg(o)},[]),u.jsx(jg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bD=m.forwardRef((e,t)=>{const n=Qs(Kt,e.__scopeMenu);return u.jsx(jg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_D=Os("MenuContent.ScrollLock"),jg=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:b,...g}=e,w=Qs(Kt,n),y=ml(Kt,n),x=fd(n),v=tS(n),_=hD(n),[S,N]=m.useState(null),C=m.useRef(null),P=we(t,C,w.onContentChange),I=m.useRef(0),O=m.useRef(""),L=m.useRef(0),A=m.useRef(null),$=m.useRef("right"),k=m.useRef(0),T=b?dd:m.Fragment,j=b?{as:_D,allowPinchZoom:!0}:void 0,M=E=>{var U,W;const D=O.current+E,F=_().filter(J=>!J.disabled),z=document.activeElement,V=(U=F.find(J=>J.ref.current===z))==null?void 0:U.textValue,B=F.map(J=>J.textValue),K=ID(B,D,V),q=(W=F.find(J=>J.textValue===K))==null?void 0:W.ref.current;(function J(ee){O.current=ee,window.clearTimeout(I.current),ee!==""&&(I.current=window.setTimeout(()=>J(""),1e3))})(D),q&&setTimeout(()=>q.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),Sg();const R=m.useCallback(E=>{var F,z;return $.current===((F=A.current)==null?void 0:F.side)&&DD(E,(z=A.current)==null?void 0:z.area)},[]);return u.jsx(xD,{scope:n,searchRef:O,onItemEnter:m.useCallback(E=>{R(E)&&E.preventDefault()},[R]),onItemLeave:m.useCallback(E=>{var D;R(E)||((D=C.current)==null||D.focus(),N(null))},[R]),onTriggerLeave:m.useCallback(E=>{R(E)&&E.preventDefault()},[R]),pointerGraceTimerRef:L,onPointerGraceIntentChange:m.useCallback(E=>{A.current=E},[]),children:u.jsx(T,{...j,children:u.jsx(cd,{asChild:!0,trapped:s,onMountAutoFocus:Z(o,E=>{var D;E.preventDefault(),(D=C.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:u.jsx(pi,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:u.jsx(_O,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:Z(l,E=>{y.isUsingKeyboardRef.current||E.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(pg,{role:"menu","aria-orientation":"vertical","data-state":bS(w.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:Z(g.onKeyDown,E=>{const F=E.target.closest("[data-radix-menu-content]")===E.currentTarget,z=E.ctrlKey||E.altKey||E.metaKey,V=E.key.length===1;F&&(E.key==="Tab"&&E.preventDefault(),!z&&V&&M(E.key));const B=C.current;if(E.target!==B||!uD.includes(E.key))return;E.preventDefault();const q=_().filter(U=>!U.disabled).map(U=>U.ref.current);Z_.includes(E.key)&&q.reverse(),AD(q)}),onBlur:Z(e.onBlur,E=>{E.currentTarget.contains(E.target)||(window.clearTimeout(I.current),O.current="")}),onPointerMove:Z(e.onPointerMove,Da(E=>{const D=E.target,F=k.current!==E.clientX;if(E.currentTarget.contains(D)&&F){const z=E.clientX>k.current?"right":"left";$.current=z,k.current=E.clientX}}))})})})})})})});oS.displayName=Kt;var SD="MenuGroup",Pg=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(le.div,{role:"group",...r,ref:t})});Pg.displayName=SD;var kD="MenuLabel",iS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(le.div,{...r,ref:t})});iS.displayName=kD;var yu="MenuItem",dy="menu.itemSelect",hd=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=m.useRef(null),i=ml(yu,e.__scopeMenu),a=Ng(yu,e.__scopeMenu),l=we(t,o),c=m.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(dy,{bubbles:!0,cancelable:!0});f.addEventListener(dy,h=>r==null?void 0:r(h),{once:!0}),Km(f,p),p.defaultPrevented?c.current=!1:i.onClose()}};return u.jsx(aS,{...s,ref:l,disabled:n,onClick:Z(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),c.current=!0},onPointerUp:Z(e.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Z(e.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||wp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});hd.displayName=yu;var aS=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=Ng(yu,n),a=tS(n),l=m.useRef(null),c=we(t,l),[d,f]=m.useState(!1),[p,h]=m.useState("");return m.useEffect(()=>{const b=l.current;b&&h((b.textContent??"").trim())},[o.children]),u.jsx(Oa.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:u.jsx(SO,{asChild:!0,...a,focusable:!r,children:u.jsx(le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:Z(e.onPointerMove,Da(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(e.onPointerLeave,Da(b=>i.onItemLeave(b))),onFocus:Z(e.onFocus,()=>f(!0)),onBlur:Z(e.onBlur,()=>f(!1))})})})}),ED="MenuCheckboxItem",lS=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return u.jsx(hS,{scope:e.__scopeMenu,checked:n,children:u.jsx(hd,{role:"menuitemcheckbox","aria-checked":xu(n)?"mixed":n,...s,ref:t,"data-state":Rg(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(xu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lS.displayName=ED;var cS="MenuRadioGroup",[CD,ND]=Xs(cS,{value:void 0,onValueChange:()=>{}}),uS=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=kt(r);return u.jsx(CD,{scope:e.__scopeMenu,value:n,onValueChange:o,children:u.jsx(Pg,{...s,ref:t})})});uS.displayName=cS;var dS="MenuRadioItem",fS=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=ND(dS,e.__scopeMenu),o=n===s.value;return u.jsx(hS,{scope:e.__scopeMenu,checked:o,children:u.jsx(hd,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Rg(o),onSelect:Z(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});fS.displayName=dS;var Tg="MenuItemIndicator",[hS,jD]=Xs(Tg,{checked:!1}),pS=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=jD(Tg,n);return u.jsx(Ln,{present:r||xu(o.checked)||o.checked===!0,children:u.jsx(le.span,{...s,ref:t,"data-state":Rg(o.checked)})})});pS.displayName=Tg;var PD="MenuSeparator",mS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});mS.displayName=PD;var TD="MenuArrow",gS=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=fd(n);return u.jsx(mg,{...s,...r,ref:t})});gS.displayName=TD;var RD="MenuSub",[PH,vS]=Xs(RD),Wi="MenuSubTrigger",yS=m.forwardRef((e,t)=>{const n=Qs(Wi,e.__scopeMenu),r=ml(Wi,e.__scopeMenu),s=vS(Wi,e.__scopeMenu),o=Ng(Wi,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(Eg,{asChild:!0,...c,children:u.jsx(aS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":bS(n.open),...e,ref:Xu(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(e.onPointerMove,Da(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Z(e.onPointerLeave,Da(f=>{var h,b;d();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const g=(b=n.content)==null?void 0:b.dataset.side,w=g==="right",y=w?-5:5,x=p[w?"left":"right"],v=p[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:p.top},{x:v,y:p.top},{x:v,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Z(e.onKeyDown,f=>{var h;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||dD[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});yS.displayName=Wi;var xS="MenuSubContent",wS=m.forwardRef((e,t)=>{const n=rS(Kt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Qs(Kt,e.__scopeMenu),i=ml(Kt,e.__scopeMenu),a=vS(xS,e.__scopeMenu),l=m.useRef(null),c=we(t,l);return u.jsx(Oa.Provider,{scope:e.__scopeMenu,children:u.jsx(Ln,{present:r||o.open,children:u.jsx(Oa.Slot,{scope:e.__scopeMenu,children:u.jsx(jg,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Z(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Z(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),p=fD[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),d.preventDefault())})})})})})});wS.displayName=xS;function bS(e){return e?"open":"closed"}function xu(e){return e==="indeterminate"}function Rg(e){return xu(e)?"indeterminate":e?"checked":"unchecked"}function AD(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function MD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ID(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=MD(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function OD(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function DD(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return OD(n,t)}function Da(e){return t=>t.pointerType==="mouse"?e(t):void 0}var $D=nS,LD=Eg,FD=sS,zD=oS,UD=Pg,BD=iS,HD=hd,VD=lS,WD=uS,GD=fS,KD=pS,qD=mS,YD=gS,XD=yS,QD=wS,pd="DropdownMenu",[JD,TH]=fr(pd,[eS]),ht=eS(),[ZD,_S]=JD(pd),SS=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,l=ht(t),c=m.useRef(null),[d,f]=Ds({prop:s,defaultProp:o??!1,onChange:i,caller:pd});return u.jsx(ZD,{scope:t,triggerId:Mn(),triggerRef:c,contentId:Mn(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx($D,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};SS.displayName=pd;var kS="DropdownMenuTrigger",ES=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=_S(kS,n),i=ht(n);return u.jsx(LD,{asChild:!0,...i,children:u.jsx(le.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Xu(t,o.triggerRef),onPointerDown:Z(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Z(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});ES.displayName=kS;var e$="DropdownMenuPortal",CS=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ht(t);return u.jsx(FD,{...r,...n})};CS.displayName=e$;var NS="DropdownMenuContent",jS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=_S(NS,n),o=ht(n),i=m.useRef(!1);return u.jsx(zD,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Z(e.onCloseAutoFocus,a=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:Z(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jS.displayName=NS;var t$="DropdownMenuGroup",n$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(UD,{...s,...r,ref:t})});n$.displayName=t$;var r$="DropdownMenuLabel",PS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(BD,{...s,...r,ref:t})});PS.displayName=r$;var s$="DropdownMenuItem",TS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(HD,{...s,...r,ref:t})});TS.displayName=s$;var o$="DropdownMenuCheckboxItem",RS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(VD,{...s,...r,ref:t})});RS.displayName=o$;var i$="DropdownMenuRadioGroup",a$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(WD,{...s,...r,ref:t})});a$.displayName=i$;var l$="DropdownMenuRadioItem",AS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(GD,{...s,...r,ref:t})});AS.displayName=l$;var c$="DropdownMenuItemIndicator",MS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(KD,{...s,...r,ref:t})});MS.displayName=c$;var u$="DropdownMenuSeparator",IS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(qD,{...s,...r,ref:t})});IS.displayName=u$;var d$="DropdownMenuArrow",f$=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(YD,{...s,...r,ref:t})});f$.displayName=d$;var h$="DropdownMenuSubTrigger",OS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(XD,{...s,...r,ref:t})});OS.displayName=h$;var p$="DropdownMenuSubContent",DS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ht(n);return u.jsx(QD,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DS.displayName=p$;var m$=SS,g$=ES,v$=CS,$S=jS,LS=PS,FS=TS,zS=RS,US=AS,BS=MS,HS=IS,VS=OS,WS=DS;const y$=m$,x$=g$,w$=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>u.jsxs(VS,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(T1,{className:"ml-auto h-4 w-4"})]}));w$.displayName=VS.displayName;const b$=m.forwardRef(({className:e,...t},n)=>u.jsx(WS,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));b$.displayName=WS.displayName;const GS=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(v$,{children:u.jsx($S,{ref:r,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));GS.displayName=$S.displayName;const Oc=m.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(FS,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Oc.displayName=FS.displayName;const _$=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>u.jsxs(zS,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(BS,{children:u.jsx(j1,{className:"h-4 w-4"})})}),t]}));_$.displayName=zS.displayName;const S$=m.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(US,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(BS,{children:u.jsx(ET,{className:"h-2 w-2 fill-current"})})}),t]}));S$.displayName=US.displayName;const k$=m.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(LS,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));k$.displayName=LS.displayName;const E$=m.forwardRef(({className:e,...t},n)=>u.jsx(HS,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));E$.displayName=HS.displayName;function wu(){const{setTheme:e,theme:t}=W1();return u.jsxs(y$,{children:[u.jsx(x$,{asChild:!0,children:u.jsxs(_e,{variant:"outline",size:"icon",children:[t==="light"&&u.jsx($T,{className:"h-[1.2rem] w-[1.2rem]"}),t==="dark"&&u.jsx(TT,{className:"h-[1.2rem] w-[1.2rem]"}),t==="system"&&u.jsx(PT,{className:"h-[1.2rem] w-[1.2rem]"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),u.jsxs(GS,{align:"end",children:[u.jsx(Oc,{onClick:()=>e("light"),children:"Light"}),u.jsx(Oc,{onClick:()=>e("dark"),children:"Dark"}),u.jsx(Oc,{onClick:()=>e("system"),children:"System"})]})]})}const $a=m.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$a.displayName="Card";const md=m.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));md.displayName="CardHeader";const gd=m.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));gd.displayName="CardTitle";const C$=m.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));C$.displayName="CardDescription";const Ag=m.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));Ag.displayName="CardContent";const N$=m.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));N$.displayName="CardFooter";const sc=(e,t,n=1)=>{if(!t.find(a=>a.id===e))return[];const s=[],o=[{memberId:e,generation:n}],i=new Set;for(;o.length>0;){const{memberId:a,generation:l}=o.pop();if(i.has(a))continue;i.add(a);const c=t.find(d=>d.id===a);if(c){s.push({...c,generation:l});const d=t.filter(f=>{var p;return(p=f.parents)==null?void 0:p.includes(a)});for(const f of d)i.has(f.id)||o.push({memberId:f.id,generation:l+1})}}return s},j$=(e,t,n=1)=>{const r=[],s=new Map(t.map(c=>[c.id,c])),o=s.get(e);if(!o)return[];const i=[{member:o,generation:n}],a=new Set;let l=0;for(;l<i.length;){const{member:c,generation:d}=i[l++];a.has(c.id)||(r.push({...c,generation:d}),a.add(c.id),c.parents&&c.parents.forEach(f=>{const p=s.get(f);p&&!a.has(f)&&i.push({member:p,generation:d+1})}))}return r},KS=({focusedMemberId:e,members:t,onSelectMember:n,className:r=""})=>{if(!e)return u.jsx("div",{className:`h-6 ${r}`});if(!new Map(t.map(a=>[a.id,a])).get(e))return u.jsx("div",{className:`h-6 ${r}`});const i=j$(e,t,1).reverse();return u.jsx("nav",{"aria-label":"breadcrumb",className:`flex items-center space-x-1 text-sm text-muted-foreground ${r}`,children:i.map((a,l)=>u.jsxs(X.Fragment,{children:[l>0&&u.jsx(T1,{className:"w-4 h-4"}),u.jsx("button",{onClick:()=>n(a.id),className:`hover:underline ${a.id===e?"font-semibold text-primary":""}`,disabled:a.id===e,children:a.name})]},a.id))})},P$=({members:e,onMemberSelect:t,focusedMemberId:n,onResetFocus:r,viewMode:s,setViewMode:o,lineageDirection:i,setLineageDirection:a,isSidebarOpen:l,onToggleSidebar:c})=>u.jsxs($a,{className:"w-full h-full flex flex-col",children:[u.jsxs(md,{className:"pb-2 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx(gd,{className:"text-lg",children:"Family Tree Controls"}),u.jsx(_e,{variant:"ghost",size:"icon",onClick:c,className:"ml-auto",children:l?u.jsx(RT,{className:"h-5 w-5"}):u.jsx(AT,{className:"h-5 w-5"})})]}),n&&u.jsx(KS,{focusedMemberId:n,members:e,onSelectMember:t,className:"mb-2 pt-1"}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Focus Tools"}),n&&u.jsx(_e,{variant:"outline",size:"sm",onClick:r,children:"Reset Focus"})]}),u.jsxs("div",{className:"space-y-2 pt-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"View Mode"}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(_e,{onClick:()=>o("FullTree"),variant:s==="FullTree"?"secondary":"outline",size:"sm",className:"flex-1",children:"Full Tree"}),u.jsx(_e,{onClick:()=>o("PersonView"),variant:s==="PersonView"?"secondary":"outline",disabled:!n,size:"sm",className:"flex-1",children:"Person"}),u.jsx(_e,{onClick:()=>o("LineageView"),variant:s==="LineageView"?"secondary":"outline",disabled:!n,size:"sm",className:"flex-1",children:" Show My Entire Lineage"})]}),s==="LineageView"&&n&&u.jsxs("div",{className:"flex space-x-1 pt-1",children:[u.jsx(_e,{onClick:()=>a("Ancestors"),variant:i==="Ancestors"?"secondary":"outline",size:"xs",className:"flex-1",children:" Show Parents & Grandparents"}),u.jsx(_e,{onClick:()=>a("Descendants"),variant:i==="Descendants"?"secondary":"outline",size:"xs",className:"flex-1",children:" Show Children & Grandchildren"})]})]})]}),u.jsx("div",{className:"flex-grow p-4 text-sm text-muted-foreground",children:!n&&u.jsx("p",{children:"Select a member or search to see more options."})})]});function Be(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Be(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var T$={value:()=>{}};function vd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dc(n)}function Dc(e){this._=e}function R$(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dc.prototype=vd.prototype={constructor:Dc,on:function(e,t){var n=this._,r=R$(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=A$(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=fy(n[s],e.name,t);else if(t==null)for(s in n)n[s]=fy(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dc(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function A$(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function fy(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=T$,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var bp="http://www.w3.org/1999/xhtml";const hy={svg:"http://www.w3.org/2000/svg",xhtml:bp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yd(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hy.hasOwnProperty(t)?{space:hy[t],local:e}:e}function M$(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bp&&t.documentElement.namespaceURI===bp?t.createElement(e):t.createElementNS(n,e)}}function I$(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qS(e){var t=yd(e);return(t.local?I$:M$)(t)}function O$(){}function Mg(e){return e==null?O$:function(){return this.querySelector(e)}}function D$(e){typeof e!="function"&&(e=Mg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),l,c,d=0;d<i;++d)(l=o[d])&&(c=e.call(l,l.__data__,d,o))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Lt(r,this._parents)}function $$(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function L$(){return[]}function YS(e){return e==null?L$:function(){return this.querySelectorAll(e)}}function F$(e){return function(){return $$(e.apply(this,arguments))}}function z$(e){typeof e=="function"?e=F$(e):e=YS(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),s.push(l));return new Lt(r,s)}function XS(e){return function(){return this.matches(e)}}function QS(e){return function(t){return t.matches(e)}}var U$=Array.prototype.find;function B$(e){return function(){return U$.call(this.children,e)}}function H$(){return this.firstElementChild}function V$(e){return this.select(e==null?H$:B$(typeof e=="function"?e:QS(e)))}var W$=Array.prototype.filter;function G$(){return Array.from(this.children)}function K$(e){return function(){return W$.call(this.children,e)}}function q$(e){return this.selectAll(e==null?G$:K$(typeof e=="function"?e:QS(e)))}function Y$(e){typeof e!="function"&&(e=XS(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Lt(r,this._parents)}function JS(e){return new Array(e.length)}function X$(){return new Lt(this._enter||this._groups.map(JS),this._parents)}function bu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}bu.prototype={constructor:bu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Q$(e){return function(){return e}}function J$(e,t,n,r,s,o){for(var i=0,a,l=t.length,c=o.length;i<c;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new bu(e,o[i]);for(;i<l;++i)(a=t[i])&&(s[i]=a)}function Z$(e,t,n,r,s,o,i){var a,l,c=new Map,d=t.length,f=o.length,p=new Array(d),h;for(a=0;a<d;++a)(l=t[a])&&(p[a]=h=i.call(l,l.__data__,a,t)+"",c.has(h)?s[a]=l:c.set(h,l));for(a=0;a<f;++a)h=i.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new bu(e,o[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(p[a])===l&&(s[a]=l)}function eL(e){return e.__data__}function tL(e,t){if(!arguments.length)return Array.from(this,eL);var n=t?Z$:J$,r=this._parents,s=this._groups;typeof e!="function"&&(e=Q$(e));for(var o=s.length,i=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var d=r[c],f=s[c],p=f.length,h=nL(e.call(d,d&&d.__data__,c,r)),b=h.length,g=a[c]=new Array(b),w=i[c]=new Array(b),y=l[c]=new Array(p);n(d,f,g,w,y,h,t);for(var x=0,v=0,_,S;x<b;++x)if(_=g[x]){for(x>=v&&(v=x+1);!(S=w[v])&&++v<b;);_._next=S||null}}return i=new Lt(i,r),i._enter=a,i._exit=l,i}function nL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rL(){return new Lt(this._exit||this._groups.map(JS),this._parents)}function sL(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function oL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,i=Math.min(s,o),a=new Array(s),l=0;l<i;++l)for(var c=n[l],d=r[l],f=c.length,p=a[l]=new Array(f),h,b=0;b<f;++b)(h=c[b]||d[b])&&(p[b]=h);for(;l<s;++l)a[l]=n[l];return new Lt(a,this._parents)}function iL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function aL(e){e||(e=lL);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,l=s[o]=new Array(a),c,d=0;d<a;++d)(c=i[d])&&(l[d]=c);l.sort(t)}return new Lt(s,this._parents).order()}function lL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function uL(){return Array.from(this)}function dL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function fL(){let e=0;for(const t of this)++e;return e}function hL(){return!this.node()}function pL(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function mL(e){return function(){this.removeAttribute(e)}}function gL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vL(e,t){return function(){this.setAttribute(e,t)}}function yL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function wL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bL(e,t){var n=yd(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gL:mL:typeof t=="function"?n.local?wL:xL:n.local?yL:vL)(n,t))}function ZS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _L(e){return function(){this.style.removeProperty(e)}}function SL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function kL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function EL(e,t,n){return arguments.length>1?this.each((t==null?_L:typeof t=="function"?kL:SL)(e,t,n??"")):ti(this.node(),e)}function ti(e,t){return e.style.getPropertyValue(t)||ZS(e).getComputedStyle(e,null).getPropertyValue(t)}function CL(e){return function(){delete this[e]}}function NL(e,t){return function(){this[e]=t}}function jL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function PL(e,t){return arguments.length>1?this.each((t==null?CL:typeof t=="function"?jL:NL)(e,t)):this.node()[e]}function ek(e){return e.trim().split(/^|\s+/)}function Ig(e){return e.classList||new tk(e)}function tk(e){this._node=e,this._names=ek(e.getAttribute("class")||"")}tk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nk(e,t){for(var n=Ig(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function rk(e,t){for(var n=Ig(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function TL(e){return function(){nk(this,e)}}function RL(e){return function(){rk(this,e)}}function AL(e,t){return function(){(t.apply(this,arguments)?nk:rk)(this,e)}}function ML(e,t){var n=ek(e+"");if(arguments.length<2){for(var r=Ig(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?AL:t?TL:RL)(n,t))}function IL(){this.textContent=""}function OL(e){return function(){this.textContent=e}}function DL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $L(e){return arguments.length?this.each(e==null?IL:(typeof e=="function"?DL:OL)(e)):this.node().textContent}function LL(){this.innerHTML=""}function FL(e){return function(){this.innerHTML=e}}function zL(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function UL(e){return arguments.length?this.each(e==null?LL:(typeof e=="function"?zL:FL)(e)):this.node().innerHTML}function BL(){this.nextSibling&&this.parentNode.appendChild(this)}function HL(){return this.each(BL)}function VL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function WL(){return this.each(VL)}function GL(e){var t=typeof e=="function"?e:qS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function KL(){return null}function qL(e,t){var n=typeof e=="function"?e:qS(e),r=t==null?KL:typeof t=="function"?t:Mg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function YL(){var e=this.parentNode;e&&e.removeChild(this)}function XL(){return this.each(YL)}function QL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZL(e){return this.select(e?JL:QL)}function e4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function t4(e){return function(t){e.call(this,t,this.__data__)}}function n4(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function r4(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function s4(e,t,n){return function(){var r=this.__on,s,o=t4(t);if(r){for(var i=0,a=r.length;i<a;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function o4(e,t,n){var r=n4(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(s=0,d=a[l];s<o;++s)if((i=r[s]).type===d.type&&i.name===d.name)return d.value}return}for(a=t?s4:r4,s=0;s<o;++s)this.each(a(r[s],t,n));return this}function sk(e,t,n){var r=ZS(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function i4(e,t){return function(){return sk(this,e,t)}}function a4(e,t){return function(){return sk(this,e,t.apply(this,arguments))}}function l4(e,t){return this.each((typeof t=="function"?a4:i4)(e,t))}function*c4(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,i;s<o;++s)(i=r[s])&&(yield i)}var ok=[null];function Lt(e,t){this._groups=e,this._parents=t}function gl(){return new Lt([[document.documentElement]],ok)}function u4(){return this}Lt.prototype=gl.prototype={constructor:Lt,select:D$,selectAll:z$,selectChild:V$,selectChildren:q$,filter:Y$,data:tL,enter:X$,exit:rL,join:sL,merge:oL,selection:u4,order:iL,sort:aL,call:cL,nodes:uL,node:dL,size:fL,empty:hL,each:pL,attr:bL,style:EL,property:PL,classed:ML,text:$L,html:UL,raise:HL,lower:WL,append:GL,insert:qL,remove:XL,clone:ZL,datum:e4,on:o4,dispatch:l4,[Symbol.iterator]:c4};function Mt(e){return typeof e=="string"?new Lt([[document.querySelector(e)]],[document.documentElement]):new Lt([[e]],ok)}function d4(e){let t;for(;t=e.sourceEvent;)e=t;return e}function an(e,t){if(e=d4(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const f4={passive:!1},La={capture:!0,passive:!1};function Gf(e){e.stopImmediatePropagation()}function Mo(e){e.preventDefault(),e.stopImmediatePropagation()}function ik(e){var t=e.document.documentElement,n=Mt(e).on("dragstart.drag",Mo,La);"onselectstart"in t?n.on("selectstart.drag",Mo,La):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ak(e,t){var n=e.document.documentElement,r=Mt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Mo,La),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const oc=e=>()=>e;function _p(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:i,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}_p.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function h4(e){return!e.ctrlKey&&!e.button}function p4(){return this.parentNode}function m4(e,t){return t??{x:e.x,y:e.y}}function g4(){return navigator.maxTouchPoints||"ontouchstart"in this}function lk(){var e=h4,t=p4,n=m4,r=g4,s={},o=vd("start","drag","end"),i=0,a,l,c,d,f=0;function p(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",y,f4).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,S){if(!(d||!e.call(this,_,S))){var N=v(this,t.call(this,_,S),_,S,"mouse");N&&(Mt(_.view).on("mousemove.drag",b,La).on("mouseup.drag",g,La),ik(_.view),Gf(_),c=!1,a=_.clientX,l=_.clientY,N("start",_))}}function b(_){if(Mo(_),!c){var S=_.clientX-a,N=_.clientY-l;c=S*S+N*N>f}s.mouse("drag",_)}function g(_){Mt(_.view).on("mousemove.drag mouseup.drag",null),ak(_.view,c),Mo(_),s.mouse("end",_)}function w(_,S){if(e.call(this,_,S)){var N=_.changedTouches,C=t.call(this,_,S),P=N.length,I,O;for(I=0;I<P;++I)(O=v(this,C,_,S,N[I].identifier,N[I]))&&(Gf(_),O("start",_,N[I]))}}function y(_){var S=_.changedTouches,N=S.length,C,P;for(C=0;C<N;++C)(P=s[S[C].identifier])&&(Mo(_),P("drag",_,S[C]))}function x(_){var S=_.changedTouches,N=S.length,C,P;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<N;++C)(P=s[S[C].identifier])&&(Gf(_),P("end",_,S[C]))}function v(_,S,N,C,P,I){var O=o.copy(),L=an(I||N,S),A,$,k;if((k=n.call(_,new _p("beforestart",{sourceEvent:N,target:p,identifier:P,active:i,x:L[0],y:L[1],dx:0,dy:0,dispatch:O}),C))!=null)return A=k.x-L[0]||0,$=k.y-L[1]||0,function T(j,M,R){var E=L,D;switch(j){case"start":s[P]=T,D=i++;break;case"end":delete s[P],--i;case"drag":L=an(R||M,S),D=i;break}O.call(j,_,new _p(j,{sourceEvent:M,subject:k,target:p,identifier:P,active:D,x:L[0]+A,y:L[1]+$,dx:L[0]-E[0],dy:L[1]-E[1],dispatch:O}),C)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:oc(!!_),p):e},p.container=function(_){return arguments.length?(t=typeof _=="function"?_:oc(_),p):t},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:oc(_),p):n},p.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:oc(!!_),p):r},p.on=function(){var _=o.on.apply(o,arguments);return _===o?p:_},p.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,p):Math.sqrt(f)},p}function Og(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ck(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vl(){}var Fa=.7,_u=1/Fa,Io="\\s*([+-]?\\d+)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v4=/^#([0-9a-f]{3,8})$/,y4=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),x4=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),w4=new RegExp(`^rgba\\(${Io},${Io},${Io},${za}\\)$`),b4=new RegExp(`^rgba\\(${On},${On},${On},${za}\\)$`),_4=new RegExp(`^hsl\\(${za},${On},${On}\\)$`),S4=new RegExp(`^hsla\\(${za},${On},${On},${za}\\)$`),py={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Og(vl,Ua,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:my,formatHex:my,formatHex8:k4,formatHsl:E4,formatRgb:gy,toString:gy});function my(){return this.rgb().formatHex()}function k4(){return this.rgb().formatHex8()}function E4(){return uk(this).formatHsl()}function gy(){return this.rgb().formatRgb()}function Ua(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v4.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vy(t):n===3?new wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ic(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ic(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y4.exec(e))?new wt(t[1],t[2],t[3],1):(t=x4.exec(e))?new wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=w4.exec(e))?ic(t[1],t[2],t[3],t[4]):(t=b4.exec(e))?ic(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_4.exec(e))?wy(t[1],t[2]/100,t[3]/100,1):(t=S4.exec(e))?wy(t[1],t[2]/100,t[3]/100,t[4]):py.hasOwnProperty(e)?vy(py[e]):e==="transparent"?new wt(NaN,NaN,NaN,0):null}function vy(e){return new wt(e>>16&255,e>>8&255,e&255,1)}function ic(e,t,n,r){return r<=0&&(e=t=n=NaN),new wt(e,t,n,r)}function C4(e){return e instanceof vl||(e=Ua(e)),e?(e=e.rgb(),new wt(e.r,e.g,e.b,e.opacity)):new wt}function Sp(e,t,n,r){return arguments.length===1?C4(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Og(wt,Sp,ck(vl,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wt(Ns(this.r),Ns(this.g),Ns(this.b),Su(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yy,formatHex:yy,formatHex8:N4,formatRgb:xy,toString:xy}));function yy(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}`}function N4(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}${ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function xy(){const e=Su(this.opacity);return`${e===1?"rgb(":"rgba("}${Ns(this.r)}, ${Ns(this.g)}, ${Ns(this.b)}${e===1?")":`, ${e})`}`}function Su(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ns(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ys(e){return e=Ns(e),(e<16?"0":"")+e.toString(16)}function wy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new un(e,t,n,r)}function uk(e){if(e instanceof un)return new un(e.h,e.s,e.l,e.opacity);if(e instanceof vl||(e=Ua(e)),!e)return new un;if(e instanceof un)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,l=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=l<.5?o+s:2-o-s,i*=60):a=l>0&&l<1?0:i,new un(i,a,l,e.opacity)}function j4(e,t,n,r){return arguments.length===1?uk(e):new un(e,t,n,r??1)}function un(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Og(un,j4,ck(vl,{brighter(e){return e=e==null?_u:Math.pow(_u,e),new un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new wt(Kf(e>=240?e-240:e+120,s,r),Kf(e,s,r),Kf(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new un(by(this.h),ac(this.s),ac(this.l),Su(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Su(this.opacity);return`${e===1?"hsl(":"hsla("}${by(this.h)}, ${ac(this.s)*100}%, ${ac(this.l)*100}%${e===1?")":`, ${e})`}`}}));function by(e){return e=(e||0)%360,e<0?e+360:e}function ac(e){return Math.max(0,Math.min(1,e||0))}function Kf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dk=e=>()=>e;function P4(e,t){return function(n){return e+n*t}}function T4(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function R4(e){return(e=+e)==1?fk:function(t,n){return n-t?T4(t,n,e):dk(isNaN(t)?n:t)}}function fk(e,t){var n=t-e;return n?P4(e,n):dk(isNaN(e)?t:e)}const _y=function e(t){var n=R4(t);function r(s,o){var i=n((s=Sp(s)).r,(o=Sp(o)).r),a=n(s.g,o.g),l=n(s.b,o.b),c=fk(s.opacity,o.opacity);return function(d){return s.r=i(d),s.g=a(d),s.b=l(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function Tr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var kp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qf=new RegExp(kp.source,"g");function A4(e){return function(){return e}}function M4(e){return function(t){return e(t)+""}}function I4(e,t){var n=kp.lastIndex=qf.lastIndex=0,r,s,o,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=kp.exec(e))&&(s=qf.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,l.push({i,x:Tr(r,s)})),n=qf.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?l[0]?M4(l[0].x):A4(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}var Sy=180/Math.PI,Ep={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hk(e,t,n,r,s,o){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*Sy,skewX:Math.atan(l)*Sy,scaleX:i,scaleY:a}}var lc;function O4(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ep:hk(t.a,t.b,t.c,t.d,t.e,t.f)}function D4(e){return e==null||(lc||(lc=document.createElementNS("http://www.w3.org/2000/svg","g")),lc.setAttribute("transform",e),!(e=lc.transform.baseVal.consolidate()))?Ep:(e=e.matrix,hk(e.a,e.b,e.c,e.d,e.e,e.f))}function pk(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function o(c,d,f,p,h,b){if(c!==f||d!==p){var g=h.push("translate(",null,t,null,n);b.push({i:g-4,x:Tr(c,f)},{i:g-2,x:Tr(d,p)})}else(f||p)&&h.push("translate("+f+t+p+n)}function i(c,d,f,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Tr(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(c,d,f,p){c!==d?p.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Tr(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function l(c,d,f,p,h,b){if(c!==f||d!==p){var g=h.push(s(h)+"scale(",null,",",null,")");b.push({i:g-4,x:Tr(c,f)},{i:g-2,x:Tr(d,p)})}else(f!==1||p!==1)&&h.push(s(h)+"scale("+f+","+p+")")}return function(c,d){var f=[],p=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,f,p),i(c.rotate,d.rotate,f,p),a(c.skewX,d.skewX,f,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,p),c=d=null,function(h){for(var b=-1,g=p.length,w;++b<g;)f[(w=p[b]).i]=w.x(h);return f.join("")}}}var $4=pk(O4,"px, ","px)","deg)"),L4=pk(D4,", ",")",")"),F4=1e-12;function ky(e){return((e=Math.exp(e))+1/e)/2}function z4(e){return((e=Math.exp(e))-1/e)/2}function U4(e){return((e=Math.exp(2*e))-1)/(e+1)}const B4=function e(t,n,r){function s(o,i){var a=o[0],l=o[1],c=o[2],d=i[0],f=i[1],p=i[2],h=d-a,b=f-l,g=h*h+b*b,w,y;if(g<F4)y=Math.log(p/c)/t,w=function(C){return[a+C*h,l+C*b,c*Math.exp(t*C*y)]};else{var x=Math.sqrt(g),v=(p*p-c*c+r*g)/(2*c*n*x),_=(p*p-c*c-r*g)/(2*p*n*x),S=Math.log(Math.sqrt(v*v+1)-v),N=Math.log(Math.sqrt(_*_+1)-_);y=(N-S)/t,w=function(C){var P=C*y,I=ky(S),O=c/(n*x)*(I*U4(t*P+S)-z4(S));return[a+O*h,l+O*b,c*I/ky(t*P+S)]}}return w.duration=y*1e3*t/Math.SQRT2,w}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,l=a*a;return e(i,a,l)},s}(Math.SQRT2,2,4);var ni=0,Gi=0,Di=0,mk=1e3,ku,Ki,Eu=0,Fs=0,xd=0,Ba=typeof performance=="object"&&performance.now?performance:Date,gk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Dg(){return Fs||(gk(H4),Fs=Ba.now()+xd)}function H4(){Fs=0}function Cu(){this._call=this._time=this._next=null}Cu.prototype=vk.prototype={constructor:Cu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Dg():+n)+(t==null?0:+t),!this._next&&Ki!==this&&(Ki?Ki._next=this:ku=this,Ki=this),this._call=e,this._time=n,Cp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cp())}};function vk(e,t,n){var r=new Cu;return r.restart(e,t,n),r}function V4(){Dg(),++ni;for(var e=ku,t;e;)(t=Fs-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ni}function Ey(){Fs=(Eu=Ba.now())+xd,ni=Gi=0;try{V4()}finally{ni=0,G4(),Fs=0}}function W4(){var e=Ba.now(),t=e-Eu;t>mk&&(xd-=t,Eu=e)}function G4(){for(var e,t=ku,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ku=n);Ki=e,Cp(r)}function Cp(e){if(!ni){Gi&&(Gi=clearTimeout(Gi));var t=e-Fs;t>24?(e<1/0&&(Gi=setTimeout(Ey,e-Ba.now()-xd)),Di&&(Di=clearInterval(Di))):(Di||(Eu=Ba.now(),Di=setInterval(W4,mk)),ni=1,gk(Ey))}}function Cy(e,t,n){var r=new Cu;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var K4=vd("start","end","cancel","interrupt"),q4=[],yk=0,Ny=1,Np=2,$c=3,jy=4,jp=5,Lc=6;function wd(e,t,n,r,s,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Y4(e,n,{name:t,index:r,group:s,on:K4,tween:q4,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yk})}function $g(e,t){var n=vn(e,t);if(n.state>yk)throw new Error("too late; already scheduled");return n}function zn(e,t){var n=vn(e,t);if(n.state>$c)throw new Error("too late; already running");return n}function vn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Y4(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=vk(o,0,n.time);function o(c){n.state=Ny,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var d,f,p,h;if(n.state!==Ny)return l();for(d in r)if(h=r[d],h.name===n.name){if(h.state===$c)return Cy(i);h.state===jy?(h.state=Lc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[d]):+d<t&&(h.state=Lc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[d])}if(Cy(function(){n.state===$c&&(n.state=jy,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Np,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Np){for(n.state=$c,s=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(h=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=h);s.length=f+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=jp,1),f=-1,p=s.length;++f<p;)s[f].call(e,d);n.state===jp&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Lc,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Fc(e,t){var n=e.__transition,r,s,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}s=r.state>Np&&r.state<jp,r.state=Lc,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function X4(e){return this.each(function(){Fc(this,e)})}function Q4(e,t){var n,r;return function(){var s=zn(this,e),o=s.tween;if(o!==n){r=n=o;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function J4(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=zn(this,e),i=o.tween;if(i!==r){s=(r=i).slice();for(var a={name:t,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}o.tween=s}}function Z4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=vn(this.node(),n).tween,s=0,o=r.length,i;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((t==null?Q4:J4)(n,e,t))}function Lg(e,t,n){var r=e._id;return e.each(function(){var s=zn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return vn(s,r).value[t]}}function xk(e,t){var n;return(typeof t=="number"?Tr:t instanceof Ua?_y:(n=Ua(t))?(t=n,_y):I4)(e,t)}function e3(e){return function(){this.removeAttribute(e)}}function t3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n3(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function r3(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function s3(e,t,n){var r,s,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a)))}}function o3(e,t,n){var r,s,o;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a)))}}function i3(e,t){var n=yd(e),r=n==="transform"?L4:xk;return this.attrTween(e,typeof t=="function"?(n.local?o3:s3)(n,r,Lg(this,"attr."+e,t)):t==null?(n.local?t3:e3)(n):(n.local?r3:n3)(n,r,t))}function a3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function l3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function c3(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&l3(e,o)),n}return s._value=t,s}function u3(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&a3(e,o)),n}return s._value=t,s}function d3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yd(e);return this.tween(n,(r.local?c3:u3)(r,t))}function f3(e,t){return function(){$g(this,e).delay=+t.apply(this,arguments)}}function h3(e,t){return t=+t,function(){$g(this,e).delay=t}}function p3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?f3:h3)(t,e)):vn(this.node(),t).delay}function m3(e,t){return function(){zn(this,e).duration=+t.apply(this,arguments)}}function g3(e,t){return t=+t,function(){zn(this,e).duration=t}}function v3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m3:g3)(t,e)):vn(this.node(),t).duration}function y3(e,t){if(typeof t!="function")throw new Error;return function(){zn(this,e).ease=t}}function x3(e){var t=this._id;return arguments.length?this.each(y3(t,e)):vn(this.node(),t).ease}function w3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zn(this,e).ease=n}}function b3(e){if(typeof e!="function")throw new Error;return this.each(w3(this._id,e))}function _3(e){typeof e!="function"&&(e=XS(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ur(r,this._parents,this._name,this._id)}function S3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],d=l.length,f=i[a]=new Array(d),p,h=0;h<d;++h)(p=l[h]||c[h])&&(f[h]=p);for(;a<r;++a)i[a]=t[a];return new ur(i,this._parents,this._name,this._id)}function k3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function E3(e,t,n){var r,s,o=k3(t)?$g:zn;return function(){var i=o(this,e),a=i.on;a!==r&&(s=(r=a).copy()).on(t,n),i.on=s}}function C3(e,t){var n=this._id;return arguments.length<2?vn(this.node(),n).on.on(e):this.each(E3(n,e,t))}function N3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function j3(){return this.on("end.remove",N3(this._id))}function P3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mg(e));for(var r=this._groups,s=r.length,o=new Array(s),i=0;i<s;++i)for(var a=r[i],l=a.length,c=o[i]=new Array(l),d,f,p=0;p<l;++p)(d=a[p])&&(f=e.call(d,d.__data__,p,a))&&("__data__"in d&&(f.__data__=d.__data__),c[p]=f,wd(c[p],t,n,p,c,vn(d,n)));return new ur(o,this._parents,t,n)}function T3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=YS(e));for(var r=this._groups,s=r.length,o=[],i=[],a=0;a<s;++a)for(var l=r[a],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var p=e.call(d,d.__data__,f,l),h,b=vn(d,n),g=0,w=p.length;g<w;++g)(h=p[g])&&wd(h,t,n,g,p,b);o.push(p),i.push(d)}return new ur(o,i,t,n)}var R3=gl.prototype.constructor;function A3(){return new R3(this._groups,this._parents)}function M3(e,t){var n,r,s;return function(){var o=ti(this,e),i=(this.style.removeProperty(e),ti(this,e));return o===i?null:o===n&&i===r?s:s=t(n=o,r=i)}}function wk(e){return function(){this.style.removeProperty(e)}}function I3(e,t,n){var r,s=n+"",o;return function(){var i=ti(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}function O3(e,t,n){var r,s,o;return function(){var i=ti(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),ti(this,e))),i===l?null:i===r&&l===s?o:(s=l,o=t(r=i,a))}}function D3(e,t){var n,r,s,o="style."+t,i="end."+o,a;return function(){var l=zn(this,e),c=l.on,d=l.value[o]==null?a||(a=wk(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(i,s=d),l.on=r}}function $3(e,t,n){var r=(e+="")=="transform"?$4:xk;return t==null?this.styleTween(e,M3(e,r)).on("end.style."+e,wk(e)):typeof t=="function"?this.styleTween(e,O3(e,r,Lg(this,"style."+e,t))).each(D3(this._id,e)):this.styleTween(e,I3(e,r,t),n).on("end.style."+e,null)}function L3(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function F3(e,t,n){var r,s;function o(){var i=t.apply(this,arguments);return i!==s&&(r=(s=i)&&L3(e,i,n)),r}return o._value=t,o}function z3(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,F3(e,t,n??""))}function U3(e){return function(){this.textContent=e}}function B3(e){return function(){var t=e(this);this.textContent=t??""}}function H3(e){return this.tween("text",typeof e=="function"?B3(Lg(this,"text",e)):U3(e==null?"":e+""))}function V3(e){return function(t){this.textContent=e.call(this,t)}}function W3(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&V3(s)),t}return r._value=e,r}function G3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,W3(e))}function K3(){for(var e=this._name,t=this._id,n=bk(),r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var d=vn(l,t);wd(l,e,n,c,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ur(r,this._parents,e,n)}function q3(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,i){var a={value:i},l={value:function(){--s===0&&o()}};n.each(function(){var c=zn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&o()})}var Y3=0;function ur(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bk(){return++Y3}var Wn=gl.prototype;ur.prototype={constructor:ur,select:P3,selectAll:T3,selectChild:Wn.selectChild,selectChildren:Wn.selectChildren,filter:_3,merge:S3,selection:A3,transition:K3,call:Wn.call,nodes:Wn.nodes,node:Wn.node,size:Wn.size,empty:Wn.empty,each:Wn.each,on:C3,attr:i3,attrTween:d3,style:$3,styleTween:z3,text:H3,textTween:G3,remove:j3,tween:Z4,delay:p3,duration:v3,ease:x3,easeVarying:b3,end:q3,[Symbol.iterator]:Wn[Symbol.iterator]};function X3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Q3={time:null,delay:0,duration:250,ease:X3};function J3(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Z3(e){var t,n;e instanceof ur?(t=e._id,e=e._name):(t=bk(),(n=Q3).time=Dg(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,l,c=0;c<a;++c)(l=i[c])&&wd(l,e,t,c,i,n||J3(l,t));return new ur(r,this._parents,e,t)}gl.prototype.interrupt=X4;gl.prototype.transition=Z3;const cc=e=>()=>e;function e5(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Zn(e,t,n){this.k=e,this.x=t,this.y=n}Zn.prototype={constructor:Zn,scale:function(e){return e===1?this:new Zn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bd=new Zn(1,0,0);_k.prototype=Zn.prototype;function _k(e){for(;!e.__zoom;)if(!(e=e.parentNode))return bd;return e.__zoom}function Yf(e){e.stopImmediatePropagation()}function $i(e){e.preventDefault(),e.stopImmediatePropagation()}function t5(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function n5(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Py(){return this.__zoom||bd}function r5(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function s5(){return navigator.maxTouchPoints||"ontouchstart"in this}function o5(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function Sk(){var e=t5,t=n5,n=o5,r=r5,s=s5,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=B4,c=vd("start","zoom","end"),d,f,p,h=500,b=150,g=0,w=10;function y(k){k.property("__zoom",Py).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(k,T,j,M){var R=k.selection?k.selection():k;R.property("__zoom",Py),k!==R?S(k,T,j,M):R.interrupt().each(function(){N(this,arguments).event(M).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},y.scaleBy=function(k,T,j,M){y.scaleTo(k,function(){var R=this.__zoom.k,E=typeof T=="function"?T.apply(this,arguments):T;return R*E},j,M)},y.scaleTo=function(k,T,j,M){y.transform(k,function(){var R=t.apply(this,arguments),E=this.__zoom,D=j==null?_(R):typeof j=="function"?j.apply(this,arguments):j,F=E.invert(D),z=typeof T=="function"?T.apply(this,arguments):T;return n(v(x(E,z),D,F),R,i)},j,M)},y.translateBy=function(k,T,j,M){y.transform(k,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,M)},y.translateTo=function(k,T,j,M,R){y.transform(k,function(){var E=t.apply(this,arguments),D=this.__zoom,F=M==null?_(E):typeof M=="function"?M.apply(this,arguments):M;return n(bd.translate(F[0],F[1]).scale(D.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof j=="function"?-j.apply(this,arguments):-j),E,i)},M,R)};function x(k,T){return T=Math.max(o[0],Math.min(o[1],T)),T===k.k?k:new Zn(T,k.x,k.y)}function v(k,T,j){var M=T[0]-j[0]*k.k,R=T[1]-j[1]*k.k;return M===k.x&&R===k.y?k:new Zn(k.k,M,R)}function _(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function S(k,T,j,M){k.on("start.zoom",function(){N(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(M).end()}).tween("zoom",function(){var R=this,E=arguments,D=N(R,E).event(M),F=t.apply(R,E),z=j==null?_(F):typeof j=="function"?j.apply(R,E):j,V=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),B=R.__zoom,K=typeof T=="function"?T.apply(R,E):T,q=l(B.invert(z).concat(V/B.k),K.invert(z).concat(V/K.k));return function(U){if(U===1)U=K;else{var W=q(U),J=V/W[2];U=new Zn(J,z[0]-W[0]*J,z[1]-W[1]*J)}D.zoom(null,U)}})}function N(k,T,j){return!j&&k.__zooming||new C(k,T)}function C(k,T){this.that=k,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,T),this.taps=0}C.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,T){return this.mouse&&k!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var T=Mt(this.that).datum();c.call(k,this.that,new e5(k,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),T)}};function P(k,...T){if(!e.apply(this,arguments))return;var j=N(this,T).event(k),M=this.__zoom,R=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),E=an(k);if(j.wheel)(j.mouse[0][0]!==E[0]||j.mouse[0][1]!==E[1])&&(j.mouse[1]=M.invert(j.mouse[0]=E)),clearTimeout(j.wheel);else{if(M.k===R)return;j.mouse=[E,M.invert(E)],Fc(this),j.start()}$i(k),j.wheel=setTimeout(D,b),j.zoom("mouse",n(v(x(M,R),j.mouse[0],j.mouse[1]),j.extent,i));function D(){j.wheel=null,j.end()}}function I(k,...T){if(p||!e.apply(this,arguments))return;var j=k.currentTarget,M=N(this,T,!0).event(k),R=Mt(k.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",V,!0),E=an(k,j),D=k.clientX,F=k.clientY;ik(k.view),Yf(k),M.mouse=[E,this.__zoom.invert(E)],Fc(this),M.start();function z(B){if($i(B),!M.moved){var K=B.clientX-D,q=B.clientY-F;M.moved=K*K+q*q>g}M.event(B).zoom("mouse",n(v(M.that.__zoom,M.mouse[0]=an(B,j),M.mouse[1]),M.extent,i))}function V(B){R.on("mousemove.zoom mouseup.zoom",null),ak(B.view,M.moved),$i(B),M.event(B).end()}}function O(k,...T){if(e.apply(this,arguments)){var j=this.__zoom,M=an(k.changedTouches?k.changedTouches[0]:k,this),R=j.invert(M),E=j.k*(k.shiftKey?.5:2),D=n(v(x(j,E),M,R),t.apply(this,T),i);$i(k),a>0?Mt(this).transition().duration(a).call(S,D,M,k):Mt(this).call(y.transform,D,M,k)}}function L(k,...T){if(e.apply(this,arguments)){var j=k.touches,M=j.length,R=N(this,T,k.changedTouches.length===M).event(k),E,D,F,z;for(Yf(k),D=0;D<M;++D)F=j[D],z=an(F,this),z=[z,this.__zoom.invert(z),F.identifier],R.touch0?!R.touch1&&R.touch0[2]!==z[2]&&(R.touch1=z,R.taps=0):(R.touch0=z,E=!0,R.taps=1+!!d);d&&(d=clearTimeout(d)),E&&(R.taps<2&&(f=z[0],d=setTimeout(function(){d=null},h)),Fc(this),R.start())}}function A(k,...T){if(this.__zooming){var j=N(this,T).event(k),M=k.changedTouches,R=M.length,E,D,F,z;for($i(k),E=0;E<R;++E)D=M[E],F=an(D,this),j.touch0&&j.touch0[2]===D.identifier?j.touch0[0]=F:j.touch1&&j.touch1[2]===D.identifier&&(j.touch1[0]=F);if(D=j.that.__zoom,j.touch1){var V=j.touch0[0],B=j.touch0[1],K=j.touch1[0],q=j.touch1[1],U=(U=K[0]-V[0])*U+(U=K[1]-V[1])*U,W=(W=q[0]-B[0])*W+(W=q[1]-B[1])*W;D=x(D,Math.sqrt(U/W)),F=[(V[0]+K[0])/2,(V[1]+K[1])/2],z=[(B[0]+q[0])/2,(B[1]+q[1])/2]}else if(j.touch0)F=j.touch0[0],z=j.touch0[1];else return;j.zoom("touch",n(v(D,F,z),j.extent,i))}}function $(k,...T){if(this.__zooming){var j=N(this,T).event(k),M=k.changedTouches,R=M.length,E,D;for(Yf(k),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),E=0;E<R;++E)D=M[E],j.touch0&&j.touch0[2]===D.identifier?delete j.touch0:j.touch1&&j.touch1[2]===D.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(D=an(D,this),Math.hypot(f[0]-D[0],f[1]-D[1])<w)){var F=Mt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:cc(+k),y):r},y.filter=function(k){return arguments.length?(e=typeof k=="function"?k:cc(!!k),y):e},y.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:cc(!!k),y):s},y.extent=function(k){return arguments.length?(t=typeof k=="function"?k:cc([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),y):t},y.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],y):[o[0],o[1]]},y.translateExtent=function(k){return arguments.length?(i[0][0]=+k[0][0],i[1][0]=+k[1][0],i[0][1]=+k[0][1],i[1][1]=+k[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(k){return arguments.length?(n=k,y):n},y.duration=function(k){return arguments.length?(a=+k,y):a},y.interpolate=function(k){return arguments.length?(l=k,y):l},y.on=function(){var k=c.on.apply(c,arguments);return k===c?y:k},y.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,y):Math.sqrt(g)},y.tapDistance=function(k){return arguments.length?(w=+k,y):w},y}const $n={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ha=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],kk=["Enter"," ","Escape"];var ri;(function(e){e.Strict="strict",e.Loose="loose"})(ri||(ri={}));var js;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(js||(js={}));var Va;(function(e){e.Partial="partial",e.Full="full"})(Va||(Va={}));const Ek={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ir;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ir||(Ir={}));var Wa;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Wa||(Wa={}));var ne;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ne||(ne={}));const Ty={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top};function Ck(e){return e===null?null:e?"valid":"invalid"}const Nk=e=>"id"in e&&"source"in e&&"target"in e,i5=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Fg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),yl=(e,t=[0,0])=>{const{width:n,height:r}=hr(e),s=e.origin??t,o=n*s[0],i=r*s[1];return{x:e.position.x-o,y:e.position.y-i}},a5=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const o=typeof s=="string";let i=!t.nodeLookup&&!o?s:void 0;t.nodeLookup&&(i=o?t.nodeLookup.get(s):Fg(s)?s:t.nodeLookup.get(s.id));const a=i?Nu(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return _d(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sd(n)},xl=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const s=Nu(r);n=_d(n,s)}}),Sd(n)},jk=(e,t,[n,r,s]=[0,0,1],o=!1,i=!1)=>{const a={...wl(t,[n,r,s]),width:t.width/s,height:t.height/s},l=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:p=!1}=c;if(i&&!f||p)continue;const h=d.width??c.width??c.initialWidth??null,b=d.height??c.height??c.initialHeight??null,g=Ga(a,oi(c)),w=(h??0)*(b??0),y=o&&g>0;(!c.internals.handleBounds||y||g>=w||c.dragging)&&l.push(c)}return l},l5=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function c5(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function u5({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:o},i){if(e.size===0)return Promise.resolve(!0);const a=c5(e,i),l=xl(a),c=zg(l,t,n,(i==null?void 0:i.minZoom)??s,(i==null?void 0:i.maxZoom)??o,(i==null?void 0:i.padding)??.1);return await r.setViewport(c,{duration:i==null?void 0:i.duration}),Promise.resolve(!0)}function Pk({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:o}){const i=n.get(e),a=i.parentId?n.get(i.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=i.origin??r;let f=s;if(i.extent==="parent"&&!i.expandParent)if(!a)o==null||o("005",$n.error005());else{const h=a.measured.width,b=a.measured.height;h&&b&&(f=[[l,c],[l+h,c+b]])}else a&&ii(i.extent)&&(f=[[i.extent[0][0]+l,i.extent[0][1]+c],[i.extent[1][0]+l,i.extent[1][1]+c]]);const p=ii(f)?zs(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(o==null||o("015",$n.error015())),{position:{x:p.x-l+(i.measured.width??0)*d[0],y:p.y-c+(i.measured.height??0)*d[1]},positionAbsolute:p}}async function d5({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const o=new Set(e.map(p=>p.id)),i=[];for(const p of n){if(p.deletable===!1)continue;const h=o.has(p.id),b=!h&&p.parentId&&i.find(g=>g.id===p.parentId);(h||b)&&i.push(p)}const a=new Set(t.map(p=>p.id)),l=r.filter(p=>p.deletable!==!1),d=l5(i,l);for(const p of l)a.has(p.id)&&!d.find(b=>b.id===p.id)&&d.push(p);if(!s)return{edges:d,nodes:i};const f=await s({nodes:i,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:i}:{edges:[],nodes:[]}:f}const si=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),zs=(e={x:0,y:0},t,n)=>({x:si(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:si(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Tk(e,t,n){const{width:r,height:s}=hr(n),{x:o,y:i}=n.internals.positionAbsolute;return zs(e,[[o,i],[o+r,i+s]],t)}const Ry=(e,t,n)=>e<t?si(Math.abs(e-t),1,t)/t:e>n?-si(Math.abs(e-n),1,t)/t:0,Rk=(e,t,n=15,r=40)=>{const s=Ry(e.x,r,t.width-r)*n,o=Ry(e.y,r,t.height-r)*n;return[s,o]},_d=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Pp=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Sd=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),oi=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=Fg(e)?e.internals.positionAbsolute:yl(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Nu=(e,t=[0,0])=>{var s,o;const{x:n,y:r}=Fg(e)?e.internals.positionAbsolute:yl(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},Ak=(e,t)=>Sd(_d(Pp(e),Pp(t))),Ga=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Ay=e=>dn(e.width)&&dn(e.height)&&dn(e.x)&&dn(e.y),dn=e=>!isNaN(e)&&isFinite(e),f5=(e,t)=>{},kd=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),wl=({x:e,y:t},[n,r,s],o=!1,i=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return o?kd(a,i):a},ju=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function so(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function h5(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=so(e,n),s=so(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=so(e.top??e.y??0,n),s=so(e.bottom??e.y??0,n),o=so(e.left??e.x??0,t),i=so(e.right??e.x??0,t);return{top:r,right:i,bottom:s,left:o,x:o+i,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function p5(e,t,n,r,s,o){const{x:i,y:a}=ju(e,[t,n,r]),{x:l,y:c}=ju({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-l,f=o-c;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(f)}}const zg=(e,t,n,r,s,o)=>{const i=h5(o,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,c=Math.min(a,l),d=si(c,r,s),f=e.x+e.width/2,p=e.y+e.height/2,h=t/2-f*d,b=n/2-p*d,g=p5(e,h,b,d,t,n),w={left:Math.min(g.left-i.left,0),top:Math.min(g.top-i.top,0),right:Math.min(g.right-i.right,0),bottom:Math.min(g.bottom-i.bottom,0)};return{x:h-w.left+w.right,y:b-w.top+w.bottom,zoom:d}},Pu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ii(e){return e!==void 0&&e!=="parent"}function hr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Mk(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ik(e,t={width:0,height:0},n,r,s){const o={...e},i=r.get(n);if(i){const a=i.origin||s;o.x+=i.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=i.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function My(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function m5(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function ia(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:o,y:i}=nr(e),a=wl({x:o-((s==null?void 0:s.left)??0),y:i-((s==null?void 0:s.top)??0)},r),{x:l,y:c}=n?kd(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const Ug=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ok=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},g5=["INPUT","SELECT","TEXTAREA"];function Dk(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:g5.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const $k=e=>"clientX"in e,nr=(e,t)=>{var o,i;const n=$k(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Iy=(e,t,n,r,s)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Ug(i)}})};function Lk({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:a}){const l=e*.125+s*.375+i*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,d=Math.abs(l-e),f=Math.abs(c-t);return[l,c,d,f]}function uc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Oy({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case ne.Left:return[t-uc(t-r,o),n];case ne.Right:return[t+uc(r-t,o),n];case ne.Top:return[t,n-uc(n-s,o)];case ne.Bottom:return[t,n+uc(s-n,o)]}}function Fk({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:s,targetPosition:o=ne.Top,curvature:i=.25}){const[a,l]=Oy({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}),[c,d]=Oy({pos:o,x1:r,y1:s,x2:e,y2:t,c:i}),[f,p,h,b]=Lk({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${l} ${c},${d} ${r},${s}`,f,p,h,b]}function zk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[o,a,s,i]}function v5({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1}){if(!s)return r;const o=n||t.selected||e.selected,i=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(o?i:0)}function y5({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const o=_d(Nu(e),Nu(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const i={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return Ga(i,Sd(o))>0}const x5=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,w5=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Uk=(e,t)=>{if(!e.source||!e.target)return t;let n;return Nk(e)?n={...e}:n={...e,id:x5(e)},w5(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Bk({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,i,a]=zk({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,i,a]}const Dy={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}},b5=({source:e,sourcePosition:t=ne.Bottom,target:n})=>t===ne.Left||t===ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},$y=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _5({source:e,sourcePosition:t=ne.Bottom,target:n,targetPosition:r=ne.Top,center:s,offset:o}){const i=Dy[t],a=Dy[r],l={x:e.x+i.x*o,y:e.y+i.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},d=b5({source:l,sourcePosition:t,target:c}),f=d.x!==0?"x":"y",p=d[f];let h=[],b,g;const w={x:0,y:0},y={x:0,y:0},[x,v,_,S]=zk({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*a[f]===-1){b=s.x??x,g=s.y??v;const C=[{x:b,y:l.y},{x:b,y:c.y}],P=[{x:l.x,y:g},{x:c.x,y:g}];i[f]===p?h=f==="x"?C:P:h=f==="x"?P:C}else{const C=[{x:l.x,y:c.y}],P=[{x:c.x,y:l.y}];if(f==="x"?h=i.x===p?P:C:h=i.y===p?C:P,t===r){const $=Math.abs(e[f]-n[f]);if($<=o){const k=Math.min(o-1,o-$);i[f]===p?w[f]=(l[f]>e[f]?-1:1)*k:y[f]=(c[f]>n[f]?-1:1)*k}}if(t!==r){const $=f==="x"?"y":"x",k=i[f]===a[$],T=l[$]>c[$],j=l[$]<c[$];(i[f]===1&&(!k&&T||k&&j)||i[f]!==1&&(!k&&j||k&&T))&&(h=f==="x"?C:P)}const I={x:l.x+w.x,y:l.y+w.y},O={x:c.x+y.x,y:c.y+y.y},L=Math.max(Math.abs(I.x-h[0].x),Math.abs(O.x-h[0].x)),A=Math.max(Math.abs(I.y-h[0].y),Math.abs(O.y-h[0].y));L>=A?(b=(I.x+O.x)/2,g=h[0].y):(b=h[0].x,g=(I.y+O.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:c.x+y.x,y:c.y+y.y},n],b,g,_,S]}function S5(e,t,n,r){const s=Math.min($y(e,t)/2,$y(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+s*c},${i}Q ${o},${i} ${o},${i+s*d}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${i+s*l}Q ${o},${i} ${o+s*a},${i}`}function Tp({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:s,targetPosition:o=ne.Top,borderRadius:i=5,centerX:a,centerY:l,offset:c=20}){const[d,f,p,h,b]=_5({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:a,y:l},offset:c});return[d.reduce((w,y,x)=>{let v="";return x>0&&x<d.length-1?v=S5(d[x-1],y,d[x+1],i):v=`${x===0?"M":"L"}${y.x} ${y.y}`,w+=v,w},""),f,p,h,b]}function Ly(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function k5(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Ly(t)||!Ly(n))return null;const r=t.internals.handleBounds||Fy(t.handles),s=n.internals.handleBounds||Fy(n.handles),o=zy((r==null?void 0:r.source)??[],e.sourceHandle),i=zy(e.connectionMode===ri.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!o||!i)return(f=e.onError)==null||f.call(e,"008",$n.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||ne.Bottom,l=(i==null?void 0:i.position)||ne.Top,c=Ka(t,o,a),d=Ka(n,i,l);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function Fy(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ka(e,t,n=ne.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:a}=t??hr(e);if(r)return{x:s+i/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case ne.Top:return{x:s+i/2,y:o};case ne.Right:return{x:s+i,y:o+a/2};case ne.Bottom:return{x:s+i/2,y:o+a};case ne.Left:return{x:s,y:o+a/2}}}function zy(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Rp(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function E5(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const o=new Set;return e.reduce((i,a)=>([a.markerStart||r,a.markerEnd||s].forEach(l=>{if(l&&typeof l=="object"){const c=Rp(l,t);o.has(c)||(i.push({id:c,color:l.color||n,...l}),o.add(c))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))}const Bg={nodeOrigin:[0,0],nodeExtent:Ha,elevateNodesOnSelect:!0,defaults:{}},C5={...Bg,checkEquality:!0};function Hg(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function N5(e,t,n){const r=Hg(Bg,n);for(const s of e.values())if(s.parentId)Vg(s,e,t,r);else{const o=yl(s,r.nodeOrigin),i=ii(s.extent)?s.extent:r.nodeExtent,a=zs(o,i,hr(s));s.internals.positionAbsolute=a}}function Ap(e,t,n,r){var l,c;const s=Hg(C5,r);let o=e.length>0;const i=new Map(t),a=s!=null&&s.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const d of e){let f=i.get(d.id);if(s.checkEquality&&d===(f==null?void 0:f.internals.userNode))t.set(d.id,f);else{const p=yl(d,s.nodeOrigin),h=ii(d.extent)?d.extent:s.nodeExtent,b=zs(p,h,hr(d));f={...s.defaults,...d,measured:{width:(l=d.measured)==null?void 0:l.width,height:(c=d.measured)==null?void 0:c.height},internals:{positionAbsolute:b,handleBounds:d.measured?f==null?void 0:f.internals.handleBounds:void 0,z:Hk(d,a),userNode:d}},t.set(d.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),d.parentId&&Vg(f,t,n,r)}return o}function j5(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Vg(e,t,n,r){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:i}=Hg(Bg,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}j5(e,n);const c=s?1e3:0,{x:d,y:f,z:p}=P5(e,l,o,i,c),{positionAbsolute:h}=e.internals,b=d!==h.x||f!==h.y;(b||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:d,y:f}:h,z:p}})}function Hk(e,t){return(dn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function P5(e,t,n,r,s){const{x:o,y:i}=t.internals.positionAbsolute,a=hr(e),l=yl(e,n),c=ii(e.extent)?zs(l,e.extent,a):l;let d=zs({x:o+c.x,y:i+c.y},r,a);e.extent==="parent"&&(d=Tk(d,a,t));const f=Hk(e,s),p=t.internals.z??0;return{x:d.x,y:d.y,z:p>f?p:f}}function Wg(e,t,n,r=[0,0]){var i;const s=[],o=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const c=((i=o.get(a.parentId))==null?void 0:i.expandedRect)??oi(l),d=Ak(c,a.rect);o.set(a.parentId,{expandedRect:d,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},c)=>{var v;const d=l.internals.positionAbsolute,f=hr(l),p=l.origin??r,h=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,b=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,g=Math.max(f.width,Math.round(a.width)),w=Math.max(f.height,Math.round(a.height)),y=(g-f.width)*p[0],x=(w-f.height)*p[1];(h>0||b>0||y||x)&&(s.push({id:c,type:"position",position:{x:l.position.x-h+y,y:l.position.y-b+x}}),(v=n.get(c))==null||v.forEach(_=>{e.some(S=>S.id===_.id)||s.push({id:_.id,type:"position",position:{x:_.position.x+h,y:_.position.y+b}})})),(f.width<a.width||f.height<a.height||h||b)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?p[0]*h-y:0),height:w+(b?p[1]*b-x:0)}})}),s}function T5(e,t,n,r,s,o){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!i)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(i),{m22:d}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const p of e.values()){const h=t.get(p.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const b=Ug(p.nodeElement),g=h.measured.width!==b.width||h.measured.height!==b.height;if(!!(b.width&&b.height&&(g||!h.internals.handleBounds||p.force))){const y=p.nodeElement.getBoundingClientRect(),x=ii(h.extent)?h.extent:o;let{positionAbsolute:v}=h.internals;h.parentId&&h.extent==="parent"?v=Tk(v,b,t.get(h.parentId)):x&&(v=zs(v,x,b));const _={...h,measured:b,internals:{...h.internals,positionAbsolute:v,handleBounds:{source:Iy("source",p.nodeElement,y,d,h.id),target:Iy("target",p.nodeElement,y,d,h.id)}}};t.set(h.id,_),h.parentId&&Vg(_,t,n,{nodeOrigin:s}),a=!0,g&&(l.push({id:h.id,type:"dimensions",dimensions:b}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:oi(_,s)}))}}if(f.length>0){const p=Wg(f,t,n,s);l.push(...p)}return{changes:l,updatedInternals:a}}async function R5({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,o]],r),a=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(a)}function Uy(e,t,n,r,s,o){let i=s;const a=r.get(i)||new Map;r.set(i,a.set(n,t)),i=`${s}-${e}`;const l=r.get(i)||new Map;if(r.set(i,l.set(n,t)),o){i=`${s}-${e}-${o}`;const c=r.get(i)||new Map;r.set(i,c.set(n,t))}}function Vk(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:o,sourceHandle:i=null,targetHandle:a=null}=r,l={edgeId:r.id,source:s,target:o,sourceHandle:i,targetHandle:a},c=`${s}-${i}--${o}-${a}`,d=`${o}-${a}--${s}-${i}`;Uy("source",l,d,e,s,i),Uy("target",l,c,e,o,a),t.set(r.id,r)}}function Wk(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Wk(n,t):!1}function By(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function A5(e,t,n,r){const s=new Map;for(const[o,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!Wk(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const a=e.get(o);a&&s.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function Xf({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,a,l;const s=[];for(const[c,d]of t){const f=(i=n.get(c))==null?void 0:i.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!e)return[s[0],s];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:s[0],s]}function M5({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let o={x:null,y:null},i=0,a=new Map,l=!1,c={x:0,y:0},d=null,f=!1,p=null,h=!1;function b({noDragClassName:w,handleSelector:y,domNode:x,isSelectable:v,nodeId:_,nodeClickDistance:S=0}){p=Mt(x);function N({x:O,y:L},A){const{nodeLookup:$,nodeExtent:k,snapGrid:T,snapToGrid:j,nodeOrigin:M,onNodeDrag:R,onSelectionDrag:E,onError:D,updateNodePositions:F}=t();o={x:O,y:L};let z=!1,V={x:0,y:0,x2:0,y2:0};if(a.size>1&&k){const B=xl(a);V=Pp(B)}for(const[B,K]of a){if(!$.has(B))continue;let q={x:O-K.distance.x,y:L-K.distance.y};j&&(q=kd(q,T));let U=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];if(a.size>1&&k&&!K.extent){const{positionAbsolute:ee}=K.internals,Q=ee.x-V.x+k[0][0],H=ee.x+K.measured.width-V.x2+k[1][0],re=ee.y-V.y+k[0][1],se=ee.y+K.measured.height-V.y2+k[1][1];U=[[Q,re],[H,se]]}const{position:W,positionAbsolute:J}=Pk({nodeId:B,nextPosition:q,nodeLookup:$,nodeExtent:U,nodeOrigin:M,onError:D});z=z||K.position.x!==W.x||K.position.y!==W.y,K.position=W,K.internals.positionAbsolute=J}if(z&&(F(a,!0),A&&(r||R||!_&&E))){const[B,K]=Xf({nodeId:_,dragItems:a,nodeLookup:$});r==null||r(A,a,B,K),R==null||R(A,B,K),_||E==null||E(A,K)}}async function C(){if(!d)return;const{transform:O,panBy:L,autoPanSpeed:A,autoPanOnNodeDrag:$}=t();if(!$){l=!1,cancelAnimationFrame(i);return}const[k,T]=Rk(c,d,A);(k!==0||T!==0)&&(o.x=(o.x??0)-k/O[2],o.y=(o.y??0)-T/O[2],await L({x:k,y:T})&&N(o,null)),i=requestAnimationFrame(C)}function P(O){var z;const{nodeLookup:L,multiSelectionActive:A,nodesDraggable:$,transform:k,snapGrid:T,snapToGrid:j,selectNodesOnDrag:M,onNodeDragStart:R,onSelectionDragStart:E,unselectNodesAndEdges:D}=t();f=!0,(!M||!v)&&!A&&_&&((z=L.get(_))!=null&&z.selected||D()),v&&M&&_&&(e==null||e(_));const F=ia(O.sourceEvent,{transform:k,snapGrid:T,snapToGrid:j,containerBounds:d});if(o=F,a=A5(L,$,F,_),a.size>0&&(n||R||!_&&E)){const[V,B]=Xf({nodeId:_,dragItems:a,nodeLookup:L});n==null||n(O.sourceEvent,a,V,B),R==null||R(O.sourceEvent,V,B),_||E==null||E(O.sourceEvent,B)}}const I=lk().clickDistance(S).on("start",O=>{const{domNode:L,nodeDragThreshold:A,transform:$,snapGrid:k,snapToGrid:T}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,h=!1,A===0&&P(O),o=ia(O.sourceEvent,{transform:$,snapGrid:k,snapToGrid:T,containerBounds:d}),c=nr(O.sourceEvent,d)}).on("drag",O=>{const{autoPanOnNodeDrag:L,transform:A,snapGrid:$,snapToGrid:k,nodeDragThreshold:T,nodeLookup:j}=t(),M=ia(O.sourceEvent,{transform:A,snapGrid:$,snapToGrid:k,containerBounds:d});if((O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||_&&!j.has(_))&&(h=!0),!h){if(!l&&L&&f&&(l=!0,C()),!f){const R=M.xSnapped-(o.x??0),E=M.ySnapped-(o.y??0);Math.sqrt(R*R+E*E)>T&&P(O)}(o.x!==M.xSnapped||o.y!==M.ySnapped)&&a&&f&&(c=nr(O.sourceEvent,d),N(M,O.sourceEvent))}}).on("end",O=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(i),a.size>0)){const{nodeLookup:L,updateNodePositions:A,onNodeDragStop:$,onSelectionDragStop:k}=t();if(A(a,!1),s||$||!_&&k){const[T,j]=Xf({nodeId:_,dragItems:a,nodeLookup:L,dragging:!1});s==null||s(O.sourceEvent,a,T,j),$==null||$(O.sourceEvent,T,j),_||k==null||k(O.sourceEvent,j)}}}).filter(O=>{const L=O.target;return!O.button&&(!w||!By(L,`.${w}`,x))&&(!y||By(L,y,x))});p.call(I)}function g(){p==null||p.on(".drag",null)}return{update:b,destroy:g}}function I5(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Ga(s,oi(o))>0&&r.push(o);return r}const O5=250;function D5(e,t,n,r){var a,l;let s=[],o=1/0;const i=I5(e,n,t+O5);for(const c of i){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:h}=Ka(c,f,f.position,!0),b=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(h-e.y,2));b>t||(b<o?(s=[{...f,x:p,y:h}],o=b):b===o&&s.push({...f,x:p,y:h}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(d=>d.type===c)??s[0]}return s[0]}function Gk(e,t,n,r,s,o=!1){var c,d,f;const i=r.get(e);if(!i)return null;const a=s==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((d=i.internals.handleBounds)==null?void 0:d.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...Ka(i,l,l.position,!0)}:l}function Kk(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function $5(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const qk=()=>!0;function L5(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:o,isTarget:i,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:d,flowId:f,panBy:p,cancelConnection:h,onConnectStart:b,onConnect:g,onConnectEnd:w,isValidConnection:y=qk,onReconnectEnd:x,updateConnection:v,getTransform:_,getFromHandle:S,autoPanSpeed:N}){const C=Ok(e.target);let P=0,I;const{x:O,y:L}=nr(e),A=C==null?void 0:C.elementFromPoint(O,L),$=Kk(o,A),k=a==null?void 0:a.getBoundingClientRect();if(!k||!$)return;const T=Gk(s,$,r,l,t);if(!T)return;let j=nr(e,k),M=!1,R=null,E=!1,D=null;function F(){if(!d||!k)return;const[J,ee]=Rk(j,k,N);p({x:J,y:ee}),P=requestAnimationFrame(F)}const z={...T,nodeId:s,type:$,position:T.position},V=l.get(s),K={inProgress:!0,isValid:null,from:Ka(V,z,ne.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:V,to:j,toHandle:null,toPosition:Ty[z.position],toNode:null};v(K);let q=K;b==null||b(e,{nodeId:s,handleId:r,handleType:$});function U(J){if(!S()||!z){W(J);return}const ee=_();j=nr(J,k),I=D5(wl(j,ee,!1,[1,1]),n,l,z),M||(F(),M=!0);const Q=Yk(J,{handle:I,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:i?"target":"source",isValidConnection:y,doc:C,lib:c,flowId:f,nodeLookup:l});D=Q.handleDomNode,R=Q.connection,E=$5(!!I,Q.isValid);const H={...q,isValid:E,to:Q.toHandle&&E?ju({x:Q.toHandle.x,y:Q.toHandle.y},ee):j,toHandle:Q.toHandle,toPosition:E&&Q.toHandle?Q.toHandle.position:Ty[z.position],toNode:Q.toHandle?l.get(Q.toHandle.nodeId):null};E&&I&&q.toHandle&&H.toHandle&&q.toHandle.type===H.toHandle.type&&q.toHandle.nodeId===H.toHandle.nodeId&&q.toHandle.id===H.toHandle.id&&q.to.x===H.to.x&&q.to.y===H.to.y||(v(H),q=H)}function W(J){(I||D)&&R&&E&&(g==null||g(R));const{inProgress:ee,...Q}=q,H={...Q,toPosition:q.toHandle?q.toPosition:null};w==null||w(J,H),o&&(x==null||x(J,H)),h(),cancelAnimationFrame(P),M=!1,E=!1,R=null,D=null,C.removeEventListener("mousemove",U),C.removeEventListener("mouseup",W),C.removeEventListener("touchmove",U),C.removeEventListener("touchend",W)}C.addEventListener("mousemove",U),C.addEventListener("mouseup",W),C.addEventListener("touchmove",U),C.addEventListener("touchend",W)}function Yk(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:o,doc:i,lib:a,flowId:l,isValidConnection:c=qk,nodeLookup:d}){const f=o==="target",p=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:b}=nr(e),g=i.elementFromPoint(h,b),w=g!=null&&g.classList.contains(`${a}-flow__handle`)?g:p,y={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const x=Kk(void 0,w),v=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),S=w.classList.contains("connectable"),N=w.classList.contains("connectableend");if(!v||!x)return y;const C={source:f?v:r,sourceHandle:f?_:s,target:f?r:v,targetHandle:f?s:_};y.connection=C;const I=S&&N&&(n===ri.Strict?f&&x==="source"||!f&&x==="target":v!==r||_!==s);y.isValid=I&&c(C),y.toHandle=Gk(v,x,_,d,n,!0)}return y}const Mp={onPointerDown:L5,isValid:Yk};function F5({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Mt(e);function o({translateExtent:a,width:l,height:c,zoomStep:d=10,pannable:f=!0,zoomable:p=!0,inversePan:h=!1}){const b=v=>{const _=n();if(v.sourceEvent.type!=="wheel"||!t)return;const S=-v.sourceEvent.deltaY*(v.sourceEvent.deltaMode===1?.05:v.sourceEvent.deltaMode?1:.002)*d,N=_[2]*Math.pow(2,S);t.scaleTo(N)};let g=[0,0];const w=v=>{(v.sourceEvent.type==="mousedown"||v.sourceEvent.type==="touchstart")&&(g=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY])},y=v=>{const _=n();if(v.sourceEvent.type!=="mousemove"&&v.sourceEvent.type!=="touchmove"||!t)return;const S=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY],N=[S[0]-g[0],S[1]-g[1]];g=S;const C=r()*Math.max(_[2],Math.log(_[2]))*(h?-1:1),P={x:_[0]-N[0]*C,y:_[1]-N[1]*C},I=[[0,0],[l,c]];t.setViewportConstrained({x:P.x,y:P.y,zoom:_[2]},I,a)},x=Sk().on("start",w).on("zoom",f?y:null).on("zoom.wheel",p?b:null);s.call(x,{})}function i(){s.on("zoom",null)}return{update:o,destroy:i,pointer:an}}const z5=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ed=e=>({x:e.x,y:e.y,zoom:e.k}),Qf=({x:e,y:t,zoom:n})=>bd.translate(e,t).scale(n),_o=(e,t)=>e.target.closest(`.${t}`),Xk=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Jf=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Qk=e=>{const t=e.ctrlKey&&Pu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function U5({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:o,zoomOnPinch:i,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return d=>{if(_o(d,t))return!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&i){const w=an(d),y=Qk(d),x=f*Math.pow(2,y);r.scaleTo(n,x,w,d);return}const p=d.deltaMode===1?20:1;let h=s===js.Vertical?0:d.deltaX*p,b=s===js.Horizontal?0:d.deltaY*p;!Pu()&&d.shiftKey&&s!==js.Vertical&&(h=d.deltaY*p,b=0),r.translateBy(n,-(h/f)*o,-(b/f)*o,{internal:!0});const g=Ed(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(d,g)),e.isPanScrolling&&(l==null||l(d,g),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,g),e.isPanScrolling=!1},150))}}function B5({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const o=r.type==="wheel",i=!t&&o&&!r.ctrlKey,a=_o(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),i||a)return null;r.preventDefault(),n.call(this,r,s)}}function H5({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,i,a;if((o=r.sourceEvent)!=null&&o.internal)return;const s=Ed(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function V5({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return o=>{var i,a;e.usedRightMouseButton=!!(n&&Xk(t,e.mouseButton??0)),(i=o.sourceEvent)!=null&&i.sync||r([o.transform.x,o.transform.y,o.transform.k]),s&&!((a=o.sourceEvent)!=null&&a.internal)&&(s==null||s(o.sourceEvent,Ed(o.transform)))}}function W5({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:o}){return i=>{var a;if(!((a=i.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Xk(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&o(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),s&&z5(e.prevViewport,i.transform))){const l=Ed(i.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(i.sourceEvent,l)},n?150:0)}}}function G5({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:o,userSelectionActive:i,noWheelClassName:a,noPanClassName:l,lib:c}){return d=>{var b;const f=e||t,p=n&&d.ctrlKey;if(d.button===1&&d.type==="mousedown"&&(_o(d,`${c}-flow__node`)||_o(d,`${c}-flow__edge`)))return!0;if(!r&&!f&&!s&&!o&&!n||i||_o(d,a)&&d.type==="wheel"||_o(d,l)&&(d.type!=="wheel"||s&&d.type==="wheel"&&!e)||!n&&d.ctrlKey&&d.type==="wheel")return!1;if(!n&&d.type==="touchstart"&&((b=d.touches)==null?void 0:b.length)>1)return d.preventDefault(),!1;if(!f&&!s&&!p&&d.type==="wheel"||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||d.type==="wheel")&&h}}function K5({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:s,viewport:o,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),p=Sk().clickDistance(!dn(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(s),h=Mt(e).call(p);v({x:o.x,y:o.y,zoom:si(o.zoom,t,n)},[[0,0],[f.width,f.height]],s);const b=h.on("wheel.zoom"),g=h.on("dblclick.zoom");p.wheelDelta(Qk);function w(A,$){return h?new Promise(k=>{p==null||p.transform(Jf(h,$==null?void 0:$.duration,()=>k(!0)),A)}):Promise.resolve(!1)}function y({noWheelClassName:A,noPanClassName:$,onPaneContextMenu:k,userSelectionActive:T,panOnScroll:j,panOnDrag:M,panOnScrollMode:R,panOnScrollSpeed:E,preventScrolling:D,zoomOnPinch:F,zoomOnScroll:z,zoomOnDoubleClick:V,zoomActivationKeyPressed:B,lib:K,onTransformChange:q}){T&&!d.isZoomingOrPanning&&x();const W=j&&!B&&!T?U5({zoomPanValues:d,noWheelClassName:A,d3Selection:h,d3Zoom:p,panOnScrollMode:R,panOnScrollSpeed:E,zoomOnPinch:F,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:l}):B5({noWheelClassName:A,preventScrolling:D,d3ZoomHandler:b});if(h.on("wheel.zoom",W,{passive:!1}),!T){const ee=H5({zoomPanValues:d,onDraggingChange:c,onPanZoomStart:a});p.on("start",ee);const Q=V5({zoomPanValues:d,panOnDrag:M,onPaneContextMenu:!!k,onPanZoom:i,onTransformChange:q});p.on("zoom",Q);const H=W5({zoomPanValues:d,panOnDrag:M,panOnScroll:j,onPaneContextMenu:k,onPanZoomEnd:l,onDraggingChange:c});p.on("end",H)}const J=G5({zoomActivationKeyPressed:B,panOnDrag:M,zoomOnScroll:z,panOnScroll:j,zoomOnDoubleClick:V,zoomOnPinch:F,userSelectionActive:T,noPanClassName:$,noWheelClassName:A,lib:K});p.filter(J),V?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)}function x(){p.on("zoom",null)}async function v(A,$,k){const T=Qf(A),j=p==null?void 0:p.constrain()(T,$,k);return j&&await w(j),new Promise(M=>M(j))}async function _(A,$){const k=Qf(A);return await w(k,$),new Promise(T=>T(k))}function S(A){if(h){const $=Qf(A),k=h.property("__zoom");(k.k!==A.zoom||k.x!==A.x||k.y!==A.y)&&(p==null||p.transform(h,$,null,{sync:!0}))}}function N(){const A=h?_k(h.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function C(A,$){return h?new Promise(k=>{p==null||p.scaleTo(Jf(h,$==null?void 0:$.duration,()=>k(!0)),A)}):Promise.resolve(!1)}function P(A,$){return h?new Promise(k=>{p==null||p.scaleBy(Jf(h,$==null?void 0:$.duration,()=>k(!0)),A)}):Promise.resolve(!1)}function I(A){p==null||p.scaleExtent(A)}function O(A){p==null||p.translateExtent(A)}function L(A){const $=!dn(A)||A<0?0:A;p==null||p.clickDistance($)}return{update:y,destroy:x,setViewport:_,setViewportConstrained:v,getViewport:N,scaleTo:C,scaleBy:P,setScaleExtent:I,setTranslateExtent:O,syncViewport:S,setClickDistance:L}}var aa;(function(e){e.Line="line",e.Handle="handle"})(aa||(aa={}));function q5({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:o}){const i=e-t,a=n-r,l=[i>0?1:i<0?-1:0,a>0?1:a<0?-1:0];return i&&s&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function Y5(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function _r(e,t){return Math.max(0,t-e)}function Sr(e,t){return Math.max(0,e-t)}function dc(e,t,n){return Math.max(0,t-e,e-n)}function Hy(e,t){return e?!t:t}function X5(e,t,n,r,s,o,i,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,p=d&&f,{xSnapped:h,ySnapped:b}=n,{minWidth:g,maxWidth:w,minHeight:y,maxHeight:x}=r,{x:v,y:_,width:S,height:N,aspectRatio:C}=e;let P=Math.floor(d?h-e.pointerX:0),I=Math.floor(f?b-e.pointerY:0);const O=S+(l?-P:P),L=N+(c?-I:I),A=-o[0]*S,$=-o[1]*N;let k=dc(O,g,w),T=dc(L,y,x);if(i){let R=0,E=0;l&&P<0?R=_r(v+P+A,i[0][0]):!l&&P>0&&(R=Sr(v+O+A,i[1][0])),c&&I<0?E=_r(_+I+$,i[0][1]):!c&&I>0&&(E=Sr(_+L+$,i[1][1])),k=Math.max(k,R),T=Math.max(T,E)}if(a){let R=0,E=0;l&&P>0?R=Sr(v+P,a[0][0]):!l&&P<0&&(R=_r(v+O,a[1][0])),c&&I>0?E=Sr(_+I,a[0][1]):!c&&I<0&&(E=_r(_+L,a[1][1])),k=Math.max(k,R),T=Math.max(T,E)}if(s){if(d){const R=dc(O/C,y,x)*C;if(k=Math.max(k,R),i){let E=0;!l&&!c||l&&!c&&p?E=Sr(_+$+O/C,i[1][1])*C:E=_r(_+$+(l?P:-P)/C,i[0][1])*C,k=Math.max(k,E)}if(a){let E=0;!l&&!c||l&&!c&&p?E=_r(_+O/C,a[1][1])*C:E=Sr(_+(l?P:-P)/C,a[0][1])*C,k=Math.max(k,E)}}if(f){const R=dc(L*C,g,w)/C;if(T=Math.max(T,R),i){let E=0;!l&&!c||c&&!l&&p?E=Sr(v+L*C+A,i[1][0])/C:E=_r(v+(c?I:-I)*C+A,i[0][0])/C,T=Math.max(T,E)}if(a){let E=0;!l&&!c||c&&!l&&p?E=_r(v+L*C,a[1][0])/C:E=Sr(v+(c?I:-I)*C,a[0][0])/C,T=Math.max(T,E)}}}I=I+(I<0?T:-T),P=P+(P<0?k:-k),s&&(p?O>L*C?I=(Hy(l,c)?-P:P)/C:P=(Hy(l,c)?-I:I)*C:d?(I=P/C,c=l):(P=I*C,l=c));const j=l?v+P:v,M=c?_+I:_;return{width:S+(l?-P:P),height:N+(c?-I:I),x:o[0]*P*(l?-1:1)+j,y:o[1]*I*(c?-1:1)+M}}const Jk={width:0,height:0,x:0,y:0},Q5={...Jk,pointerX:0,pointerY:0,aspectRatio:1};function J5(e){return[[0,0],[e.measured.width,e.measured.height]]}function Z5(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,o=e.measured.width??0,i=e.measured.height??0,a=n[0]*o,l=n[1]*i;return[[r-a,s-l],[r+o-a,s+i-l]]}function eF({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const o=Mt(e);function i({controlPosition:l,boundaries:c,keepAspectRatio:d,resizeDirection:f,onResizeStart:p,onResize:h,onResizeEnd:b,shouldResize:g}){let w={...Jk},y={...Q5};const x=Y5(l);let v,_=null,S=[],N,C,P;const I=lk().on("start",O=>{const{nodeLookup:L,transform:A,snapGrid:$,snapToGrid:k,nodeOrigin:T,paneDomNode:j}=n();if(v=L.get(t),!v)return;_=(j==null?void 0:j.getBoundingClientRect())??null;const{xSnapped:M,ySnapped:R}=ia(O.sourceEvent,{transform:A,snapGrid:$,snapToGrid:k,containerBounds:_});w={width:v.measured.width??0,height:v.measured.height??0,x:v.position.x??0,y:v.position.y??0},y={...w,pointerX:M,pointerY:R,aspectRatio:w.width/w.height},N=void 0,v.parentId&&(v.extent==="parent"||v.expandParent)&&(N=L.get(v.parentId),C=N&&v.extent==="parent"?J5(N):void 0),S=[],P=void 0;for(const[E,D]of L)if(D.parentId===t&&(S.push({id:E,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const F=Z5(D,v,D.origin??T);P?P=[[Math.min(F[0][0],P[0][0]),Math.min(F[0][1],P[0][1])],[Math.max(F[1][0],P[1][0]),Math.max(F[1][1],P[1][1])]]:P=F}p==null||p(O,{...w})}).on("drag",O=>{const{transform:L,snapGrid:A,snapToGrid:$,nodeOrigin:k}=n(),T=ia(O.sourceEvent,{transform:L,snapGrid:A,snapToGrid:$,containerBounds:_}),j=[];if(!v)return;const{x:M,y:R,width:E,height:D}=w,F={},z=v.origin??k,{width:V,height:B,x:K,y:q}=X5(y,x,T,c,d,z,C,P),U=V!==E,W=B!==D,J=K!==M&&U,ee=q!==R&&W;if(!J&&!ee&&!U&&!W)return;if((J||ee||z[0]===1||z[1]===1)&&(F.x=J?K:w.x,F.y=ee?q:w.y,w.x=F.x,w.y=F.y,S.length>0)){const se=K-M,ye=q-R;for(const he of S)he.position={x:he.position.x-se+z[0]*(V-E),y:he.position.y-ye+z[1]*(B-D)},j.push(he)}if((U||W)&&(F.width=U&&(!f||f==="horizontal")?V:w.width,F.height=W&&(!f||f==="vertical")?B:w.height,w.width=F.width,w.height=F.height),N&&v.expandParent){const se=z[0]*(F.width??0);F.x&&F.x<se&&(w.x=se,y.x=y.x-(F.x-se));const ye=z[1]*(F.height??0);F.y&&F.y<ye&&(w.y=ye,y.y=y.y-(F.y-ye))}const Q=q5({width:w.width,prevWidth:E,height:w.height,prevHeight:D,affectsX:x.affectsX,affectsY:x.affectsY}),H={...w,direction:Q};(g==null?void 0:g(O,H))!==!1&&(h==null||h(O,H),r(F,j))}).on("end",O=>{b==null||b(O,{...w}),s==null||s({...w})});o.call(I)}function a(){o.on(".drag",null)}return{update:i,destroy:a}}var Zk={exports:{}},eE={},tE={exports:{}},nE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=m;function tF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nF=typeof Object.is=="function"?Object.is:tF,rF=ai.useState,sF=ai.useEffect,oF=ai.useLayoutEffect,iF=ai.useDebugValue;function aF(e,t){var n=t(),r=rF({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return oF(function(){s.value=n,s.getSnapshot=t,Zf(s)&&o({inst:s})},[e,n,t]),sF(function(){return Zf(s)&&o({inst:s}),e(function(){Zf(s)&&o({inst:s})})},[e]),iF(n),n}function Zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nF(e,n)}catch{return!0}}function lF(e,t){return t()}var cF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lF:aF;nE.useSyncExternalStore=ai.useSyncExternalStore!==void 0?ai.useSyncExternalStore:cF;tE.exports=nE;var uF=tE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=m,dF=uF;function fF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hF=typeof Object.is=="function"?Object.is:fF,pF=dF.useSyncExternalStore,mF=Cd.useRef,gF=Cd.useEffect,vF=Cd.useMemo,yF=Cd.useDebugValue;eE.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=mF(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=vF(function(){function l(h){if(!c){if(c=!0,d=h,h=r(h),s!==void 0&&i.hasValue){var b=i.value;if(s(b,h))return f=b}return f=h}if(b=f,hF(d,h))return b;var g=r(h);return s!==void 0&&s(b,g)?(d=h,b):(d=h,f=g)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,s]);var a=pF(e,o[0],o[1]);return gF(function(){i.hasValue=!0,i.value=a},[a]),yF(a),a};Zk.exports=eE;var xF=Zk.exports;const wF=Qp(xF),bF={},Vy=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const h=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(bF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},_F=e=>e?Vy(e):Vy,{useDebugValue:SF}=X,{useSyncExternalStoreWithSelector:kF}=wF,EF=e=>e;function rE(e,t=EF,n){const r=kF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return SF(r),r}const Wy=(e,t)=>{const n=_F(e),r=(s,o=t)=>rE(n,s,o);return Object.assign(r,n),r},CF=(e,t)=>e?Wy(e,t):Wy;function Le(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Nd=m.createContext(null),NF=Nd.Provider,sE=$n.error001();function ge(e,t){const n=m.useContext(Nd);if(n===null)throw new Error(sE);return rE(n,e,t)}function Ae(){const e=m.useContext(Nd);if(e===null)throw new Error(sE);return m.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Gy={display:"none"},jF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},oE="react-flow__node-desc",iE="react-flow__edge-desc",PF="react-flow__aria-live",TF=e=>e.ariaLiveMessage;function RF({rfId:e}){const t=ge(TF);return u.jsx("div",{id:`${PF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:jF,children:t})}function AF({rfId:e,disableKeyboardA11y:t}){return u.jsxs(u.Fragment,{children:[u.jsxs("div",{id:`${oE}-${e}`,style:Gy,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),u.jsx("div",{id:`${iE}-${e}`,style:Gy,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&u.jsx(RF,{rfId:e})]})}const MF=e=>e.userSelectionActive?"none":"all",jd=m.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},o)=>{const i=ge(MF),a=`${e}`.split("-");return u.jsx("div",{className:Be(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},ref:o,...s,children:t})});jd.displayName="Panel";function IF({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(jd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const OF=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},fc=e=>e.id;function DF(e,t){return Le(e.selectedNodes.map(fc),t.selectedNodes.map(fc))&&Le(e.selectedEdges.map(fc),t.selectedEdges.map(fc))}function $F({onSelectionChange:e}){const t=Ae(),{selectedNodes:n,selectedEdges:r}=ge(OF,DF);return m.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(o=>o(s))},[n,r,e]),null}const LF=e=>!!e.onSelectionChangeHandlers;function FF({onSelectionChange:e}){const t=ge(LF);return e||t?u.jsx($F,{onSelectionChange:e}):null}const aE=[0,0],zF={x:0,y:0,zoom:1},UF=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Ky=[...UF,"rfId"],BF=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),qy={translateExtent:Ha,nodeOrigin:aE,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function HF(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:o,setNodeExtent:i,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=ge(BF,Le),d=Ae();m.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=qy,a()}),[]);const f=m.useRef(qy);return m.useEffect(()=>{for(const p of Ky){const h=e[p],b=f.current[p];h!==b&&(typeof e[p]>"u"||(p==="nodes"?t(h):p==="edges"?n(h):p==="minZoom"?r(h):p==="maxZoom"?s(h):p==="translateExtent"?o(h):p==="nodeExtent"?i(h):p==="paneClickDistance"?c(h):p==="fitView"?d.setState({fitViewQueued:h}):p==="fitViewOptions"?d.setState({fitViewOptions:h}):d.setState({[p]:h})))}f.current=e},Ky.map(p=>e[p])),null}function Yy(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function VF(e){var r;const[t,n]=m.useState(e==="system"?null:e);return m.useEffect(()=>{if(e!=="system"){n(e);return}const s=Yy(),o=()=>n(s!=null&&s.matches?"dark":"light");return o(),s==null||s.addEventListener("change",o),()=>{s==null||s.removeEventListener("change",o)}},[e]),t!==null?t:(r=Yy())!=null&&r.matches?"dark":"light"}const Xy=typeof document<"u"?document:null;function qa(e=null,t={target:Xy,actInsideInputWithModifier:!0}){const[n,r]=m.useState(!1),s=m.useRef(!1),o=m.useRef(new Set([])),[i,a]=m.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,p)=>f.concat(...p),[]);return[c,d]}return[[],[]]},[e]);return m.useEffect(()=>{const l=(t==null?void 0:t.target)??Xy,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=h=>{var w,y;if(s.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!s.current||s.current&&!c)&&Dk(h))return!1;const g=Jy(h.code,a);if(o.current.add(h[g]),Qy(i,o.current,!1)){const x=((y=(w=h.composedPath)==null?void 0:w.call(h))==null?void 0:y[0])||h.target,v=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(s.current||!v)&&h.preventDefault(),r(!0)}},f=h=>{const b=Jy(h.code,a);Qy(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[b]),h.key==="Meta"&&o.current.clear(),s.current=!1},p=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",d),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{l==null||l.removeEventListener("keydown",d),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function Qy(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Jy(e,t){return t.includes(e)?"code":"key"}const WF=()=>{const e=Ae();return m.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,o],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:s,height:o,maxZoom:i,panZoom:a}=e.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:i,c=s/2-t*l,d=o/2-n*l;return a?(await a.setViewport({x:c,y:d,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:o,maxZoom:i,panZoom:a}=e.getState(),l=zg(t,r,s,o,i,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:o,domNode:i}=e.getState();if(!i)return t;const{x:a,y:l}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},d=n.snapGrid??s,f=n.snapToGrid??o;return wl(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:o}=r.getBoundingClientRect(),i=ju(t,n);return{x:i.x+s,y:i.y+o}}}),[])};function lE(e,t){const n=[],r=new Map,s=[];for(const o of e)if(o.type==="add"){s.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const i=r.get(o.id);i?i.push(o):r.set(o.id,[o])}for(const o of t){const i=r.get(o.id);if(!i){n.push(o);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const a={...o};for(const l of i)GF(l,a);n.push(a)}return s.length&&s.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function GF(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function cE(e,t){return lE(e,t)}function uE(e,t){return lE(e,t)}function fs(e,t){return{id:e,type:"select",selected:t}}function So(e,t=new Set,n=!1){const r=[];for(const[s,o]of e){const i=t.has(s);!(o.selected===void 0&&!i)&&o.selected!==i&&(n&&(o.selected=i),r.push(fs(o.id,i)))}return r}function Zy({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,i]of e.entries()){const a=t.get(i.id),l=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;l!==void 0&&l!==i&&n.push({id:i.id,item:i,type:"replace"}),l===void 0&&n.push({item:i,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function ex(e){return{id:e.id,type:"remove"}}const tx=e=>i5(e),KF=e=>Nk(e);function dE(e){return m.forwardRef(e)}const qF=typeof window<"u"?m.useLayoutEffect:m.useEffect;function nx(e){const[t,n]=m.useState(BigInt(0)),[r]=m.useState(()=>YF(()=>n(s=>s+BigInt(1))));return qF(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function YF(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const fE=m.createContext(null);function XF({children:e}){const t=Ae(),n=m.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:p,fitViewQueued:h}=t.getState();let b=l;for(const w of a)b=typeof w=="function"?w(b):w;const g=Zy({items:b,lookup:p});d&&c(b),g.length>0?f==null||f(g):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:y,setNodes:x}=t.getState();w&&x(y)})},[]),r=nx(n),s=m.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:p}=t.getState();let h=l;for(const b of a)h=typeof b=="function"?b(h):b;d?c(h):f&&f(Zy({items:h,lookup:p}))},[]),o=nx(s),i=m.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return u.jsx(fE.Provider,{value:i,children:e})}function QF(){const e=m.useContext(fE);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const JF=e=>!!e.panZoom;function Pd(){const e=WF(),t=Ae(),n=QF(),r=ge(JF),s=m.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),i=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{var y,x;const{nodeLookup:p,nodeOrigin:h}=t.getState(),b=tx(f)?f:p.get(f.id),g=b.parentId?Ik(b.position,b.measured,b.parentId,p,h):b.position,w={...b,position:g,width:((y=b.measured)==null?void 0:y.width)??b.width,height:((x=b.measured)==null?void 0:x.height)??b.height};return oi(w)},c=(f,p,h={replace:!1})=>{i(b=>b.map(g=>{if(g.id===f){const w=typeof p=="function"?p(g):p;return h.replace&&tx(w)?w:{...g,...w}}return g}))},d=(f,p,h={replace:!1})=>{a(b=>b.map(g=>{if(g.id===f){const w=typeof p=="function"?p(g):p;return h.replace&&KF(w)?w:{...g,...w}}return g}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var p;return(p=o(f))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(p=>({...p}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:a,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:h}=t.getState(),[b,g,w]=h;return{nodes:f.map(y=>({...y})),edges:p.map(y=>({...y})),viewport:{x:b,y:g,zoom:w}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:h,edges:b,onNodesDelete:g,onEdgesDelete:w,triggerNodeChanges:y,triggerEdgeChanges:x,onDelete:v,onBeforeDelete:_}=t.getState(),{nodes:S,edges:N}=await d5({nodesToRemove:f,edgesToRemove:p,nodes:h,edges:b,onBeforeDelete:_}),C=N.length>0,P=S.length>0;if(C){const I=N.map(ex);w==null||w(N),x(I)}if(P){const I=S.map(ex);g==null||g(S),y(I)}return(P||C)&&(v==null||v({nodes:S,edges:N})),{deletedNodes:S,deletedEdges:N}},getIntersectingNodes:(f,p=!0,h)=>{const b=Ay(f),g=b?f:l(f),w=h!==void 0;return g?(h||t.getState().nodes).filter(y=>{const x=t.getState().nodeLookup.get(y.id);if(x&&!b&&(y.id===f.id||!x.internals.positionAbsolute))return!1;const v=oi(w?y:x),_=Ga(v,g);return p&&_>0||_>=g.width*g.height}):[]},isNodeIntersecting:(f,p,h=!0)=>{const g=Ay(f)?f:l(f);if(!g)return!1;const w=Ga(g,p);return h&&w>0||w>=g.width*g.height},updateNode:c,updateNodeData:(f,p,h={replace:!1})=>{c(f,b=>{const g=typeof p=="function"?p(b):p;return h.replace?{...b,data:g}:{...b,data:{...b.data,...g}}},h)},updateEdge:d,updateEdgeData:(f,p,h={replace:!1})=>{d(f,b=>{const g=typeof p=="function"?p(b):p;return h.replace?{...b,data:g}:{...b,data:{...b.data,...g}}},h)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:h}=t.getState();return a5(f,{nodeLookup:p,nodeOrigin:h})},getHandleConnections:({type:f,id:p,nodeId:h})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${h}-${f}${p?`-${p}`:""}`))==null?void 0:b.values())??[])},getNodeConnections:({type:f,handleId:p,nodeId:h})=>{var b;return Array.from(((b=t.getState().connectionLookup.get(`${h}${f?p?`-${f}-${p}`:`-${f}`:""}`))==null?void 0:b.values())??[])},fitView:async f=>{const p=t.getState().fitViewResolver??m5();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:p}),n.nodeQueue.push(h=>[...h]),p.promise}}},[]);return m.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const rx=e=>e.selected,ZF=typeof window<"u"?window:void 0;function ez({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ae(),{deleteElements:r}=Pd(),s=qa(e,{actInsideInputWithModifier:!1}),o=qa(t,{target:ZF});m.useEffect(()=>{if(s){const{edges:i,nodes:a}=n.getState();r({nodes:a.filter(rx),edges:i.filter(rx)}),n.setState({nodesSelectionActive:!1})}},[s]),m.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function tz(e){const t=Ae();m.useEffect(()=>{const n=()=>{var s,o;if(!e.current)return!1;const r=Ug(e.current);(r.height===0||r.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",$n.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Td={position:"absolute",width:"100%",height:"100%",top:0,left:0},nz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function rz({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:o=js.Free,zoomOnDoubleClick:i=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:h=!0,children:b,noWheelClassName:g,noPanClassName:w,onViewportChange:y,isControlledViewport:x,paneClickDistance:v}){const _=Ae(),S=m.useRef(null),{userSelectionActive:N,lib:C}=ge(nz,Le),P=qa(p),I=m.useRef();tz(S);const O=m.useCallback(L=>{y==null||y({x:L[0],y:L[1],zoom:L[2]}),x||_.setState({transform:L})},[y,x]);return m.useEffect(()=>{if(S.current){I.current=K5({domNode:S.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:l,paneClickDistance:v,onDraggingChange:k=>_.setState({paneDragging:k}),onPanZoomStart:(k,T)=>{const{onViewportChangeStart:j,onMoveStart:M}=_.getState();M==null||M(k,T),j==null||j(T)},onPanZoom:(k,T)=>{const{onViewportChange:j,onMove:M}=_.getState();M==null||M(k,T),j==null||j(T)},onPanZoomEnd:(k,T)=>{const{onViewportChangeEnd:j,onMoveEnd:M}=_.getState();M==null||M(k,T),j==null||j(T)}});const{x:L,y:A,zoom:$}=I.current.getViewport();return _.setState({panZoom:I.current,transform:[L,A,$],domNode:S.current.closest(".react-flow")}),()=>{var k;(k=I.current)==null||k.destroy()}}},[]),m.useEffect(()=>{var L;(L=I.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:o,zoomOnDoubleClick:i,panOnDrag:a,zoomActivationKeyPressed:P,preventScrolling:h,noPanClassName:w,userSelectionActive:N,noWheelClassName:g,lib:C,onTransformChange:O})},[e,t,n,r,s,o,i,a,P,h,w,N,g,C,O]),u.jsx("div",{className:"react-flow__renderer",ref:S,style:Td,children:b})}const sz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oz(){const{userSelectionActive:e,userSelectionRect:t}=ge(sz,Le);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const eh=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},iz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function az({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Va.Full,panOnDrag:r,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:h}){const b=Ae(),{userSelectionActive:g,elementsSelectable:w,dragging:y,connectionInProgress:x}=ge(iz,Le),v=w&&(e||g),_=m.useRef(null),S=m.useRef(),N=m.useRef(new Set),C=m.useRef(new Set),P=m.useRef(!1),I=m.useRef(!1),O=M=>{if(P.current||x){P.current=!1;return}a==null||a(M),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},L=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}l==null||l(M)},A=c?M=>c(M):void 0,$=M=>{var z,V;const{resetSelectedElements:R,domNode:E}=b.getState();if(S.current=E==null?void 0:E.getBoundingClientRect(),!w||!e||M.button!==0||M.target!==_.current||!S.current)return;(V=(z=M.target)==null?void 0:z.setPointerCapture)==null||V.call(z,M.pointerId),I.current=!0,P.current=!1;const{x:D,y:F}=nr(M.nativeEvent,S.current);R(),b.setState({userSelectionRect:{width:0,height:0,startX:D,startY:F,x:D,y:F}}),o==null||o(M)},k=M=>{const{userSelectionRect:R,transform:E,nodeLookup:D,edgeLookup:F,connectionLookup:z,triggerNodeChanges:V,triggerEdgeChanges:B,defaultEdgeOptions:K}=b.getState();if(!S.current||!R)return;P.current=!0;const{x:q,y:U}=nr(M.nativeEvent,S.current),{startX:W,startY:J}=R,ee={startX:W,startY:J,x:q<W?q:W,y:U<J?U:J,width:Math.abs(q-W),height:Math.abs(U-J)},Q=N.current,H=C.current;N.current=new Set(jk(D,ee,E,n===Va.Partial,!0).map(se=>se.id)),C.current=new Set;const re=(K==null?void 0:K.selectable)??!0;for(const se of N.current){const ye=z.get(se);if(ye)for(const{edgeId:he}of ye.values()){const pt=F.get(he);pt&&(pt.selectable??re)&&C.current.add(he)}}if(!My(Q,N.current)){const se=So(D,N.current,!0);V(se)}if(!My(H,C.current)){const se=So(F,C.current);B(se)}b.setState({userSelectionRect:ee,userSelectionActive:!0,nodesSelectionActive:!1})},T=M=>{var E,D;if(M.button!==0||!I.current)return;(D=(E=M.target)==null?void 0:E.releasePointerCapture)==null||D.call(E,M.pointerId);const{userSelectionRect:R}=b.getState();!g&&R&&M.target===_.current&&(O==null||O(M)),b.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),i==null||i(M),(t||s)&&(P.current=!1),I.current=!1},j=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Be(["react-flow__pane",{draggable:j,dragging:y,selection:e}]),onClick:v?void 0:eh(O,_),onContextMenu:eh(L,_),onWheel:eh(A,_),onPointerEnter:v?void 0:d,onPointerDown:v?$:f,onPointerMove:v?k:f,onPointerUp:v?T:void 0,onPointerLeave:p,ref:_,style:Td,children:[h,u.jsx(oz,{})]})}function Ip({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",$n.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function hE({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,nodeClickDistance:i}){const a=Ae(),[l,c]=m.useState(!1),d=m.useRef();return m.useEffect(()=>{d.current=M5({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{Ip({id:f,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),m.useEffect(()=>{var f,p;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(p=d.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:s,nodeClickDistance:i}),()=>{var h;(h=d.current)==null||h.destroy()}},[n,r,t,o,e,s]),l}const lz=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function pE(){const e=Ae();return m.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,p=lz(i),h=s?o[0]:5,b=s?o[1]:5,g=n.direction.x*h*n.factor,w=n.direction.y*b*n.factor;for(const[,y]of c){if(!p(y))continue;let x={x:y.internals.positionAbsolute.x+g,y:y.internals.positionAbsolute.y+w};s&&(x=kd(x,o));const{position:v,positionAbsolute:_}=Pk({nodeId:y.id,nextPosition:x,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:a});y.position=v,y.internals.positionAbsolute=_,f.set(y.id,y)}l(f)},[])}const Gg=m.createContext(null),cz=Gg.Provider;Gg.Consumer;const mE=()=>m.useContext(Gg),uz=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),dz=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:o,connection:i}=r,{fromHandle:a,toHandle:l,isValid:c}=i,d=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:o===ri.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:d&&c}};function fz({type:e="source",position:t=ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:i,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:f,...p},h){var T,j;const b=i||null,g=e==="target",w=Ae(),y=mE(),{connectOnClick:x,noPanClassName:v,rfId:_}=ge(uz,Le),{connectingFrom:S,connectingTo:N,clickConnecting:C,isPossibleEndHandle:P,connectionInProcess:I,clickConnectionInProcess:O,valid:L}=ge(dz(y,b,e),Le);y||(j=(T=w.getState()).onError)==null||j.call(T,"010",$n.error010());const A=M=>{const{defaultEdgeOptions:R,onConnect:E,hasDefaultEdges:D}=w.getState(),F={...R,...M};if(D){const{edges:z,setEdges:V}=w.getState();V(Uk(F,z))}E==null||E(F),a==null||a(F)},$=M=>{if(!y)return;const R=$k(M.nativeEvent);if(s&&(R&&M.button===0||!R)){const E=w.getState();Mp.onPointerDown(M.nativeEvent,{autoPanOnConnect:E.autoPanOnConnect,connectionMode:E.connectionMode,connectionRadius:E.connectionRadius,domNode:E.domNode,nodeLookup:E.nodeLookup,lib:E.lib,isTarget:g,handleId:b,nodeId:y,flowId:E.rfId,panBy:E.panBy,cancelConnection:E.cancelConnection,onConnectStart:E.onConnectStart,onConnectEnd:E.onConnectEnd,updateConnection:E.updateConnection,onConnect:A,isValidConnection:n||E.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:E.autoPanSpeed})}R?d==null||d(M):f==null||f(M)},k=M=>{const{onClickConnectStart:R,onClickConnectEnd:E,connectionClickStartHandle:D,connectionMode:F,isValidConnection:z,lib:V,rfId:B,nodeLookup:K,connection:q}=w.getState();if(!y||!D&&!s)return;if(!D){R==null||R(M.nativeEvent,{nodeId:y,handleId:b,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:y,type:e,id:b}});return}const U=Ok(M.target),W=n||z,{connection:J,isValid:ee}=Mp.isValid(M.nativeEvent,{handle:{nodeId:y,id:b,type:e},connectionMode:F,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:W,flowId:B,doc:U,lib:V,nodeLookup:K});ee&&J&&A(J);const Q=structuredClone(q);delete Q.inProgress,Q.toPosition=Q.toHandle?Q.toHandle.position:null,E==null||E(M,Q),w.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":b,"data-nodeid":y,"data-handlepos":t,"data-id":`${_}-${y}-${b}-${e}`,className:Be(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,c,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:o,clickconnecting:C,connectingfrom:S,connectingto:N,valid:L,connectionindicator:r&&(!I||P)&&(I||O?o:s)}]),onMouseDown:$,onTouchStart:$,onClick:x?k:void 0,ref:h,...p,children:l})}const li=m.memo(dE(fz));function hz({data:e,isConnectable:t,sourcePosition:n=ne.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(li,{type:"source",position:n,isConnectable:t})]})}function pz({data:e,isConnectable:t,targetPosition:n=ne.Top,sourcePosition:r=ne.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(li,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(li,{type:"source",position:r,isConnectable:t})]})}function mz(){return null}function gz({data:e,isConnectable:t,targetPosition:n=ne.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(li,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Tu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},sx={input:hz,default:pz,output:gz,group:mz};function vz(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const yz=e=>{const{width:t,height:n,x:r,y:s}=xl(e.nodeLookup,{filter:o=>!!o.selected});return{width:dn(t)?t:null,height:dn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function xz({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ae(),{width:s,height:o,transformString:i,userSelectionActive:a}=ge(yz,Le),l=pE(),c=m.useRef(null);if(m.useEffect(()=>{var p;n||(p=c.current)==null||p.focus({preventScroll:!0})},[n]),hE({nodeRef:c}),a||!s||!o)return null;const d=e?p=>{const h=r.getState().nodes.filter(b=>b.selected);e(p,h)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(Tu,p.key)&&(p.preventDefault(),l({direction:Tu[p.key],factor:p.shiftKey?4:1}))};return u.jsx("div",{className:Be(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:o}})})}const ox=typeof window<"u"?window:void 0,wz=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function gE({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:b,panActivationKeyCode:g,zoomActivationKeyCode:w,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:v,panOnScroll:_,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:P,defaultViewport:I,translateExtent:O,minZoom:L,maxZoom:A,preventScrolling:$,onSelectionContextMenu:k,noWheelClassName:T,noPanClassName:j,disableKeyboardA11y:M,onViewportChange:R,isControlledViewport:E}){const{nodesSelectionActive:D,userSelectionActive:F}=ge(wz),z=qa(c,{target:ox}),V=qa(g,{target:ox}),B=V||P,K=V||_,q=d&&B!==!0,U=z||F||q;return ez({deleteKeyCode:l,multiSelectionKeyCode:b}),u.jsx(rz,{onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:v,panOnScroll:K,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:C,panOnDrag:!z&&B,defaultViewport:I,translateExtent:O,minZoom:L,maxZoom:A,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:T,noPanClassName:j,onViewportChange:R,isControlledViewport:E,paneClickDistance:a,children:u.jsxs(az,{onSelectionStart:p,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:B,isSelecting:!!U,selectionMode:f,selectionKeyPressed:z,selectionOnDrag:q,children:[e,D&&u.jsx(xz,{onSelectionContextMenu:k,noPanClassName:j,disableKeyboardA11y:M})]})})}gE.displayName="FlowRenderer";const bz=m.memo(gE),_z=e=>t=>e?jk(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Sz(e){return ge(m.useCallback(_z(e),[e]),Le)}const kz=e=>e.updateNodeInternals;function Ez(){const e=ge(kz),[t]=m.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const o=s.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:s.target,force:!0})}),e(r)}));return m.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Cz({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Ae(),o=m.useRef(null),i=m.useRef(null),a=m.useRef(e.sourcePosition),l=m.useRef(e.targetPosition),c=m.useRef(t),d=n&&!!e.internals.handleBounds;return m.useEffect(()=>{o.current&&!e.hidden&&(!d||i.current!==o.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(o.current),i.current=o.current)},[d,e.hidden]),m.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),m.useEffect(()=>{if(o.current){const f=c.current!==t,p=a.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||p||h)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function Nz({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:o,onDoubleClick:i,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:p,noPanClassName:h,disableKeyboardA11y:b,rfId:g,nodeTypes:w,nodeClickDistance:y,onError:x}){const{node:v,internals:_,isParent:S}=ge(U=>{const W=U.nodeLookup.get(e),J=U.parentLookup.has(e);return{node:W,internals:W.internals,isParent:J}},Le);let N=v.type||"default",C=(w==null?void 0:w[N])||sx[N];C===void 0&&(x==null||x("003",$n.error003(N)),N="default",C=sx.default);const P=!!(v.draggable||a&&typeof v.draggable>"u"),I=!!(v.selectable||l&&typeof v.selectable>"u"),O=!!(v.connectable||c&&typeof v.connectable>"u"),L=!!(v.focusable||d&&typeof v.focusable>"u"),A=Ae(),$=Mk(v),k=Cz({node:v,nodeType:N,hasDimensions:$,resizeObserver:f}),T=hE({nodeRef:k,disabled:v.hidden||!P,noDragClassName:p,handleSelector:v.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:y}),j=pE();if(v.hidden)return null;const M=hr(v),R=vz(v),E=I||P||t||n||r||s,D=n?U=>n(U,{..._.userNode}):void 0,F=r?U=>r(U,{..._.userNode}):void 0,z=s?U=>s(U,{..._.userNode}):void 0,V=o?U=>o(U,{..._.userNode}):void 0,B=i?U=>i(U,{..._.userNode}):void 0,K=U=>{const{selectNodesOnDrag:W,nodeDragThreshold:J}=A.getState();I&&(!W||!P||J>0)&&Ip({id:e,store:A,nodeRef:k}),t&&t(U,{..._.userNode})},q=U=>{if(!(Dk(U.nativeEvent)||b))if(kk.includes(U.key)&&I){const W=U.key==="Escape";Ip({id:e,store:A,unselect:W,nodeRef:k})}else P&&v.selected&&Object.prototype.hasOwnProperty.call(Tu,U.key)&&(U.preventDefault(),A.setState({ariaLiveMessage:`Moved selected node ${U.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),j({direction:Tu[U.key],factor:U.shiftKey?4:1}))};return u.jsx("div",{className:Be(["react-flow__node",`react-flow__node-${N}`,{[h]:P},v.className,{selected:v.selected,selectable:I,parent:S,draggable:P,dragging:T}]),ref:k,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:E?"all":"none",visibility:$?"visible":"hidden",...v.style,...R},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:F,onMouseLeave:z,onContextMenu:V,onClick:K,onDoubleClick:B,onKeyDown:L?q:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":b?void 0:`${oE}-${g}`,"aria-label":v.ariaLabel,children:u.jsx(cz,{value:e,children:u.jsx(C,{id:e,data:v.data,type:N,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:v.selected??!1,selectable:I,draggable:P,deletable:v.deletable??!0,isConnectable:O,sourcePosition:v.sourcePosition,targetPosition:v.targetPosition,dragging:T,dragHandle:v.dragHandle,zIndex:_.z,parentId:v.parentId,...M})})})}const jz=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function vE(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:o}=ge(jz,Le),i=Sz(e.onlyRenderVisibleElements),a=Ez();return u.jsx("div",{className:"react-flow__nodes",style:Td,children:i.map(l=>u.jsx(Nz,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}vE.displayName="NodeRenderer";const Pz=m.memo(vE);function Tz(e){return ge(m.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const o=n.nodeLookup.get(s.source),i=n.nodeLookup.get(s.target);o&&i&&y5({sourceNode:o,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Le)}const Rz=({color:e="none",strokeWidth:t=1})=>u.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Az=({color:e="none",strokeWidth:t=1})=>u.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ix={[Wa.Arrow]:Rz,[Wa.ArrowClosed]:Az};function Mz(e){const t=Ae();return m.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(ix,e)?ix[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",$n.error009(e)),null)},[e])}const Iz=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const l=Mz(t);return l?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:u.jsx(l,{color:n,strokeWidth:i})}):null},yE=({defaultColor:e,rfId:t})=>{const n=ge(o=>o.edges),r=ge(o=>o.defaultEdgeOptions),s=m.useMemo(()=>E5(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:s.map(o=>u.jsx(Iz,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};yE.displayName="MarkerDefinitions";var Oz=m.memo(yE);function xE({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:o,labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d}){const[f,p]=m.useState({x:1,y:0,width:0,height:0}),h=Be(["react-flow__edge-textwrapper",c]),b=m.useRef(null);return m.useEffect(()=>{if(b.current){const g=b.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[s&&u.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),u.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:b,style:r,children:n}),l]}):null}xE.displayName="EdgeText";const Dz=m.memo(xE);function Rd({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...d}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...d,d:e,fill:"none",className:Be(["react-flow__edge-path",d.className])}),c&&u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&dn(t)&&dn(n)?u.jsx(Dz,{x:t,y:n,label:r,labelStyle:s,labelShowBg:o,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function ax({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===ne.Left||e===ne.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function wE({sourceX:e,sourceY:t,sourcePosition:n=ne.Bottom,targetX:r,targetY:s,targetPosition:o=ne.Top}){const[i,a]=ax({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,c]=ax({pos:o,x1:r,y1:s,x2:e,y2:t}),[d,f,p,h]=Lk({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${a} ${l},${c} ${r},${s}`,d,f,p,h]}function bE(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i,targetPosition:a,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:g,markerStart:w,interactionWidth:y})=>{const[x,v,_]=wE({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:a}),S=e.isInternal?void 0:t;return u.jsx(Rd,{id:S,path:x,labelX:v,labelY:_,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:g,markerStart:w,interactionWidth:y})})}const $z=bE({isInternal:!1}),_E=bE({isInternal:!0});$z.displayName="SimpleBezierEdge";_E.displayName="SimpleBezierEdgeInternal";function SE(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,sourcePosition:h=ne.Bottom,targetPosition:b=ne.Top,markerEnd:g,markerStart:w,pathOptions:y,interactionWidth:x})=>{const[v,_,S]=Tp({sourceX:n,sourceY:r,sourcePosition:h,targetX:s,targetY:o,targetPosition:b,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset}),N=e.isInternal?void 0:t;return u.jsx(Rd,{id:N,path:v,labelX:_,labelY:S,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:w,interactionWidth:x})})}const kE=SE({isInternal:!1}),EE=SE({isInternal:!0});kE.displayName="SmoothStepEdge";EE.displayName="SmoothStepEdgeInternal";function CE(e){return m.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return u.jsx(kE,{...n,id:r,pathOptions:m.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const Lz=CE({isInternal:!1}),NE=CE({isInternal:!0});Lz.displayName="StepEdge";NE.displayName="StepEdgeInternal";function jE(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:b,interactionWidth:g})=>{const[w,y,x]=Bk({sourceX:n,sourceY:r,targetX:s,targetY:o}),v=e.isInternal?void 0:t;return u.jsx(Rd,{id:v,path:w,labelX:y,labelY:x,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:h,markerStart:b,interactionWidth:g})})}const Fz=jE({isInternal:!1}),PE=jE({isInternal:!0});Fz.displayName="StraightEdge";PE.displayName="StraightEdgeInternal";function TE(e){return m.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:o,sourcePosition:i=ne.Bottom,targetPosition:a=ne.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:g,markerStart:w,pathOptions:y,interactionWidth:x})=>{const[v,_,S]=Fk({sourceX:n,sourceY:r,sourcePosition:i,targetX:s,targetY:o,targetPosition:a,curvature:y==null?void 0:y.curvature}),N=e.isInternal?void 0:t;return u.jsx(Rd,{id:N,path:v,labelX:_,labelY:S,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:g,markerStart:w,interactionWidth:x})})}const zz=TE({isInternal:!1}),RE=TE({isInternal:!0});zz.displayName="BezierEdge";RE.displayName="BezierEdgeInternal";const lx={default:RE,straight:PE,step:NE,smoothstep:EE,simplebezier:_E},cx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Uz=(e,t,n)=>n===ne.Left?e-t:n===ne.Right?e+t:e,Bz=(e,t,n)=>n===ne.Top?e-t:n===ne.Bottom?e+t:e,ux="react-flow__edgeupdater";function dx({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:i,type:a}){return u.jsx("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:i,className:Be([ux,`${ux}-${a}`]),cx:Uz(t,r,e),cy:Bz(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Hz({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:o,targetY:i,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:p,setUpdateHover:h}){const b=Ae(),g=(_,S)=>{if(_.button!==0)return;const{autoPanOnConnect:N,domNode:C,isValidConnection:P,connectionMode:I,connectionRadius:O,lib:L,onConnectStart:A,onConnectEnd:$,cancelConnection:k,nodeLookup:T,rfId:j,panBy:M,updateConnection:R}=b.getState(),E=S.type==="target";p(!0),d==null||d(_,n,S.type);const D=(z,V)=>{p(!1),f==null||f(z,n,S.type,V)},F=z=>c==null?void 0:c(n,z);Mp.onPointerDown(_.nativeEvent,{autoPanOnConnect:N,connectionMode:I,connectionRadius:O,domNode:C,handleId:S.id,nodeId:S.nodeId,nodeLookup:T,isTarget:E,edgeUpdaterType:S.type,lib:L,flowId:j,cancelConnection:k,panBy:M,isValidConnection:P,onConnect:F,onConnectStart:A,onConnectEnd:$,onReconnectEnd:D,updateConnection:R,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle})},w=_=>g(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=_=>g(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>h(!0),v=()=>h(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(dx,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:w,onMouseEnter:x,onMouseOut:v,type:"source"}),(e===!0||e==="target")&&u.jsx(dx,{position:l,centerX:o,centerY:i,radius:t,onMouseDown:y,onMouseEnter:x,onMouseOut:v,type:"target"})]})}function Vz({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:o,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,rfId:b,edgeTypes:g,noPanClassName:w,onError:y,disableKeyboardA11y:x}){let v=ge(H=>H.edgeLookup.get(e));const _=ge(H=>H.defaultEdgeOptions);v=_?{..._,...v}:v;let S=v.type||"default",N=(g==null?void 0:g[S])||lx[S];N===void 0&&(y==null||y("011",$n.error011(S)),S="default",N=lx.default);const C=!!(v.focusable||t&&typeof v.focusable>"u"),P=typeof f<"u"&&(v.reconnectable||n&&typeof v.reconnectable>"u"),I=!!(v.selectable||r&&typeof v.selectable>"u"),O=m.useRef(null),[L,A]=m.useState(!1),[$,k]=m.useState(!1),T=Ae(),{zIndex:j,sourceX:M,sourceY:R,targetX:E,targetY:D,sourcePosition:F,targetPosition:z}=ge(m.useCallback(H=>{const re=H.nodeLookup.get(v.source),se=H.nodeLookup.get(v.target);if(!re||!se)return{zIndex:v.zIndex,...cx};const ye=k5({id:e,sourceNode:re,targetNode:se,sourceHandle:v.sourceHandle||null,targetHandle:v.targetHandle||null,connectionMode:H.connectionMode,onError:y});return{zIndex:v5({selected:v.selected,zIndex:v.zIndex,sourceNode:re,targetNode:se,elevateOnSelect:H.elevateEdgesOnSelect}),...ye||cx}},[v.source,v.target,v.sourceHandle,v.targetHandle,v.selected,v.zIndex]),Le),V=m.useMemo(()=>v.markerStart?`url('#${Rp(v.markerStart,b)}')`:void 0,[v.markerStart,b]),B=m.useMemo(()=>v.markerEnd?`url('#${Rp(v.markerEnd,b)}')`:void 0,[v.markerEnd,b]);if(v.hidden||M===null||R===null||E===null||D===null)return null;const K=H=>{var he;const{addSelectedEdges:re,unselectNodesAndEdges:se,multiSelectionActive:ye}=T.getState();I&&(T.setState({nodesSelectionActive:!1}),v.selected&&ye?(se({nodes:[],edges:[v]}),(he=O.current)==null||he.blur()):re([e])),s&&s(H,v)},q=o?H=>{o(H,{...v})}:void 0,U=i?H=>{i(H,{...v})}:void 0,W=a?H=>{a(H,{...v})}:void 0,J=l?H=>{l(H,{...v})}:void 0,ee=c?H=>{c(H,{...v})}:void 0,Q=H=>{var re;if(!x&&kk.includes(H.key)&&I){const{unselectNodesAndEdges:se,addSelectedEdges:ye}=T.getState();H.key==="Escape"?((re=O.current)==null||re.blur(),se({edges:[v]})):ye([e])}};return u.jsx("svg",{style:{zIndex:j},children:u.jsxs("g",{className:Be(["react-flow__edge",`react-flow__edge-${S}`,v.className,w,{selected:v.selected,animated:v.animated,inactive:!I&&!s,updating:L,selectable:I}]),onClick:K,onDoubleClick:q,onContextMenu:U,onMouseEnter:W,onMouseMove:J,onMouseLeave:ee,onKeyDown:C?Q:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":v.ariaLabel===null?void 0:v.ariaLabel||`Edge from ${v.source} to ${v.target}`,"aria-describedby":C?`${iE}-${b}`:void 0,ref:O,children:[!$&&u.jsx(N,{id:e,source:v.source,target:v.target,type:v.type,selected:v.selected,animated:v.animated,selectable:I,deletable:v.deletable??!0,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,sourceX:M,sourceY:R,targetX:E,targetY:D,sourcePosition:F,targetPosition:z,data:v.data,style:v.style,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerStart:V,markerEnd:B,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth}),P&&u.jsx(Hz,{edge:v,isReconnectable:P,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:h,sourceX:M,sourceY:R,targetX:E,targetY:D,sourcePosition:F,targetPosition:z,setUpdateHover:A,setReconnecting:k})]})})}const Wz=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function AE({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:o,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:h,onReconnectEnd:b,disableKeyboardA11y:g}){const{edgesFocusable:w,edgesReconnectable:y,elementsSelectable:x,onError:v}=ge(Wz,Le),_=Tz(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(Oz,{defaultColor:e,rfId:n}),_.map(S=>u.jsx(Vz,{id:S,edgesFocusable:w,edgesReconnectable:y,elementsSelectable:x,noPanClassName:s,onReconnect:o,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:p,onReconnectStart:h,onReconnectEnd:b,rfId:n,onError:v,edgeTypes:r,disableKeyboardA11y:g},S))]})}AE.displayName="EdgeRenderer";const Gz=m.memo(AE),Kz=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function qz({children:e}){const t=ge(Kz);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Yz(e){const t=Pd(),n=m.useRef(!1);m.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Xz=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Qz(e){const t=ge(Xz),n=Ae();return m.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Jz(e){return e.connection.inProgress?{...e.connection,to:wl(e.connection.to,e.transform)}:{...e.connection}}function Zz(e){return Jz}function e6(e){const t=Zz();return ge(t,Le)}const t6=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function n6({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:o,height:i,isValid:a,inProgress:l}=ge(t6,Le);return!(o&&s&&l)?null:u.jsx("svg",{style:e,width:o,height:i,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Be(["react-flow__connection",Ck(a)]),children:u.jsx(ME,{style:t,type:n,CustomComponent:r,isValid:a})})})}const ME=({style:e,type:t=Ir.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:o,fromNode:i,fromHandle:a,fromPosition:l,to:c,toNode:d,toHandle:f,toPosition:p}=e6();if(!s)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:p,connectionStatus:Ck(r),toNode:d,toHandle:f});let h="";const b={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case Ir.Bezier:[h]=Fk(b);break;case Ir.SimpleBezier:[h]=wE(b);break;case Ir.Step:[h]=Tp({...b,borderRadius:0});break;case Ir.SmoothStep:[h]=Tp(b);break;default:[h]=Bk(b)}return u.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};ME.displayName="ConnectionLine";const r6={};function fx(e=r6){m.useRef(e),Ae(),m.useEffect(()=>{},[e])}function s6(){Ae(),m.useRef(!1),m.useEffect(()=>{},[])}function IE({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:o,onEdgeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:h,connectionLineType:b,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:y,selectionKeyCode:x,selectionOnDrag:v,selectionMode:_,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:C,deleteKeyCode:P,onlyRenderVisibleElements:I,elementsSelectable:O,defaultViewport:L,translateExtent:A,minZoom:$,maxZoom:k,preventScrolling:T,defaultMarkerColor:j,zoomOnScroll:M,zoomOnPinch:R,panOnScroll:E,panOnScrollSpeed:D,panOnScrollMode:F,zoomOnDoubleClick:z,panOnDrag:V,onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:q,onPaneMouseLeave:U,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:ee,nodeClickDistance:Q,onEdgeContextMenu:H,onEdgeMouseEnter:re,onEdgeMouseMove:se,onEdgeMouseLeave:ye,reconnectRadius:he,onReconnect:pt,onReconnectStart:Un,onReconnectEnd:xn,noDragClassName:pr,noWheelClassName:Bn,noPanClassName:mr,disableKeyboardA11y:Et,nodeExtent:_i,rfId:gr,viewport:He,onViewportChange:Qt}){return fx(e),fx(t),s6(),Yz(n),Qz(He),u.jsx(bz,{onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:q,onPaneMouseLeave:U,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:ee,deleteKeyCode:P,selectionKeyCode:x,selectionOnDrag:v,selectionMode:_,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:C,elementsSelectable:O,zoomOnScroll:M,zoomOnPinch:R,zoomOnDoubleClick:z,panOnScroll:E,panOnScrollSpeed:D,panOnScrollMode:F,panOnDrag:V,defaultViewport:L,translateExtent:A,minZoom:$,maxZoom:k,onSelectionContextMenu:f,preventScrolling:T,noDragClassName:pr,noWheelClassName:Bn,noPanClassName:mr,disableKeyboardA11y:Et,onViewportChange:Qt,isControlledViewport:!!He,children:u.jsxs(qz,{children:[u.jsx(Gz,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:i,onReconnect:pt,onReconnectStart:Un,onReconnectEnd:xn,onlyRenderVisibleElements:I,onEdgeContextMenu:H,onEdgeMouseEnter:re,onEdgeMouseMove:se,onEdgeMouseLeave:ye,reconnectRadius:he,defaultMarkerColor:j,noPanClassName:mr,disableKeyboardA11y:Et,rfId:gr}),u.jsx(n6,{style:g,type:b,component:w,containerStyle:y}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(Pz,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:Q,onlyRenderVisibleElements:I,noPanClassName:mr,noDragClassName:pr,disableKeyboardA11y:Et,nodeExtent:_i,rfId:gr}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}IE.displayName="GraphView";const o6=m.memo(IE),hx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f}={})=>{const p=new Map,h=new Map,b=new Map,g=new Map,w=r??t??[],y=n??e??[],x=d??[0,0],v=f??Ha;Vk(b,g,w);const _=Ap(y,p,h,{nodeOrigin:x,nodeExtent:v,elevateNodesOnSelect:!1});let S=[0,0,1];if(i&&s&&o){const N=xl(p,{filter:O=>!!((O.width||O.initialWidth)&&(O.height||O.initialHeight))}),{x:C,y:P,zoom:I}=zg(N,s,o,l,c,(a==null?void 0:a.padding)??.1);S=[C,P,I]}return{rfId:"1",width:0,height:0,transform:S,nodes:y,nodesInitialized:_,nodeLookup:p,parentLookup:h,edges:w,edgeLookup:g,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Ha,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ri.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Ek},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:f5,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},i6=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f})=>CF((p,h)=>{async function b(){const{nodeLookup:g,panZoom:w,fitViewOptions:y,fitViewResolver:x,width:v,height:_,minZoom:S,maxZoom:N}=h();w&&(await u5({nodes:g,width:v,height:_,panZoom:w,minZoom:S,maxZoom:N},y),x==null||x.resolve(!0),p({fitViewResolver:null}))}return{...hx({nodes:e,edges:t,width:s,height:o,fitView:i,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:g=>{const{nodeLookup:w,parentLookup:y,nodeOrigin:x,elevateNodesOnSelect:v,fitViewQueued:_}=h(),S=Ap(g,w,y,{nodeOrigin:x,nodeExtent:f,elevateNodesOnSelect:v,checkEquality:!0});_&&S?(b(),p({nodes:g,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:g,nodesInitialized:S})},setEdges:g=>{const{connectionLookup:w,edgeLookup:y}=h();Vk(w,y,g),p({edges:g})},setDefaultNodesAndEdges:(g,w)=>{if(g){const{setNodes:y}=h();y(g),p({hasDefaultNodes:!0})}if(w){const{setEdges:y}=h();y(w),p({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:w,nodeLookup:y,parentLookup:x,domNode:v,nodeOrigin:_,nodeExtent:S,debug:N,fitViewQueued:C}=h(),{changes:P,updatedInternals:I}=T5(g,y,x,v,_,S);I&&(N5(y,x,{nodeOrigin:_,nodeExtent:S}),C?(b(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),(P==null?void 0:P.length)>0&&(N&&console.log("React Flow: trigger node changes",P),w==null||w(P)))},updateNodePositions:(g,w=!1)=>{const y=[],x=[],{nodeLookup:v,triggerNodeChanges:_}=h();for(const[S,N]of g){const C=v.get(S),P=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(N!=null&&N.position)),I={id:S,type:"position",position:P?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:w};P&&C.parentId&&y.push({id:S,parentId:C.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),x.push(I)}if(y.length>0){const{parentLookup:S,nodeOrigin:N}=h(),C=Wg(y,v,S,N);x.push(...C)}_(x)},triggerNodeChanges:g=>{const{onNodesChange:w,setNodes:y,nodes:x,hasDefaultNodes:v,debug:_}=h();if(g!=null&&g.length){if(v){const S=cE(g,x);y(S)}_&&console.log("React Flow: trigger node changes",g),w==null||w(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:w,setEdges:y,edges:x,hasDefaultEdges:v,debug:_}=h();if(g!=null&&g.length){if(v){const S=uE(g,x);y(S)}_&&console.log("React Flow: trigger edge changes",g),w==null||w(g)}},addSelectedNodes:g=>{const{multiSelectionActive:w,edgeLookup:y,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:_}=h();if(w){const S=g.map(N=>fs(N,!0));v(S);return}v(So(x,new Set([...g]),!0)),_(So(y))},addSelectedEdges:g=>{const{multiSelectionActive:w,edgeLookup:y,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:_}=h();if(w){const S=g.map(N=>fs(N,!0));_(S);return}_(So(y,new Set([...g]))),v(So(x,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:w}={})=>{const{edges:y,nodes:x,nodeLookup:v,triggerNodeChanges:_,triggerEdgeChanges:S}=h(),N=g||x,C=w||y,P=N.map(O=>{const L=v.get(O.id);return L&&(L.selected=!1),fs(O.id,!1)}),I=C.map(O=>fs(O.id,!1));_(P),S(I)},setMinZoom:g=>{const{panZoom:w,maxZoom:y}=h();w==null||w.setScaleExtent([g,y]),p({minZoom:g})},setMaxZoom:g=>{const{panZoom:w,minZoom:y}=h();w==null||w.setScaleExtent([y,g]),p({maxZoom:g})},setTranslateExtent:g=>{var w;(w=h().panZoom)==null||w.setTranslateExtent(g),p({translateExtent:g})},setPaneClickDistance:g=>{var w;(w=h().panZoom)==null||w.setClickDistance(g)},resetSelectedElements:()=>{const{edges:g,nodes:w,triggerNodeChanges:y,triggerEdgeChanges:x,elementsSelectable:v}=h();if(!v)return;const _=w.reduce((N,C)=>C.selected?[...N,fs(C.id,!1)]:N,[]),S=g.reduce((N,C)=>C.selected?[...N,fs(C.id,!1)]:N,[]);y(_),x(S)},setNodeExtent:g=>{const{nodes:w,nodeLookup:y,parentLookup:x,nodeOrigin:v,elevateNodesOnSelect:_,nodeExtent:S}=h();g[0][0]===S[0][0]&&g[0][1]===S[0][1]&&g[1][0]===S[1][0]&&g[1][1]===S[1][1]||(Ap(w,y,x,{nodeOrigin:v,nodeExtent:g,elevateNodesOnSelect:_,checkEquality:!1}),p({nodeExtent:g}))},panBy:g=>{const{transform:w,width:y,height:x,panZoom:v,translateExtent:_}=h();return R5({delta:g,panZoom:v,transform:w,translateExtent:_,width:y,height:x})},cancelConnection:()=>{p({connection:{...Ek}})},updateConnection:g=>{p({connection:g})},reset:()=>p({...hx()})}},Object.is);function OE({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:o,initialMinZoom:i,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:d,nodeExtent:f,children:p}){const[h]=m.useState(()=>i6({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:o,fitView:c,minZoom:i,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:f}));return u.jsx(NF,{value:h,children:u.jsx(XF,{children:p})})}function a6({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:o,height:i,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:p}){return m.useContext(Nd)?u.jsx(u.Fragment,{children:e}):u.jsx(OE,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:o,initialHeight:i,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:p,children:e})}const l6={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function c6({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o,edgeTypes:i,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:h,onConnectStart:b,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:y,onNodeMouseEnter:x,onNodeMouseMove:v,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:I,onNodesDelete:O,onEdgesDelete:L,onDelete:A,onSelectionChange:$,onSelectionDragStart:k,onSelectionDrag:T,onSelectionDragStop:j,onSelectionContextMenu:M,onSelectionStart:R,onSelectionEnd:E,onBeforeDelete:D,connectionMode:F,connectionLineType:z=Ir.Bezier,connectionLineStyle:V,connectionLineComponent:B,connectionLineContainerStyle:K,deleteKeyCode:q="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:W=!1,selectionMode:J=Va.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:Q=Pu()?"Meta":"Control",zoomActivationKeyCode:H=Pu()?"Meta":"Control",snapToGrid:re,snapGrid:se,onlyRenderVisibleElements:ye=!1,selectNodesOnDrag:he,nodesDraggable:pt,nodesConnectable:Un,nodesFocusable:xn,nodeOrigin:pr=aE,edgesFocusable:Bn,edgesReconnectable:mr,elementsSelectable:Et=!0,defaultViewport:_i=zF,minZoom:gr=.5,maxZoom:He=2,translateExtent:Qt=Ha,preventScrolling:Yd=!0,nodeExtent:Si,defaultMarkerColor:Zs="#b1b1b7",zoomOnScroll:Xd=!0,zoomOnPinch:Sl=!0,panOnScroll:ki=!1,panOnScrollSpeed:vr=.5,panOnScrollMode:kl=js.Free,zoomOnDoubleClick:yr=!0,panOnDrag:Qd=!0,onPaneClick:Jd,onPaneMouseEnter:El,onPaneMouseMove:Cl,onPaneMouseLeave:Zd,onPaneScroll:Ei,onPaneContextMenu:wn,paneClickDistance:Nl=0,nodeClickDistance:ie=0,children:be,onReconnect:ke,onReconnectStart:Ct,onReconnectEnd:Nt,onEdgeContextMenu:bn,onEdgeDoubleClick:Hn,onEdgeMouseEnter:jt,onEdgeMouseMove:_n,onEdgeMouseLeave:bN,reconnectRadius:_N=10,onNodesChange:SN,onEdgesChange:kN,noDragClassName:EN="nodrag",noWheelClassName:CN="nowheel",noPanClassName:n0="nopan",fitView:r0,fitViewOptions:s0,connectOnClick:NN,attributionPosition:jN,proOptions:PN,defaultEdgeOptions:TN,elevateNodesOnSelect:RN,elevateEdgesOnSelect:AN,disableKeyboardA11y:o0=!1,autoPanOnConnect:MN,autoPanOnNodeDrag:IN,autoPanSpeed:ON,connectionRadius:DN,isValidConnection:$N,onError:LN,style:FN,id:i0,nodeDragThreshold:zN,viewport:UN,onViewportChange:BN,width:HN,height:VN,colorMode:WN="light",debug:GN,onScroll:jl,...KN},qN){const ef=i0||"1",YN=VF(WN),XN=m.useCallback(a0=>{a0.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),jl==null||jl(a0)},[jl]);return u.jsx("div",{"data-testid":"rf__wrapper",...KN,onScroll:XN,style:{...FN,...l6},ref:qN,className:Be(["react-flow",s,YN]),id:i0,children:u.jsxs(a6,{nodes:e,edges:t,width:HN,height:VN,fitView:r0,fitViewOptions:s0,minZoom:gr,maxZoom:He,nodeOrigin:pr,nodeExtent:Si,children:[u.jsx(o6,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:v,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:o,edgeTypes:i,connectionLineType:z,connectionLineStyle:V,connectionLineComponent:B,connectionLineContainerStyle:K,selectionKeyCode:U,selectionOnDrag:W,selectionMode:J,deleteKeyCode:q,multiSelectionKeyCode:Q,panActivationKeyCode:ee,zoomActivationKeyCode:H,onlyRenderVisibleElements:ye,defaultViewport:_i,translateExtent:Qt,minZoom:gr,maxZoom:He,preventScrolling:Yd,zoomOnScroll:Xd,zoomOnPinch:Sl,zoomOnDoubleClick:yr,panOnScroll:ki,panOnScrollSpeed:vr,panOnScrollMode:kl,panOnDrag:Qd,onPaneClick:Jd,onPaneMouseEnter:El,onPaneMouseMove:Cl,onPaneMouseLeave:Zd,onPaneScroll:Ei,onPaneContextMenu:wn,paneClickDistance:Nl,nodeClickDistance:ie,onSelectionContextMenu:M,onSelectionStart:R,onSelectionEnd:E,onReconnect:ke,onReconnectStart:Ct,onReconnectEnd:Nt,onEdgeContextMenu:bn,onEdgeDoubleClick:Hn,onEdgeMouseEnter:jt,onEdgeMouseMove:_n,onEdgeMouseLeave:bN,reconnectRadius:_N,defaultMarkerColor:Zs,noDragClassName:EN,noWheelClassName:CN,noPanClassName:n0,rfId:ef,disableKeyboardA11y:o0,nodeExtent:Si,viewport:UN,onViewportChange:BN}),u.jsx(HF,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:b,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:y,nodesDraggable:pt,nodesConnectable:Un,nodesFocusable:xn,edgesFocusable:Bn,edgesReconnectable:mr,elementsSelectable:Et,elevateNodesOnSelect:RN,elevateEdgesOnSelect:AN,minZoom:gr,maxZoom:He,nodeExtent:Si,onNodesChange:SN,onEdgesChange:kN,snapToGrid:re,snapGrid:se,connectionMode:F,translateExtent:Qt,connectOnClick:NN,defaultEdgeOptions:TN,fitView:r0,fitViewOptions:s0,onNodesDelete:O,onEdgesDelete:L,onDelete:A,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:I,onSelectionDrag:T,onSelectionDragStart:k,onSelectionDragStop:j,onMove:d,onMoveStart:f,onMoveEnd:p,noPanClassName:n0,nodeOrigin:pr,rfId:ef,autoPanOnConnect:MN,autoPanOnNodeDrag:IN,autoPanSpeed:ON,onError:LN,connectionRadius:DN,isValidConnection:$N,selectNodesOnDrag:he,nodeDragThreshold:zN,onBeforeDelete:D,paneClickDistance:Nl,debug:GN}),u.jsx(FF,{onSelectionChange:$}),be,u.jsx(IF,{proOptions:PN,position:jN}),u.jsx(AF,{rfId:ef,disableKeyboardA11y:o0})]})})}var u6=dE(c6);function d6(e){const[t,n]=m.useState(e),r=m.useCallback(s=>n(o=>cE(s,o)),[]);return[t,n,r]}function f6(e){const[t,n]=m.useState(e),r=m.useCallback(s=>n(o=>uE(s,o)),[]);return[t,n,r]}function h6({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Be(["react-flow__background-pattern",n,r])})}function p6({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:Be(["react-flow__background-pattern","dots",t])})}var rr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(rr||(rr={}));const m6={[rr.Dots]:1,[rr.Lines]:1,[rr.Cross]:6},g6=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function DE({id:e,variant:t=rr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=0,color:i,bgColor:a,style:l,className:c,patternClassName:d}){const f=m.useRef(null),{transform:p,patternId:h}=ge(g6,Le),b=r||m6[t],g=t===rr.Dots,w=t===rr.Cross,y=Array.isArray(n)?n:[n,n],x=[y[0]*p[2]||1,y[1]*p[2]||1],v=b*p[2],_=Array.isArray(o)?o:[o,o],S=w?[v,v]:x,N=[_[0]*p[2]||1+S[0]/2,_[1]*p[2]||1+S[1]/2],C=`${h}${e||""}`;return u.jsxs("svg",{className:Be(["react-flow__background",c]),style:{...l,...Td,"--xy-background-color-props":a,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[u.jsx("pattern",{id:C,x:p[0]%x[0],y:p[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:g?u.jsx(p6,{radius:v/2,className:d}):u.jsx(h6,{dimensions:S,lineWidth:s,variant:t,className:d})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}DE.displayName="Background";const v6=m.memo(DE);function y6(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function x6(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function w6(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function b6(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function _6(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function hc({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:Be(["react-flow__controls-button",t]),...n,children:e})}const S6=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function $E({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:i,onFitView:a,onInteractiveChange:l,className:c,children:d,position:f="bottom-left",orientation:p="vertical","aria-label":h="React Flow controls"}){const b=Ae(),{isInteractive:g,minZoomReached:w,maxZoomReached:y}=ge(S6,Le),{zoomIn:x,zoomOut:v,fitView:_}=Pd(),S=()=>{x(),o==null||o()},N=()=>{v(),i==null||i()},C=()=>{_(s),a==null||a()},P=()=>{b.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)},I=p==="horizontal"?"horizontal":"vertical";return u.jsxs(jd,{className:Be(["react-flow__controls",I,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(hc,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:u.jsx(y6,{})}),u.jsx(hc,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w,children:u.jsx(x6,{})})]}),n&&u.jsx(hc,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:u.jsx(w6,{})}),r&&u.jsx(hc,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?u.jsx(_6,{}):u.jsx(b6,{})}),d]})}$E.displayName="Controls";const k6=m.memo($E);function E6({id:e,x:t,y:n,width:r,height:s,style:o,color:i,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:f,selected:p,onClick:h}){const{background:b,backgroundColor:g}=o||{},w=i||b||g;return u.jsx("rect",{className:Be(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:w,stroke:a,strokeWidth:l},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const C6=m.memo(E6),N6=e=>e.nodes.map(t=>t.id),th=e=>e instanceof Function?e:()=>e;function j6({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:o=C6,onClick:i}){const a=ge(N6,Le),l=th(t),c=th(e),d=th(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:a.map(p=>u.jsx(T6,{id:p,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:o,onClick:i,shapeRendering:f},p))})}function P6({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:o,shapeRendering:i,NodeComponent:a,onClick:l}){const{node:c,x:d,y:f,width:p,height:h}=ge(b=>{const{internals:g}=b.nodeLookup.get(e),w=g.userNode,{x:y,y:x}=g.positionAbsolute,{width:v,height:_}=hr(w);return{node:w,x:y,y:x,width:v,height:_}},Le);return!c||c.hidden||!Mk(c)?null:u.jsx(a,{x:d,y:f,width:p,height:h,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:o,shapeRendering:i,onClick:l,id:c.id})}const T6=m.memo(P6);var R6=m.memo(j6);const A6=200,M6=150,I6=e=>!e.hidden,O6=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Ak(xl(e.nodeLookup,{filter:I6}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},D6="react-flow__minimap-desc";function LE({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:p="bottom-right",onClick:h,onNodeClick:b,pannable:g=!1,zoomable:w=!1,ariaLabel:y="React Flow mini map",inversePan:x,zoomStep:v=10,offsetScale:_=5}){const S=Ae(),N=m.useRef(null),{boundingRect:C,viewBB:P,rfId:I,panZoom:O,translateExtent:L,flowWidth:A,flowHeight:$}=ge(O6,Le),k=(e==null?void 0:e.width)??A6,T=(e==null?void 0:e.height)??M6,j=C.width/k,M=C.height/T,R=Math.max(j,M),E=R*k,D=R*T,F=_*R,z=C.x-(E-C.width)/2-F,V=C.y-(D-C.height)/2-F,B=E+F*2,K=D+F*2,q=`${D6}-${I}`,U=m.useRef(0),W=m.useRef();U.current=R,m.useEffect(()=>{if(N.current&&O)return W.current=F5({domNode:N.current,panZoom:O,getTransform:()=>S.getState().transform,getViewScale:()=>U.current}),()=>{var Q;(Q=W.current)==null||Q.destroy()}},[O]),m.useEffect(()=>{var Q;(Q=W.current)==null||Q.update({translateExtent:L,width:A,height:$,inversePan:x,pannable:g,zoomStep:v,zoomable:w})},[g,w,x,v,L,A,$]);const J=h?Q=>{var se;const[H,re]=((se=W.current)==null?void 0:se.pointer(Q))||[0,0];h(Q,{x:H,y:re})}:void 0,ee=b?m.useCallback((Q,H)=>{const re=S.getState().nodeLookup.get(H).internals.userNode;b(Q,re)},[]):void 0;return u.jsx(jd,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*R:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:Be(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:k,height:T,viewBox:`${z} ${V} ${B} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:N,onClick:J,children:[y&&u.jsx("title",{id:q,children:y}),u.jsx(R6,{onClick:ee,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:a}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-F},${V-F}h${B+F*2}v${K+F*2}h${-B-F*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}LE.displayName="MiniMap";const $6=m.memo(LE);function L6({nodeId:e,position:t,variant:n=aa.Handle,className:r,style:s={},children:o,color:i,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:p,shouldResize:h,onResizeStart:b,onResize:g,onResizeEnd:w}){const y=mE(),x=typeof e=="string"?e:y,v=Ae(),_=m.useRef(null),S=n===aa.Line?"right":"bottom-right",N=t??S,C=m.useRef(null);m.useEffect(()=>{if(!(!_.current||!x))return C.current||(C.current=eF({domNode:_.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:L,transform:A,snapGrid:$,snapToGrid:k,nodeOrigin:T,domNode:j}=v.getState();return{nodeLookup:L,transform:A,snapGrid:$,snapToGrid:k,nodeOrigin:T,paneDomNode:j}},onChange:(L,A)=>{const{triggerNodeChanges:$,nodeLookup:k,parentLookup:T,nodeOrigin:j}=v.getState(),M=[],R={x:L.x,y:L.y},E=k.get(x);if(E&&E.expandParent&&E.parentId){const D=E.origin??j,F=L.width??E.measured.width??0,z=L.height??E.measured.height??0,V={id:E.id,parentId:E.parentId,rect:{width:F,height:z,...Ik({x:L.x??E.position.x,y:L.y??E.position.y},{width:F,height:z},E.parentId,k,D)}},B=Wg([V],k,T,j);M.push(...B),R.x=L.x?Math.max(D[0]*F,L.x):void 0,R.y=L.y?Math.max(D[1]*z,L.y):void 0}if(R.x!==void 0&&R.y!==void 0){const D={id:x,type:"position",position:{...R}};M.push(D)}if(L.width!==void 0&&L.height!==void 0){const F={id:x,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};M.push(F)}for(const D of A){const F={...D,type:"position"};M.push(F)}$(M)},onEnd:({width:L,height:A})=>{const $={id:x,type:"dimensions",resizing:!1,dimensions:{width:L,height:A}};v.getState().triggerNodeChanges([$])}})),C.current.update({controlPosition:N,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:p,onResizeStart:b,onResize:g,onResizeEnd:w,shouldResize:h}),()=>{var L;(L=C.current)==null||L.destroy()}},[N,a,l,c,d,f,b,g,w,h]);const P=N.split("-"),I=n===aa.Line?"borderColor":"backgroundColor",O=i?{...s,[I]:i}:s;return u.jsx("div",{className:Be(["react-flow__resize-control","nodrag",...P,n,r]),ref:_,style:O,children:o})}m.memo(L6);const F6=({data:e})=>{const{member:t,onSelect:n,onEdit:r,onDelete:s,isHighlighted:o,isDimmed:i,focusedRelationType:a,isHoverHighlighted:l,isCollapsed:c,onToggleCollapse:d,hasChildren:f,onNodeClick:p,onAddChild:h,canEdit:b}=e,[g,w]=m.useState(!1),y=m.useRef(null),x=m.useCallback(()=>{w(P=>!P),n(t),p(t)},[t,n,p,w]),v=m.useCallback(P=>{P.stopPropagation(),r(t),w(!1)},[t,r]),_=m.useCallback(P=>{P.stopPropagation(),confirm(`Are you sure you want to delete ${t.name}?`)&&s(t.id),w(!1)},[t.id,t.name,s]),S=m.useMemo(()=>{const P=new Date().getFullYear(),I=t.birthDate?new Date(t.birthDate).getFullYear():null,O=t.deathDate?new Date(t.deathDate).getFullYear():null;return O?O-(I||0):I?P-I:null},[t.birthDate,t.deathDate]),N=m.useCallback(P=>{P.stopPropagation(),d&&d(t.id),w(!1)},[t.id,d]),C=m.useCallback(P=>{(P.key==="Enter"||P.key===" ")&&x()},[x]);return m.useEffect(()=>{const P=I=>{y.current&&!y.current.contains(I.target)&&w(!1)};return g?document.addEventListener("mousedown",P):document.removeEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[g]),u.jsxs("div",{className:"family-member-node",onClick:x,role:"treeitem","aria-label":`Family member: ${t.name}, ${t.occupation||"details available on click"}`,tabIndex:0,onKeyDown:C,children:[u.jsx(li,{type:"target",position:ne.Top,className:"!w-2 !h-2 !bg-slate-400 !border-2 !border-white !shadow-sm"}),u.jsxs("div",{className:` 
          relative w-52 bg-white rounded-2xl shadow-lg
          cursor-pointer transition-all duration-300 ease-in-out hover:shadow-xl hover:-translate-y-1
          overflow-visible group  /* Changed overflow-hidden to overflow-visible */
          focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2
          ${l&&!i?"ring-2 ring-green-500 shadow-green-300/50":""}
          ${o&&a!=="self"&&!l?"ring-2 ring-amber-400 shadow-amber-200/50":""}
          ${c?"opacity-80":""}
          ${i&&!l?"opacity-30":""}
          ${!i&&a==="self"?"border-blue-500 ring-4 ring-blue-500 shadow-blue-300/50":!i&&a==="parent"?"border-sky-400":!i&&a==="spouse"?"border-pink-400":!i&&(a==="child"||a==="descendant")?"border-green-400":!i&&a==="sibling"?"border-purple-400":"border-slate-200"}
        `,children:[g&&u.jsxs("div",{ref:y,className:"absolute top-1/2 -translate-y-1/2 left-full ml-2 p-1 bg-card shadow-xl rounded-lg border z-30 flex flex-col space-y-1",onClick:P=>P.stopPropagation(),children:[b&&u.jsxs(Ql,{children:[u.jsx(Jl,{asChild:!0,children:u.jsx("button",{onClick:v,className:"p-2 hover:bg-accent rounded-md","aria-label":"Edit Member",children:u.jsx(DT,{className:"w-4 h-4"})})}),u.jsx(Hi,{children:u.jsx("p",{children:"Edit Member"})})]}),b&&h&&u.jsxs(Ql,{children:[u.jsx(Jl,{asChild:!0,children:u.jsx("button",{onClick:P=>{P.stopPropagation(),h&&h(t),w(!1)},className:"p-2 hover:bg-accent rounded-md","aria-label":"Add Child",children:u.jsx(uu,{className:"w-4 h-4"})})}),u.jsx(Hi,{children:u.jsx("p",{children:"Add Child"})})]}),f&&d&&u.jsxs(Ql,{children:[u.jsx(Jl,{asChild:!0,children:u.jsx("button",{onClick:N,className:"p-2 hover:bg-accent rounded-md","aria-label":c?"Expand Children":"Collapse Children",children:c?u.jsx(op,{className:"w-4 h-4"}):u.jsx(Ev,{className:"w-4 h-4"})})}),u.jsx(Hi,{children:u.jsx("p",{children:c?"Expand Children":"Collapse Children"})})]}),b&&u.jsxs(Ql,{children:[u.jsx(Jl,{asChild:!0,children:u.jsx("button",{onClick:_,className:"p-2 hover:bg-accent rounded-md","aria-label":"Delete Member",children:u.jsx(LT,{className:"w-4 h-4"})})}),u.jsx(Hi,{children:u.jsx("p",{children:"Delete Member"})})]})]}),u.jsxs("div",{className:`
          h-20 bg-gradient-to-br relative /* overflow-hidden removed from here to allow menu visibility */
          ${t.gender==="male"?"from-blue-500 via-blue-600 to-indigo-600":"from-rose-500 via-pink-600 to-purple-600"}
        `,children:[u.jsx("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:16px_16px]"}),u.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"w-12 h-12 bg-white rounded-full p-0.5 shadow-lg",children:u.jsx("div",{className:`
                w-full h-full rounded-full flex items-center justify-center overflow-hidden
                ${t.gender==="male"?"bg-blue-50":"bg-rose-50"}
              `,children:t.photo?u.jsx("img",{src:t.photo,alt:t.name,className:"w-full h-full object-cover rounded-full"}):u.jsx(Zm,{className:`w-6 h-6 ${t.gender==="male"?"text-blue-600":"text-rose-600"}`})})})})]}),u.jsxs("div",{className:"pt-4 pb-4 px-4 space-y-3",children:[u.jsxs("div",{className:"text-center min-h-[4rem]",children:[u.jsx("h3",{className:"font-semibold text-slate-900 text-lg leading-tight mb-1 min-h-[2.5rem] flex items-center justify-center",children:u.jsx("span",{className:"truncate max-w-full",children:t.name})}),u.jsx("div",{className:"min-h-[1.25rem] flex items-center justify-center",children:S&&u.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[u.jsx($s,{className:"w-3 h-3 mr-1"}),u.jsxs("span",{children:[S," years old"]})]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 rounded-lg px-2 py-1 min-h-[2rem]",children:t.mobileNumber?u.jsxs(u.Fragment,{children:[u.jsx(I1,{className:"w-3 h-3 mr-2 text-slate-400 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:t.mobileNumber})]}):u.jsx("span",{children:""})}),u.jsx("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 rounded-lg px-2 py-1 min-h-[2rem]",children:t.occupation?u.jsxs(u.Fragment,{children:[u.jsx(Qm,{className:"w-3 h-3 mr-2 text-slate-400 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:t.occupation})]}):u.jsx("span",{children:""})})]})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl pointer-events-none"}),f&&d&&!g&&u.jsx("button",{onClick:P=>{P.stopPropagation(),N(P)},className:`
                  absolute top-2 left-2 
                  w-7 h-7 rounded-full border border-white/50
                  flex items-center justify-center shadow-md
                  transition-all duration-200 hover:scale-105 z-10 
                  opacity-50 group-hover:opacity-100 
                  ${c?"bg-emerald-500 hover:bg-emerald-600":"bg-sky-500 hover:bg-sky-600"}
                `,"aria-label":c?`Expand children of ${t.name}`:`Collapse children of ${t.name}`,"aria-expanded":!c,children:c?u.jsx(op,{className:"w-4 h-4 text-white"}):u.jsx(Ev,{className:"w-4 h-4 text-white"})})]}),u.jsx(li,{type:"source",position:ne.Bottom,className:"!w-2 !h-2 !bg-slate-400 !border-2 !border-white !shadow-sm"})]})},z6=X.memo(F6);function U6(e,t,n,r,s,o,i,a,l,c,d){var O,L;const{generationSpacing:f,memberSpacing:p,nodeWidth:h,siblingSpacing:b}=o,g=new Map;let w=[],y=new Set;if(c==="PersonView"&&r){const A=e.find($=>$.id===r);if(A){const $=new Set;if($.add(A.id),(O=A.parents)==null||O.forEach(k=>$.add(k)),A.partners)try{const k=JSON.parse(A.partners);Array.isArray(k)&&k.forEach(T=>$.add(T))}catch(k){console.warn(`Failed to parse partners for focusedMember ${A.id} in PersonView: ${A.partners}`,k)}A.spouse&&$.add(A.spouse),e.forEach(k=>{if(k.id!==A.id){if(k.partners)try{const T=JSON.parse(k.partners);Array.isArray(T)&&T.includes(A.id)&&$.add(k.id)}catch(T){console.warn(`Failed to parse partners for member ${k.id} in PersonView reverse lookup: ${k.partners}`,T)}k.spouse===A.id&&$.add(k.id)}}),e.forEach(k=>{var T;(T=k.parents)!=null&&T.includes(A.id)&&$.add(k.id)}),A.parents&&e.forEach(k=>{var T;k.id!==A.id&&((T=k.parents)!=null&&T.some(j=>A.parents.includes(j)))&&$.add(k.id)}),w=e.filter(k=>$.has(k.id)),y=$}else w=e.map($=>({...$,generation:$.generation||1}))}else if(c==="LineageView"&&r){const A=e.find($=>$.id===r);if(A){let $=[];d==="Descendants"?$=sc(A.id,e,1):$=getAncestors(A.id,e,1),w=$,y=new Set(w.map(k=>k.id))}else w=e.map($=>({...$,generation:$.generation||1}))}else{const A=e.map(k=>({...k,generation:k.generation||1}));if(r&&c==="FullTree"){const k=e.find(T=>T.id===r);if(k){if(y.add(k.id),(L=k.parents)==null||L.forEach(j=>y.add(j)),k.partners)try{const j=JSON.parse(k.partners);Array.isArray(j)&&j.forEach(M=>y.add(M))}catch(j){console.warn(`Failed to parse partners for focusedMember ${k.id}: ${k.partners}`,j)}e.forEach(j=>{if(j.id!==k.id&&(j.spouse===k.id&&y.add(j.id),k.spouse===j.id&&y.add(j.id),j.partners))try{const M=JSON.parse(j.partners);Array.isArray(M)&&M.includes(k.id)&&y.add(j.id)}catch(M){console.warn(`Failed to parse partners for member ${j.id}: ${j.partners}`,M)}}),k.parents&&e.forEach(j=>{var M;j.id!==k.id&&((M=j.parents)!=null&&M.some(R=>k.parents.includes(R)))&&y.add(j.id)}),sc(k.id,e,k.generation||1).forEach(j=>y.add(j.id))}}let $;if(c==="FullTree"){const k=new Map,T=[...A].sort((j,M)=>(j.generation||1)-(M.generation||1));for(const j of T){let M=!0;if(j.parents&&j.parents.length>0){for(const R of j.parents)if(k.get(R)===!1||n[R]&&(!r||R!==r)){M=!1;break}}k.set(j.id,M)}$=A.filter(j=>k.get(j.id)!==!1),k.clear();for(const j of T){let M=!0;if(j.parents&&j.parents.length>0){for(const R of j.parents)if(k.get(R)===!1||n[R]){M=!1;break}}k.set(j.id,M)}$=A.filter(j=>k.get(j.id)!==!1)}else $=w;w=$}const x=w.map(A=>{var E,D,F,z,V,B,K,q;const $=((A.generation||1)-1)*f;g.set(A.id,$);const k=t&&A.name.toLowerCase().includes(t.toLowerCase()),T=!!l&&A.id===l;let j=!1;c==="FullTree"&&r&&(j=!y.has(A.id));let M=null;if(r&&(!j||c!=="FullTree")){const U=e.find(W=>W.id===r);U&&(A.id===r?M="self":(E=U.parents)!=null&&E.includes(A.id)?M="parent":(D=A.parents)!=null&&D.includes(r)?M="child":A.id===U.spouse||U.id===A.spouse?M="spouse":c!=="LineageView"&&U.parents&&((F=A.parents)!=null&&F.some(W=>U.parents.includes(W)))?A.id!==r&&!((z=U.parents)!=null&&z.includes(A.id))&&!((V=A.parents)!=null&&V.includes(r))&&A.id!==U.spouse&&U.id!==A.spouse&&(M="sibling"):c!=="LineageView"&&sc(r,e).some(W=>W.id===A.id&&W.id!==r)?A.id!==r&&!((B=A.parents)!=null&&B.includes(r))&&!((K=U.parents)!=null&&K.includes(A.id))&&A.id!==U.spouse&&U.id!==A.spouse&&!(U.parents&&((q=A.parents)!=null&&q.some(W=>U.parents.includes(W))))&&(M="descendant"):c==="LineageView"&&(d==="Ancestors"&&A.id!==r&&getAncestors(r,e).some(W=>W.id===A.id)?getAncestors(r,e).some(J=>J.id===A.id&&A.id!==r)&&(M="ancestor"):d==="Descendants"&&A.id!==r&&sc(r,e).some(W=>W.id===A.id)&&(M="descendant")))}c==="FullTree"?w.some(U=>{var W;return((W=U.parents)==null?void 0:W.includes(A.id))&&!n[A.id]}):w.some(U=>{var W;return(W=U.parents)==null?void 0:W.includes(A.id)});const R=!!e.some(U=>{var W;return(W=U.parents)==null?void 0:W.includes(A.id)});return{id:A.id,type:"familyMember",position:{x:0,y:$},data:{member:A,onSelect:s.onSelect,onEdit:s.onEdit,onDelete:s.onDelete,isHighlighted:k,isHoverHighlighted:T,isDimmed:j,focusedRelationType:M,isCollapsed:!!n[A.id],onToggleCollapse:s.onToggleCollapse,hasChildren:R,canEdit:i,onNodeClick:s.onNodeClick},sourcePosition:ne.Bottom,targetPosition:ne.Top}}),v=Math.max(0,...w.map(A=>A.generation||1)),_=new Map;let S=a/2;const N=new Map;x.forEach(A=>{const $=A.data.member.generation||1;N.has($)||N.set($,[]),N.get($).push(A)});for(let A=1;A<=v;A++){const $=N.get(A)||[];if($.length!==0)if(A===1){const k=$,T=w.filter(R=>(R.generation||1)===1).sort((R,E)=>R.id.localeCompare(E.id)),j=new Set;let M=0;if(T.forEach(R=>{const E=$.find(D=>D.id===R.id);if(E&&!j.has(E.id)){E.position.x=M,j.add(E.id),_.set(E.id,E.position.x);let D=E.position.x+h;if(R.spouse&&R.spouse!==R.id){const F=w.find(z=>z.id===R.spouse&&(z.generation||1)===1);if(F){const z=$.find(V=>V.id===F.id);z&&!j.has(z.id)&&(z.position.x=D+b,j.add(z.id),_.set(z.id,z.position.x),D=z.position.x+h)}}M=D+p}}),$.forEach(R=>{j.has(R.id)||(R.position.x=M,j.add(R.id),M+=h+p)}),k.length>0){const R=k.map(K=>K.position.x),E=Math.min(...R),D=k.map(K=>K.position.x+h),z=Math.max(...D)-E,V=a/2-(E+z/2);if(k.forEach(K=>{K.position.x+=V,_.set(K.id,K.position.x+h/2)}),k.map(K=>_.get(K.id)).length>0){const K=Math.min(...k.map(U=>U.position.x)),q=Math.max(...k.map(U=>U.position.x+h));S=K+(q-K)/2}}}else{const k=new Map;$.forEach(F=>{const z=F.data.member,V=z.parents&&z.parents.length>0?z.parents.sort().join("-"):`no-parents-${z.id}`;k.has(V)||k.set(V,[]),k.get(V).push(F)});const T=Array.from(k.keys()).sort(),j=[];let M=0;for(const F of T){const z=k.get(F),V=z.length*h+(z.length-1)*b;M+=V;let B=S;if(z.length>0&&z[0].data.member.parents&&z[0].data.member.parents.length>0){const K=z[0].data.member.parents.map(q=>_.get(q)).filter(q=>q!==void 0);K.length>0&&(B=K.reduce((q,U)=>q+U,0)/K.length)}j.push({parentKey:F,siblingGroup:z,groupWidth:V,avgParentX:B})}j.length>0&&(M+=(j.length-1)*p);let R=S;if(j.length>0){const F=j.reduce((V,B)=>V+B.avgParentX*B.siblingGroup.length,0),z=j.reduce((V,B)=>V+B.siblingGroup.length,0);z>0&&(R=F/z)}let D=R-M/2;j.forEach(({siblingGroup:F,groupWidth:z,avgParentX:V})=>{let B=0;const K=D;F.forEach(q=>{q.position.x=K+B+h/2,_.set(q.id,q.position.x),B+=h+b}),D+=z+p})}}const C=[],P=new Set(w.map(A=>A.id));return w.forEach(A=>{A.parents&&Array.isArray(A.parents)&&A.parents.forEach($=>{$&&P.has($)&&P.has(A.id)&&C.push({id:`edge-${$}-to-${A.id}`,source:$,target:A.id,type:"smoothstep",animated:!0,markerEnd:{type:Wa.ArrowClosed,color:"#60a5fa",width:20,height:20},style:{stroke:"#60a5fa",strokeWidth:2.5,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",transition:"stroke 0.3s ease, opacity 0.3s ease-in-out"}})})}),{nodes:x.map(A=>({...A})),edges:C}}const B6={familyMember:z6},FE={generationSpacing:600,memberSpacing:150,nodeWidth:208,siblingSpacing:70},H6=({nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:s,nodeTypes:o,setZoomInFunc:i,setZoomOutFunc:a,maxGeneration:l,fitView:c,defaultViewport:d,minZoom:f,maxZoom:p,style:h,onlyRenderVisibleElements:b,nodesDraggable:g,nodesConnectable:w,elementsSelectable:y})=>{const{zoomIn:x,zoomOut:v}=Pd();m.useEffect(()=>{i&&i(x),a&&a(v)},[x,v,i,a]);const _=FE;return u.jsxs(u6,{nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:s,nodeTypes:o,fitView:c,defaultViewport:d,minZoom:f,maxZoom:p,style:h,onlyRenderVisibleElements:b,nodesDraggable:g,nodesConnectable:w,elementsSelectable:y,children:[u.jsx(k6,{position:ne.TopRight}),u.jsx($6,{position:ne.BottomRight,nodeColor:S=>S.data.isHighlighted?"#22c55e":"#d1fae5",pannable:!0,zoomable:!0}),u.jsx(v6,{variant:rr.Dots,gap:40,size:2,color:"#a7f3d0",style:{opacity:.3},children:l>0&&Array.from({length:l},(S,N)=>N+1).map(S=>u.jsx("div",{style:{position:"absolute",left:0,top:`${(S-1)*_.generationSpacing}px`,width:"100%",height:`${_.generationSpacing}px`,backgroundColor:S%2===0?"rgba(0,0,0,0.025)":"rgba(0,0,0,0.015)",zIndex:-2}},`gen-bg-${S}`))})]})},V6=({members:e,onMemberSelect:t,searchQuery:n,onSetEditingMember:r,onDeleteMember:s,focusedMemberId:o,hoveredMemberId:i,canEdit:a,viewMode:l,lineageDirection:c,onNodeClick:d,setZoomInFunc:f,setZoomOutFunc:p})=>{const[h,b,g]=d6([]),[w,y,x]=f6([]),[v,_]=m.useState({}),[S,N]=m.useState(typeof window<"u"?window.innerWidth:1e3),C=m.useRef(null);m.useEffect(()=>{C.current&&N(C.current.offsetWidth);const k=new ResizeObserver(T=>{T[0]&&N(T[0].contentRect.width)});return C.current&&k.observe(C.current),()=>{C.current&&k.unobserve(C.current)}},[]);const P=m.useCallback(k=>{_(T=>({...T,[k]:!T[k]}))},[]),I=m.useCallback(k=>y(T=>Uk(k,T)),[y]),O=m.useMemo(()=>({onSelect:t,onEdit:r,onDelete:s,onToggleCollapse:P,onNodeClick:d}),[t,r,s,P,d]),{nodes:L,edges:A}=m.useMemo(()=>U6(e,n,v,o,O,FE,a,S,i,l,c),[e,n,v,o,i,O,a,S,l,c]);m.useEffect(()=>{b(L),y(A)},[L,A,b,y]);const $=m.useMemo(()=>!L||L.length===0?0:Math.max(...L.map(k=>k.data.member.generation||0)),[L]);return u.jsx("div",{className:"w-full h-full relative",ref:C,children:u.jsx(OE,{children:u.jsx(H6,{nodes:h,edges:w,onNodesChange:g,onEdgesChange:x,onConnect:I,nodeTypes:B6,setZoomInFunc:f,setZoomOutFunc:p,maxGeneration:$,fitView:!0,defaultViewport:{x:0,y:0,zoom:.7},minZoom:.1,maxZoom:1.5,style:{background:"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f7fee7 100%)"},onlyRenderVisibleElements:!0,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!0})})})},W6="modulepreload",G6=function(e){return"/"+e},px={},ci=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=G6(l),l in px)return;px[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":W6,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},K6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ci(async()=>{const{default:r}=await Promise.resolve().then(()=>xi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Kg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class q6 extends Kg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Y6 extends Kg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X6 extends Kg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Op;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Op||(Op={}));var Q6=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class J6{constructor(t,{headers:n={},customFetch:r,region:s=Op.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=K6(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Q6(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(b=>{throw new q6(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Y6(d);if(!d.ok)throw new X6(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield d.json():p==="application/octet-stream"?h=yield d.blob():p==="text/event-stream"?h=d:p==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var yt={},qg={},Ad={},bl={},Md={},Id={},Z6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ui=Z6();const e8=ui.fetch,zE=ui.fetch.bind(ui),UE=ui.Headers,t8=ui.Request,n8=ui.Response,xi=Object.freeze(Object.defineProperty({__proto__:null,Headers:UE,Request:t8,Response:n8,default:zE,fetch:e8},Symbol.toStringTag,{value:"Module"})),r8=JN(xi);var Od={};Object.defineProperty(Od,"__esModule",{value:!0});let s8=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Od.default=s8;var BE=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Id,"__esModule",{value:!0});const o8=BE(r8),i8=BE(Od);let a8=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=o8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,d=null,f=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(d=[],c=null,p=200,h="OK")}catch{o.status===404&&g===""?(p=204,h="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,h="OK"),c&&this.shouldThrowOnError)throw new i8.default(c)}return{error:c,data:d,count:f,status:p,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Id.default=a8;var l8=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Md,"__esModule",{value:!0});const c8=l8(Id);let u8=class extends c8.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Md.default=u8;var d8=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bl,"__esModule",{value:!0});const f8=d8(Md);let h8=class extends f8.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};bl.default=h8;var p8=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});const Li=p8(bl);let m8=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Li.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Li.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Li.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ad.default=m8;var Dd={},$d={};Object.defineProperty($d,"__esModule",{value:!0});$d.version=void 0;$d.version="0.0.0-automated";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.DEFAULT_HEADERS=void 0;const g8=$d;Dd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${g8.version}`};var HE=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qg,"__esModule",{value:!0});const v8=HE(Ad),y8=HE(bl),x8=Dd;let w8=class VE{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},x8.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new v8.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new VE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new y8.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};qg.default=w8;var wi=qt&&qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const WE=wi(qg);yt.PostgrestClient=WE.default;const GE=wi(Ad);yt.PostgrestQueryBuilder=GE.default;const KE=wi(bl);yt.PostgrestFilterBuilder=KE.default;const qE=wi(Md);yt.PostgrestTransformBuilder=qE.default;const YE=wi(Id);yt.PostgrestBuilder=YE.default;const XE=wi(Od);yt.PostgrestError=XE.default;var b8=yt.default={PostgrestClient:WE.default,PostgrestQueryBuilder:GE.default,PostgrestFilterBuilder:KE.default,PostgrestTransformBuilder:qE.default,PostgrestBuilder:YE.default,PostgrestError:XE.default};const{PostgrestClient:_8,PostgrestQueryBuilder:DH,PostgrestFilterBuilder:$H,PostgrestTransformBuilder:LH,PostgrestBuilder:FH,PostgrestError:zH}=b8,S8="2.11.2",k8={"X-Client-Info":`realtime-js/${S8}`},E8="1.0.0",QE=1e4,C8=1e3;var Oo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Oo||(Oo={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ln||(ln={}));var Dp;(function(e){e.websocket="websocket"})(Dp||(Dp={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class N8{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class JE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const mx=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=j8(i,e,t,s),o),{})},j8=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?ZE(o,i):$p(i)},ZE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return A8(t,n)}switch(e){case Ee.bool:return P8(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return T8(t);case Ee.json:case Ee.jsonb:return R8(t);case Ee.timestamp:return M8(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return $p(t);default:return $p(t)}},$p=e=>e,P8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},T8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},A8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>ZE(t,a))}return e},M8=e=>typeof e=="string"?e.replace(" ","T"):e,eC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class nh{constructor(t,n,r={},s=QE){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gx||(gx={}));class la{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=la.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=la.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=la.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const p=d.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),b=d.filter(w=>h.indexOf(w.presence_ref)<0),g=f.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(a[c]=b),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vx||(vx={}));var yx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yx||(yx={}));var qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class Yg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nh(this,ln.join,this.params,this.timeout),this.rejoinTimer=new JE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new la(this),this.broadcastEndpointURL=eC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(qn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(qn.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(qn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,h=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,b=[];for(let g=0;g<h;g++){const w=p[g],{filter:{event:y,schema:x,table:v,filter:_}}=w,S=d&&d[g];if(S&&S.event===y&&S.schema===x&&S.table===v&&S.filter===_)b.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(qn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new nh(this,ln.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nh(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=ln;if(r&&[a,l,c,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var b,g,w;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(g=h.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(h=>h.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var b,g,w,y,x,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const _=h.id,S=(b=h.filter)===null||b===void 0?void 0:b.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:g,table:w,commit_timestamp:y,type:x,errors:v}=b;p=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(b))}h.callback(p,r)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Yg.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mx(t.columns,t.old_record)),n}}const I8=()=>{},O8=typeof WebSocket<"u",D8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $8{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=k8,this.params={},this.timeout=QE,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=I8,this.conn=null,this.sendBuffer=[],this.serializer=new N8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>ci(async()=>{const{default:l}=await Promise.resolve().then(()=>xi);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Dp.websocket}`,this.httpEndpoint=eC(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new JE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(O8){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new L8(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ci(async()=>{const{default:t}=await import("./browser-Ch2EjlEm.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:E8}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Oo.connecting:return ps.Connecting;case Oo.open:return ps.Open;case Oo.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,n={config:{}}){const r=new Yg(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(ln.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(C8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([D8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class L8{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Oo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Xg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class F8 extends Xg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lp extends Xg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var z8=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const tC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ci(async()=>{const{default:r}=await Promise.resolve().then(()=>xi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},U8=()=>z8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ci(()=>Promise.resolve().then(()=>xi),void 0)).Response:Response}),Fp=e=>{if(Array.isArray(e))return e.map(n=>Fp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Fp(r)}),t};var Js=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const rh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B8=(e,t,n)=>Js(void 0,void 0,void 0,function*(){const r=yield U8();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new F8(rh(s),e.status||500))}).catch(s=>{t(new Lp(rh(s),s))}):t(new Lp(rh(e),e))}),H8=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function _l(e,t,n,r,s,o){return Js(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,H8(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>B8(l,a,r))})})}function Ru(e,t,n,r){return Js(this,void 0,void 0,function*(){return _l(e,"GET",t,n,r)})}function Rr(e,t,n,r,s){return Js(this,void 0,void 0,function*(){return _l(e,"POST",t,r,s,n)})}function V8(e,t,n,r,s){return Js(this,void 0,void 0,function*(){return _l(e,"PUT",t,r,s,n)})}function W8(e,t,n,r){return Js(this,void 0,void 0,function*(){return _l(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nC(e,t,n,r,s){return Js(this,void 0,void 0,function*(){return _l(e,"DELETE",t,r,s,n)})}var mt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const G8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K8{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=tC(s)}uploadOrUpdate(t,n,r,s){return mt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},xx),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}upload(t,n,r){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return mt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:xx.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return mt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Rr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Xg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}update(t,n,r){return mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return mt(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}copy(t,n,r){return mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Rr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return mt(this,void 0,void 0,function*(){try{const s=yield Rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}download(t,n){return mt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ru(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}info(t){return mt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ru(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fp(r),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}exists(t){return mt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield W8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ge(r)&&r instanceof Lp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return mt(this,void 0,void 0,function*(){try{return{data:yield nC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}list(t,n,r){return mt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},G8),n),{prefix:t||""});return{data:yield Rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const q8="2.7.1",Y8={"X-Client-Info":`storage-js/${q8}`};var oo=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class X8{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Y8),n),this.fetch=tC(r)}listBuckets(){return oo(this,void 0,void 0,function*(){try{return{data:yield Ru(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield Ru(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return oo(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return oo(this,void 0,void 0,function*(){try{return{data:yield V8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield nC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}}class Q8 extends X8{constructor(t,n={},r){super(t,n,r)}from(t){return new K8(this.url,this.headers,t,this.fetch)}}const J8="2.49.8";let qi="";typeof Deno<"u"?qi="deno":typeof document<"u"?qi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qi="react-native":qi="node";const Z8={"X-Client-Info":`supabase-js-${qi}/${J8}`},eU={headers:Z8},tU={schema:"public"},nU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rU={};var sU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const oU=e=>{let t;return e?t=e:typeof fetch>"u"?t=zE:t=fetch,(...n)=>t(...n)},iU=()=>typeof Headers>"u"?UE:Headers,aU=(e,t,n)=>{const r=oU(n),s=iU();return(o,i)=>sU(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var lU=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function cU(e){return e.endsWith("/")?e:e+"/"}function uU(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>lU(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const rC="2.69.1",lo=30*1e3,zp=3,sh=zp*lo,dU="http://localhost:9999",fU="supabase.auth.token",hU={"X-Client-Info":`gotrue-js/${rC}`},Up="X-Supabase-Api-Version",sC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mU=6e5;class Qg extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gU extends Qg{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vU(e){return ue(e)&&e.name==="AuthApiError"}class oC extends Qg{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class is extends Qg{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Cr extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yU(e){return ue(e)&&e.name==="AuthSessionMissingError"}class oh extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mc extends is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xU(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class wx extends is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bp extends is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ih(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class bx extends is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ca extends is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sx=` 	
\r=`.split(""),wU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sx.length;t+=1)e[Sx[t].charCodeAt(0)]=-2;for(let t=0;t<_x.length;t+=1)e[_x[t].charCodeAt(0)]=t;return e})();function iC(e,t,n){const r=wU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kx(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{SU(i,r,n)};for(let i=0;i<e.length;i+=1)iC(e.charCodeAt(i),s,o);return t.join("")}function bU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _U(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}bU(r,t)}}function SU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function kU(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)iC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function EU(e){const t=[];return _U(e,n=>t.push(n)),new Uint8Array(t)}function CU(e){return Math.round(Date.now()/1e3)+e}function NU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kn=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},ua=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function jU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const aC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ci(async()=>{const{default:r}=await Promise.resolve().then(()=>xi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},PU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lC=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vc=async(e,t)=>{await e.removeItem(t)};class Ld{constructor(){this.promise=new Ld.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ld.promiseConstructor=Promise;function ah(e){const t=e.split(".");if(t.length!==3)throw new ca("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!pU.test(t[r]))throw new ca("JWT not in base64url format");return{header:JSON.parse(kx(t[0])),payload:JSON.parse(kx(t[1])),signature:kU(t[2]),raw:{header:t[0],payload:t[1]}}}async function TU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RU(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function AU(e){return("0"+e.toString(16)).substr(-2)}function MU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,AU).join("")}async function IU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function OU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await IU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function io(e,t,n=!1){const r=MU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await lC(e,`${t}-code-verifier`,s);const o=await OU(r);return[o,r===o?"plain":"s256"]}const DU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $U(e){const t=e.headers.get(Up);if(!t||!t.match(DU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function LU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var zU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const hs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UU=[502,503,504];async function Ex(e){var t;if(!PU(e))throw new Bp(hs(e),0);if(UU.includes(e.status))throw new Bp(hs(e),e.status);let n;try{n=await e.json()}catch(o){throw new oC(hs(o),o)}let r;const s=$U(e);if(s&&s.getTime()>=sC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bx(hs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new bx(hs(n),e.status,n.weak_password.reasons);throw new gU(hs(n),e.status||500,r)}const BU=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function fe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Up]||(o[Up]=sC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await HU(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function HU(e,t,n,r,s,o){const i=BU(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new Bp(hs(l),0)}if(a.ok||await Ex(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ex(l)}}function Nr(e){var t;let n=null;KU(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=CU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Cx(e){const t=Nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function VU(e){return{data:e,error:null}}function WU(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=zU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function GU(e){return e}function KU(e){return e.access_token&&e.refresh_token&&e.expires_in}var qU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class YU{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=aC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Or})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=qU(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:WU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:GU});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);c[`${w}Page`]=g}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Or})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Or})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}const XU={getItem:e=>ua()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ua()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ua()&&globalThis.localStorage.removeItem(e)}};function Nx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function QU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ao={debug:!!(globalThis&&ua()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JU extends cC{}async function ZU(e,t,n){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ao.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}QU();const eB={url:dU,storageKey:fU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jx(e,t,n){return await n()}class Ya{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ya.nextInstanceID,Ya.nextInstanceID+=1,this.instanceID>0&&kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},eB),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new YU({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=aC(s.fetch),this.lock=s.lock||jx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ZU:this.lock=jx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ua()?this.storage=XU:(this.memoryStorage={},this.storage=Nx(this.memoryStorage)):(this.memoryStorage={},this.storage=Nx(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=jU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),kn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),xU(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new oC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nr}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await io(this.storage,this.storageKey)),o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:b},xform:Nr})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Nr})}else throw new pc("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cx})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cx})}else throw new pc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new oh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await gc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Nr});if(await vc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new oh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ue(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new oh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await io(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new pc("You must provide either an email or phone number.")}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Nr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await io(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:VU})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Cr;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new pc("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<sh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Or}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cr}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Or})})}catch(n){if(ue(n))return yU(n)&&(await this._removeSession(),await vc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Cr;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await io(this.storage,this.storageKey));const{data:c,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Or});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=ah(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!kn())throw new mc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wx("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new mc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const b=p-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(vU(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await vc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=NU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await io(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:p}=o;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return kn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await RU(async s=>(s>0&&await TU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ih(o)&&Date.now()+i-r<lo})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await gc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<sh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${sh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),ih(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ld;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Cr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),ue(o)){const i={session:null,error:o};return ih(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await vc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lo}ms, refresh threshold is ${zp} ticks`),s<=zp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await io(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ah(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+mU>Date.now()))return r;const{data:s,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ca("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new ca("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:b}=await this.getSession();if(b||!h.session)return{data:null,error:b};r=h.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=ah(r);if(LU(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:s,signature:i},error:null}}const c=FU(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,EU(`${a}.${l}`)))throw new ca("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}Ya.nextInstanceID=0;const tB=Ya;class nB extends tB{constructor(t){super(t)}}var rB=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class sB{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=cU(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:tU,realtime:rU,auth:Object.assign(Object.assign({},nU),{storageKey:c}),global:eU},f=uU(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=aU(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new _8(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new J6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Q8(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return rB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new $8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oB=(e,t,n)=>new sB(e,t,n),iB="https://mxvqldnxpilsvvpnrfcy.supabase.co",aB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14dnFsZG54cGlsc3Z2cG5yZmN5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2ODMwNzgsImV4cCI6MjA2MzI1OTA3OH0.rM5tGo2SKuyP_cAEMKupRZTwtQRGUKdyn9bEaSTAiUI",Ce=oB(iB,aB),uC=e=>{if(typeof e!="string"||e.trim()==="")return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t.filter(n=>typeof n=="string").map(n=>n.trim()).filter(n=>n.length>0);console.warn("Partners string parsed as JSON but is not an array:",t)}catch{}if(e.startsWith("{")&&e.endsWith("}"))try{const t=e.substring(1,e.length-1);if(t.trim()==="")return[];const n=t.split(",").map(r=>{let s=r.trim();return s.startsWith('"')&&s.endsWith('"')&&(s=s.substring(1,s.length-1),s=s.replace(/""/g,'"')),s}).filter(r=>r.length>0);if(n.length>0&&n.some(r=>r.length>0))return n}catch(t){console.error("Error parsing PostgreSQL-like array string:",e,t)}return console.warn("Could not parse partners string using known methods. String was:",e),[]},dC=m.createContext(void 0),lB=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(null),[o,i]=m.useState(!0);m.useEffect(()=>{i(!0),(async()=>{const{data:{session:f}}=await Ce.auth.getSession();n(f),s((f==null?void 0:f.user)??null),i(!1)})();const{data:d}=Ce.auth.onAuthStateChange(async(f,p)=>{n(p),s((p==null?void 0:p.user)??null)});return()=>{d==null||d.unsubscribe()}},[]);const l={session:t,user:r,loading:o,signOut:async()=>{i(!0),await Ce.auth.signOut(),i(!1)}};return u.jsx(dC.Provider,{value:l,children:e})},fC=()=>{const e=m.useContext(dC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},cB=({member:e,onClose:t,onEditRequest:n})=>{const{user:r,loading:s}=fC(),o=!s&&!!r,[i,a]=m.useState(null),[l,c]=m.useState([]),[d,f]=m.useState([]),[p,h]=m.useState(!0),b=m.useMemo(()=>uC(i==null?void 0:i.partners),[i==null?void 0:i.partners]),g=async x=>{if(!x||x.length===0)return[];const{data:v,error:_}=await Ce.from("family_members").select("id, name").in("id",x);return _?(console.error(`Error fetching names for IDs ${x.join(",")}:`,_),[]):(v==null?void 0:v.map(S=>S.name).filter(Boolean))||[]};m.useEffect(()=>{(async()=>{if(!(e!=null&&e.id)){h(!1),a(null);return}h(!0),a(null),c([]),f([]);try{const{data:v,error:_}=await Ce.from("family_members").select("*").eq("id",e.id).single();if(_){console.error("Error fetching detailed member data:",_),a(null),h(!1);return}if(a(v),v){if(v.parents&&v.parents.length>0){const S=await g(v.parents);c(S)}if(v.children&&v.children.length>0){const S=await g(v.children);f(S)}}}catch(v){console.error("Error in fetchModalData:",v),a(null)}finally{h(!1)}})()},[e==null?void 0:e.id]);const w=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",y=()=>{if(!(i!=null&&i.birthDate))return null;const x=new Date(i.birthDate),v=i.deathDate?new Date(i.deathDate):new Date,_=v.getFullYear()-x.getFullYear(),S=v.getMonth()-x.getMonth();return S<0||S===0&&v.getDate()<x.getDate()?_-1:_};return p?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:u.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl",children:u.jsx("p",{className:"text-center text-xl",children:"Loading member details..."})})}):i?u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:[" ",u.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[u.jsxs("div",{className:`
          relative p-6 rounded-t-2xl
          ${i.gender==="male"?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-pink-500 to-pink-600"}
        `,children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:u.jsx(cl,{className:"h-6 w-6"})}),u.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[u.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:i.photo?u.jsx("img",{src:i.photo,alt:i.name,className:"w-20 h-20 rounded-full object-cover"}):u.jsx(Zm,{className:"h-10 w-10"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:i.name}),y()!==null&&u.jsxs("p",{className:"text-lg opacity-90",children:[y()," years old ",i.deathDate&&"(deceased)"]})]})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx($s,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Born"}),u.jsx("p",{children:w(i.birthDate)})]})]}),i.deathDate&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx($s,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Died"}),u.jsx("p",{children:w(i.deathDate)})]})]}),i.birthPlace&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(M1,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Birthplace"}),u.jsx("p",{children:i.birthPlace})]})]}),i.occupation&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(Qm,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Occupation"}),u.jsx("p",{children:i.occupation})]})]}),i.coParentName&&u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[u.jsx(Cs,{className:"h-5 w-5"})," ",u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Co-parent Name"}),u.jsx("p",{children:i.coParentName})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[b.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[u.jsx(R1,{className:"h-5 w-5"}),u.jsx("p",{className:"font-medium",children:"Partner(s)"})]}),u.jsx("div",{className:"space-y-2",children:b.map((x,v)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsx("p",{className:"font-medium",children:x})},v))})]}),l.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[u.jsx(Cs,{className:"h-5 w-5"}),u.jsx("p",{className:"font-medium",children:"Parents"})]}),u.jsx("div",{className:"space-y-2",children:l.map((x,v)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsx("p",{className:"font-medium",children:x})},v))})]}),d.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mb-2",children:[u.jsx(Cs,{className:"h-5 w-5"})," ",u.jsx("p",{className:"font-medium",children:"Children"})]}),u.jsx("div",{className:"space-y-2",children:d.map((x,v)=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:u.jsx("p",{className:"font-medium",children:x})},v))})]})]})]}),i.bio&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Biography"}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.bio})})]})]}),u.jsxs("div",{className:"border-t bg-gray-50 px-6 py-4 rounded-b-2xl flex space-x-3",children:[u.jsx("button",{onClick:t,className:`flex-1 bg-slate-500 text-white py-2.5 px-4 rounded-lg
                       hover:bg-slate-600 transition-colors font-medium text-sm`,children:"Close"}),o&&i&&u.jsx("button",{onClick:()=>{n(i),t()},className:`flex-1 bg-blue-500 text-white py-2.5 px-4 rounded-lg
                         hover:bg-blue-600 transition-colors font-medium text-sm`,children:"Edit Member"})]})]})]}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[55] p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl text-center",children:[u.jsx("p",{className:"text-xl mb-4",children:"Member details not available."}),u.jsx("button",{onClick:t,className:"bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})]})})},pe=m.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));pe.displayName="Input";var Fd="Dialog",[hC,UH]=fr(Fd),[uB,yn]=hC(Fd),pC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=m.useRef(null),l=m.useRef(null),[c,d]=Ds({prop:r,defaultProp:s??!1,onChange:o,caller:Fd});return u.jsx(uB,{scope:t,triggerRef:a,contentRef:l,contentId:Mn(),titleId:Mn(),descriptionId:Mn(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};pC.displayName=Fd;var mC="DialogTrigger",gC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yn(mC,n),o=we(t,s.triggerRef);return u.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":e0(s.open),...r,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});gC.displayName=mC;var Jg="DialogPortal",[dB,vC]=hC(Jg,{forceMount:void 0}),yC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=yn(Jg,t);return u.jsx(dB,{scope:t,forceMount:n,children:m.Children.map(r,i=>u.jsx(Ln,{present:n||o.open,children:u.jsx(il,{asChild:!0,container:s,children:i})}))})};yC.displayName=Jg;var Au="DialogOverlay",xC=m.forwardRef((e,t)=>{const n=vC(Au,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=yn(Au,e.__scopeDialog);return o.modal?u.jsx(Ln,{present:r||o.open,children:u.jsx(hB,{...s,ref:t})}):null});xC.displayName=Au;var fB=Os("DialogOverlay.RemoveScroll"),hB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yn(Au,n);return u.jsx(dd,{as:fB,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(le.div,{"data-state":e0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Us="DialogContent",wC=m.forwardRef((e,t)=>{const n=vC(Us,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=yn(Us,e.__scopeDialog);return u.jsx(Ln,{present:r||o.open,children:o.modal?u.jsx(pB,{...s,ref:t}):u.jsx(mB,{...s,ref:t})})});wC.displayName=Us;var pB=m.forwardRef((e,t)=>{const n=yn(Us,e.__scopeDialog),r=m.useRef(null),s=we(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return kg(o)},[]),u.jsx(bC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),mB=m.forwardRef((e,t)=>{const n=yn(Us,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return u.jsx(bC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),bC=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=yn(Us,n),l=m.useRef(null),c=we(t,l);return Sg(),u.jsxs(u.Fragment,{children:[u.jsx(cd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(pi,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":e0(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(gB,{titleId:a.titleId}),u.jsx(yB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Zg="DialogTitle",_C=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yn(Zg,n);return u.jsx(le.h2,{id:s.titleId,...r,ref:t})});_C.displayName=Zg;var SC="DialogDescription",kC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yn(SC,n);return u.jsx(le.p,{id:s.descriptionId,...r,ref:t})});kC.displayName=SC;var EC="DialogClose",CC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yn(EC,n);return u.jsx(le.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});CC.displayName=EC;function e0(e){return e?"open":"closed"}var NC="DialogTitleWarning",[BH,jC]=T2(NC,{contentName:Us,titleName:Zg,docsSlug:"dialog"}),gB=({titleId:e})=>{const t=jC(NC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vB="DialogDescriptionWarning",yB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jC(vB).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PC=pC,xB=gC,TC=yC,zd=xC,Ud=wC,Bd=_C,Hd=kC,RC=CC;const Do=PC,wB=xB,bB=TC,AC=m.forwardRef(({className:e,...t},n)=>u.jsx(zd,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AC.displayName=zd.displayName;const Ps=m.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(bB,{children:[u.jsx(AC,{}),u.jsxs(Ud,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(RC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(cl,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ps.displayName=Ud.displayName;const Vd=({className:e,...t})=>u.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vd.displayName="DialogHeader";const Wd=m.forwardRef(({className:e,...t},n)=>u.jsx(Bd,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Wd.displayName=Bd.displayName;const _B=m.forwardRef(({className:e,...t},n)=>u.jsx(Hd,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));_B.displayName=Hd.displayName;function Px(e,[t,n]){return Math.min(n,Math.max(t,e))}function SB(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kB=[" ","Enter","ArrowUp","ArrowDown"],EB=[" ","Enter"],Bs="Select",[Gd,Kd,CB]=Qu(Bs),[bi,HH]=fr(Bs,[CB,yi]),qd=yi(),[NB,as]=bi(Bs),[jB,PB]=bi(Bs),MC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:h,form:b}=e,g=qd(t),[w,y]=m.useState(null),[x,v]=m.useState(null),[_,S]=m.useState(!1),N=_g(c),[C,P]=Ds({prop:r,defaultProp:s??!1,onChange:o,caller:Bs}),[I,O]=Ds({prop:i,defaultProp:a,onChange:l,caller:Bs}),L=m.useRef(null),A=w?b||!!w.closest("form"):!0,[$,k]=m.useState(new Set),T=Array.from($).map(j=>j.props.value).join(";");return u.jsx(fg,{...g,children:u.jsxs(NB,{required:h,scope:t,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Mn(),value:I,onValueChange:O,open:C,onOpenChange:P,dir:N,triggerPointerDownPosRef:L,disabled:p,children:[u.jsx(Gd.Provider,{scope:t,children:u.jsx(jB,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(j=>{k(M=>new Set(M).add(j))},[]),onNativeOptionRemove:m.useCallback(j=>{k(M=>{const R=new Set(M);return R.delete(j),R})},[]),children:n})}),A?u.jsxs(rN,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:j=>O(j.target.value),disabled:p,form:b,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from($)]},T):null]})})};MC.displayName=Bs;var IC="SelectTrigger",OC=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=qd(n),i=as(IC,n),a=i.disabled||r,l=we(t,i.onTriggerChange),c=Kd(n),d=m.useRef("touch"),[f,p,h]=oN(g=>{const w=c().filter(v=>!v.disabled),y=w.find(v=>v.value===i.value),x=iN(w,g,y);x!==void 0&&i.onValueChange(x.value)}),b=g=>{a||(i.onOpenChange(!0),h()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(hg,{asChild:!0,...o,children:u.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":sN(i.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:Z(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:Z(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&kB.includes(g.key)&&(b(),g.preventDefault())})})})});OC.displayName=IC;var DC="SelectValue",$C=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=as(DC,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=we(t,l.onValueNodeChange);return Ze(()=>{c(d)},[c,d]),u.jsx(le.span,{...a,ref:f,style:{pointerEvents:"none"},children:sN(l.value)?u.jsx(u.Fragment,{children:i}):o})});$C.displayName=DC;var TB="SelectIcon",LC=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});LC.displayName=TB;var RB="SelectPortal",FC=e=>u.jsx(il,{asChild:!0,...e});FC.displayName=RB;var Hs="SelectContent",zC=m.forwardRef((e,t)=>{const n=as(Hs,e.__scopeSelect),[r,s]=m.useState();if(Ze(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Gs.createPortal(u.jsx(UC,{scope:e.__scopeSelect,children:u.jsx(Gd.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(BC,{...e,ref:t})});zC.displayName=Hs;var en=10,[UC,ls]=bi(Hs),AB="SelectContentImpl",MB=Os("SelectContent.RemoveScroll"),BC=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:b,hideWhenDetached:g,avoidCollisions:w,...y}=e,x=as(Hs,n),[v,_]=m.useState(null),[S,N]=m.useState(null),C=we(t,U=>_(U)),[P,I]=m.useState(null),[O,L]=m.useState(null),A=Kd(n),[$,k]=m.useState(!1),T=m.useRef(!1);m.useEffect(()=>{if(v)return kg(v)},[v]),Sg();const j=m.useCallback(U=>{const[W,...J]=A().map(H=>H.ref.current),[ee]=J.slice(-1),Q=document.activeElement;for(const H of U)if(H===Q||(H==null||H.scrollIntoView({block:"nearest"}),H===W&&S&&(S.scrollTop=0),H===ee&&S&&(S.scrollTop=S.scrollHeight),H==null||H.focus(),document.activeElement!==Q))return},[A,S]),M=m.useCallback(()=>j([P,v]),[j,P,v]);m.useEffect(()=>{$&&M()},[$,M]);const{onOpenChange:R,triggerPointerDownPosRef:E}=x;m.useEffect(()=>{if(v){let U={x:0,y:0};const W=ee=>{var Q,H;U={x:Math.abs(Math.round(ee.pageX)-(((Q=E.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((H=E.current)==null?void 0:H.y)??0))}},J=ee=>{U.x<=10&&U.y<=10?ee.preventDefault():v.contains(ee.target)||R(!1),document.removeEventListener("pointermove",W),E.current=null};return E.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",J,{capture:!0})}}},[v,R,E]),m.useEffect(()=>{const U=()=>R(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[R]);const[D,F]=oN(U=>{const W=A().filter(Q=>!Q.disabled),J=W.find(Q=>Q.ref.current===document.activeElement),ee=iN(W,U,J);ee&&setTimeout(()=>ee.ref.current.focus())}),z=m.useCallback((U,W,J)=>{const ee=!T.current&&!J;(x.value!==void 0&&x.value===W||ee)&&(I(U),ee&&(T.current=!0))},[x.value]),V=m.useCallback(()=>v==null?void 0:v.focus(),[v]),B=m.useCallback((U,W,J)=>{const ee=!T.current&&!J;(x.value!==void 0&&x.value===W||ee)&&L(U)},[x.value]),K=r==="popper"?Hp:HC,q=K===Hp?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:b,hideWhenDetached:g,avoidCollisions:w}:{};return u.jsx(UC,{scope:n,content:v,viewport:S,onViewportChange:N,itemRefCallback:z,selectedItem:P,onItemLeave:V,itemTextRefCallback:B,focusSelectedItem:M,selectedItemText:O,position:r,isPositioned:$,searchRef:D,children:u.jsx(dd,{as:MB,allowPinchZoom:!0,children:u.jsx(cd,{asChild:!0,trapped:x.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Z(s,U=>{var W;(W=x.trigger)==null||W.focus({preventScroll:!0}),U.preventDefault()}),children:u.jsx(pi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(K,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:U=>U.preventDefault(),...y,...q,onPlaced:()=>k(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Z(y.onKeyDown,U=>{const W=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!W&&U.key.length===1&&F(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ee=A().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const Q=U.target,H=ee.indexOf(Q);ee=ee.slice(H+1)}setTimeout(()=>j(ee)),U.preventDefault()}})})})})})})});BC.displayName=AB;var IB="SelectItemAlignedPosition",HC=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=as(Hs,n),i=ls(Hs,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=we(t,C=>d(C)),p=Kd(n),h=m.useRef(!1),b=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=i,v=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&w&&y){const C=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const Q=O.left-P.left,H=I.left-Q,re=C.left-H,se=C.width+re,ye=Math.max(se,P.width),he=window.innerWidth-en,pt=Px(H,[en,Math.max(en,he-ye)]);a.style.minWidth=se+"px",a.style.left=pt+"px"}else{const Q=P.right-O.right,H=window.innerWidth-I.right-Q,re=window.innerWidth-C.right-H,se=C.width+re,ye=Math.max(se,P.width),he=window.innerWidth-en,pt=Px(H,[en,Math.max(en,he-ye)]);a.style.minWidth=se+"px",a.style.right=pt+"px"}const L=p(),A=window.innerHeight-en*2,$=g.scrollHeight,k=window.getComputedStyle(c),T=parseInt(k.borderTopWidth,10),j=parseInt(k.paddingTop,10),M=parseInt(k.borderBottomWidth,10),R=parseInt(k.paddingBottom,10),E=T+j+$+R+M,D=Math.min(w.offsetHeight*5,E),F=window.getComputedStyle(g),z=parseInt(F.paddingTop,10),V=parseInt(F.paddingBottom,10),B=C.top+C.height/2-en,K=A-B,q=w.offsetHeight/2,U=w.offsetTop+q,W=T+j+U,J=E-W;if(W<=B){const Q=L.length>0&&w===L[L.length-1].ref.current;a.style.bottom="0px";const H=c.clientHeight-g.offsetTop-g.offsetHeight,re=Math.max(K,q+(Q?V:0)+H+M),se=W+re;a.style.height=se+"px"}else{const Q=L.length>0&&w===L[0].ref.current;a.style.top="0px";const re=Math.max(B,T+g.offsetTop+(Q?z:0)+q)+J;a.style.height=re+"px",g.scrollTop=W-B+g.offsetTop}a.style.margin=`${en}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,o.trigger,o.valueNode,a,c,g,w,y,o.dir,r]);Ze(()=>v(),[v]);const[_,S]=m.useState();Ze(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const N=m.useCallback(C=>{C&&b.current===!0&&(v(),x==null||x(),b.current=!1)},[v,x]);return u.jsx(DB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:N,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});HC.displayName=IB;var OB="SelectPopperPosition",Hp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=en,...o}=e,i=qd(n);return u.jsx(pg,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hp.displayName=OB;var[DB,t0]=bi(Hs,{}),Vp="SelectViewport",VC=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=ls(Vp,n),i=t0(Vp,n),a=we(t,o.onViewportChange),l=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Gd.Slot,{scope:n,children:u.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const b=window.innerHeight-en*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(g,w);if(y<b){const x=y+h,v=Math.min(b,x),_=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});VC.displayName=Vp;var WC="SelectGroup",[$B,LB]=bi(WC),FB=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Mn();return u.jsx($B,{scope:n,id:s,children:u.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:t})})});FB.displayName=WC;var GC="SelectLabel",KC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=LB(GC,n);return u.jsx(le.div,{id:s.id,...r,ref:t})});KC.displayName=GC;var Mu="SelectItem",[zB,qC]=bi(Mu),YC=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=as(Mu,n),l=ls(Mu,n),c=a.value===r,[d,f]=m.useState(o??""),[p,h]=m.useState(!1),b=we(t,x=>{var v;return(v=l.itemRefCallback)==null?void 0:v.call(l,x,r,s)}),g=Mn(),w=m.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(zB,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:m.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(Gd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(le.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:Z(i.onFocus,()=>h(!0)),onBlur:Z(i.onBlur,()=>h(!1)),onClick:Z(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Z(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Z(i.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:Z(i.onPointerMove,x=>{var v;w.current=x.pointerType,s?(v=l.onItemLeave)==null||v.call(l):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=l.onItemLeave)==null||v.call(l))}),onKeyDown:Z(i.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(EB.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});YC.displayName=Mu;var Yi="SelectItemText",XC=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=as(Yi,n),a=ls(Yi,n),l=qC(Yi,n),c=PB(Yi,n),[d,f]=m.useState(null),p=we(t,y=>f(y),l.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,l.value,l.disabled)}),h=d==null?void 0:d.textContent,b=m.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return Ze(()=>(g(b),()=>w(b)),[g,w,b]),u.jsxs(u.Fragment,{children:[u.jsx(le.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Gs.createPortal(o.children,i.valueNode):null]})});XC.displayName=Yi;var QC="SelectItemIndicator",JC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return qC(QC,n).isSelected?u.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});JC.displayName=QC;var Wp="SelectScrollUpButton",ZC=m.forwardRef((e,t)=>{const n=ls(Wp,e.__scopeSelect),r=t0(Wp,e.__scopeSelect),[s,o]=m.useState(!1),i=we(t,r.onScrollButtonChange);return Ze(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(tN,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});ZC.displayName=Wp;var Gp="SelectScrollDownButton",eN=m.forwardRef((e,t)=>{const n=ls(Gp,e.__scopeSelect),r=t0(Gp,e.__scopeSelect),[s,o]=m.useState(!1),i=we(t,r.onScrollButtonChange);return Ze(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(tN,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});eN.displayName=Gp;var tN=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=ls("SelectScrollButton",n),i=m.useRef(null),a=Kd(n),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Ze(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),UB="SelectSeparator",nN=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});nN.displayName=UB;var Kp="SelectArrow",BB=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=qd(n),o=as(Kp,n),i=ls(Kp,n);return o.open&&i.position==="popper"?u.jsx(mg,{...s,...r,ref:t}):null});BB.displayName=Kp;var HB="SelectBubbleInput",rN=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),o=we(r,s),i=SB(t);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),u.jsx(le.select,{...n,style:{...o1,...n.style},ref:o,defaultValue:t})});rN.displayName=HB;function sN(e){return e===""||e===void 0}function oN(e){const t=kt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function iN(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=VB(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function VB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WB=MC,aN=OC,GB=$C,KB=LC,qB=FC,lN=zC,YB=VC,cN=KC,uN=YC,XB=XC,QB=JC,dN=ZC,fN=eN,hN=nN;const Tx=WB,Rx=GB,qp=m.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(aN,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(KB,{asChild:!0,children:u.jsx(P1,{className:"h-4 w-4 opacity-50"})})]}));qp.displayName=aN.displayName;const pN=m.forwardRef(({className:e,...t},n)=>u.jsx(dN,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(kT,{className:"h-4 w-4"})}));pN.displayName=dN.displayName;const mN=m.forwardRef(({className:e,...t},n)=>u.jsx(fN,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(P1,{className:"h-4 w-4"})}));mN.displayName=fN.displayName;const Yp=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(qB,{children:u.jsxs(lN,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(pN,{}),u.jsx(YB,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(mN,{})]})}));Yp.displayName=lN.displayName;const JB=m.forwardRef(({className:e,...t},n)=>u.jsx(cN,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));JB.displayName=cN.displayName;const Xp=m.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(uN,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(QB,{children:u.jsx(j1,{className:"h-4 w-4"})})}),u.jsx(XB,{children:t})]}));Xp.displayName=uN.displayName;const ZB=m.forwardRef(({className:e,...t},n)=>u.jsx(hN,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));ZB.displayName=hN.displayName;const eH=({onAdd:e,onCancel:t,existingMembers:n,defaultGeneration:r})=>{const[s,o]=m.useState({id:"",name:"",gender:"male",generation:r||void 0,birthPlace:"",occupation:"",bio:"",bloodType:"",mobileNumber:"",email:"",parentId:"",spouseName:"",otherPartnerNames:"",coParentName:""}),[i,a]=m.useState(null),[l,c]=m.useState([]),[d,f]=m.useState(null),p=m.useMemo(()=>{const T=new Set(n.map(R=>R.generation));let j=1;return n.length>0&&(j=Math.max(...Array.from(T))),Array.from({length:j+2},(R,E)=>E+1).sort((R,E)=>R-E)},[n]);m.useEffect(()=>{let T;r!=null?p.includes(r)?T=r:(console.warn(`Provided defaultGeneration (${r}) is not valid or available. Defaulting to first available generation.`),p.length>0?T=p[0]:T=1):s.generation===void 0&&(p.length>0?T=p[0]:T=1),T!==void 0&&s.generation!==T&&b("generation",T)},[p,r,s.generation]);const h=T=>{const j=parseInt(T,10);b("generation",j);const M=n.filter(R=>R.generation===j).slice(0,5).map(R=>R.name);c(M)};m.useEffect(()=>{if(s.generation){const T=n.filter(j=>j.generation===s.generation).slice(0,5).map(j=>j.name);c(T)}},[s.generation,n]);const b=(T,j)=>{f(null),o(M=>({...M,[T]:j}))},g=m.useCallback(T=>{b("name",T.target.value)},[]),w=m.useCallback(T=>{b("gender",T.target.value)},[]),y=m.useCallback(T=>{b("spouseName",T.target.value)},[]),x=m.useCallback(T=>{b("otherPartnerNames",T.target.value)},[]),v=m.useCallback(T=>{if(f(null),T){const j=n.find(M=>M.id===T);if(j&&typeof j.generation=="number"){const M=j.generation+1;o(R=>({...R,parentId:T,generation:M}))}else o(M=>({...M,parentId:T}))}else o(j=>({...j,parentId:T}))},[n]),_=m.useCallback(T=>{b("coParentName",T.target.value)},[]),S=m.useCallback(T=>{b("bloodType",T.target.value)},[]),N=m.useCallback(T=>{b("birthDate",T.target.value)},[]),C=m.useCallback(T=>{b("deathDate",T.target.value)},[]),P=m.useCallback(T=>{b("mobileNumber",T.target.value)},[]),I=m.useCallback(T=>{b("email",T.target.value)},[]),O=m.useCallback(T=>{b("birthPlace",T.target.value)},[]),L=m.useCallback(T=>{b("occupation",T.target.value)},[]),A=m.useCallback(T=>{b("bio",T.target.value)},[]),$=m.useMemo(()=>Array.isArray(n)?n.map(T=>u.jsx(Xp,{value:T.id,children:T.name},T.id)):(console.warn("existingMembers is not an array in AddMemberForm. Skipping parent options generation."),[]),[n]),k=async T=>{var K;if(T.preventDefault(),f(null),!((K=s.name)!=null&&K.trim())){f("Name is required.");return}let j;if(i){const U=`public/${`${Date.now()}-${i.name}`}`;try{const{error:W}=await Ce.storage.from("family-member-images").upload(U,i,{cacheControl:"3600",upsert:!1});if(W)console.error("Error uploading profile picture:",W),f(`Failed to upload profile picture: ${W.message}. Please try again or skip.`);else{const{data:J}=Ce.storage.from("family-member-images").getPublicUrl(U);J?j=J.publicUrl:console.error("Could not get public URL for the uploaded image.")}}catch(W){console.error("Catch Error during profile picture upload:",W),f(`An unexpected error occurred during picture upload: ${W.message}.`)}}const M=s.generation&&s.generation>0?s.generation:r||1,{spouseName:R,otherPartnerNames:E,parentId:D,coParentName:F,...z}=s,V=[R==null?void 0:R.trim(),...(E==null?void 0:E.split(",").map(q=>q.trim()))||[]].filter(q=>q&&q.trim().length>0),B={...z,id:new Date().getTime().toString(),photo:j,generation:M,partners:V,parents:D?[D]:[],children:[],spouse:void 0,coParentName:(F==null?void 0:F.trim())||void 0};try{await e(B)}catch(q){f(q.message||"Failed to add member. Please try again.")}};return u.jsx(Do,{open:!0,onOpenChange:T=>{T||(t(),f(null))},children:u.jsxs(Ps,{className:oe("max-w-4xl max-h-[90vh] overflow-y-auto","z-[55]"),"aria-describedby":"dialog-description",children:[u.jsxs(Vd,{children:[u.jsx(Wd,{className:"text-2xl font-bold text-emerald-800",children:"Add New Family Member"}),u.jsx("p",{id:"dialog-description",className:"sr-only",children:"Form to add a new family member to the family tree"})]}),d&&u.jsx("div",{className:"my-2 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:u.jsx("p",{children:d})}),u.jsxs("form",{onSubmit:k,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),u.jsx(pe,{value:s.name||"",onChange:g,placeholder:"Full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"profilePicture",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Profile Picture"}),u.jsx(pe,{id:"profilePicture",type:"file",accept:"image/*",onChange:T=>a(T.target.files?T.target.files[0]:null),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gender"}),u.jsxs("select",{value:s.gender,onChange:w,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"spouseName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Spouse's Name"}),u.jsx(pe,{type:"text",id:"spouseName",name:"spouseName",value:s.spouseName||"",onChange:y,placeholder:"Spouse's full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"otherPartnerNames",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Other Partner Names (comma-separated)"}),u.jsx("textarea",{id:"otherPartnerNames",name:"otherPartnerNames",rows:3,value:s.otherPartnerNames||"",onChange:x,placeholder:"e.g., Partner A, Partner B",className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"parentId-select",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Parent"}),u.jsxs(Tx,{value:s.parentId||"",onValueChange:v,children:[u.jsx(qp,{id:"parentId-select",className:"w-full",children:u.jsx(Rx,{placeholder:"Select a parent (optional)"})}),u.jsx(Yp,{className:"z-[60]",children:$})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"coParentName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Co-parent's name (if different from spouse/partner)"}),u.jsx(pe,{type:"text",id:"coParentName",name:"coParentName",value:s.coParentName||"",onChange:_,placeholder:"Enter co-parent's name"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"generation-select",className:"block text-sm font-medium mb-2",children:"Generation"}),u.jsxs(Tx,{value:String(s.generation||""),onValueChange:h,children:[u.jsx(qp,{id:"generation-select",className:"w-full",children:u.jsx(Rx,{placeholder:"Select generation"})}),u.jsx(Yp,{className:"z-[60]",children:p.map(T=>u.jsxs(Xp,{value:String(T),children:["Generation ",T]},T))})]}),l.length>0&&u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Includes: ",l.join(", ")]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Blood Type"}),u.jsxs("select",{value:s.bloodType||"",onChange:S,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select blood type"}),u.jsx("option",{value:"A+",children:"A+"}),u.jsx("option",{value:"A-",children:"A-"}),u.jsx("option",{value:"B+",children:"B+"}),u.jsx("option",{value:"B-",children:"B-"}),u.jsx("option",{value:"AB+",children:"AB+"}),u.jsx("option",{value:"AB-",children:"AB-"}),u.jsx("option",{value:"O+",children:"O+"}),u.jsx("option",{value:"O-",children:"O-"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Birth Date"}),u.jsx(pe,{type:"date",value:s.birthDate||"",onChange:N})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Death Date"}),u.jsx(pe,{type:"date",value:s.deathDate||"",onChange:C})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mobile Number"}),u.jsx(pe,{value:s.mobileNumber||"",onChange:P,placeholder:"e.g., +1234567890"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx(pe,{type:"email",value:s.email||"",onChange:I,placeholder:"e.g., example@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Birth Place"}),u.jsx(pe,{value:s.birthPlace||"",onChange:O,placeholder:"City, Country"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Occupation"}),u.jsx(pe,{value:s.occupation||"",onChange:L,placeholder:"e.g., Engineer, Artist"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bio"}),u.jsx("textarea",{value:s.bio||"",onChange:A,placeholder:"A short biography...",rows:4,className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(_e,{type:"button",variant:"outline",onClick:()=>{t(),f(null)},children:"Cancel"}),u.jsx(_e,{type:"submit",children:"Add Member"})]})]})]})})},tH=({member:e,onSave:t,onCancel:n,existingMembers:r})=>{const[s,o]=m.useState({...e,children:e.children||[],parentId:e.parents&&e.parents.length>0?e.parents[0]:"",spouseName:"",otherPartnerNames:"",coParentName:e.coParentName||""}),[i,a]=m.useState(null),[l,c]=m.useState(!1),d=Array.isArray(r)?r.filter(h=>h.id!==e.id):[],f=async h=>{if(h.preventDefault(),!s.name){alert("Name is required");return}let b=s.photo;const g=async P=>{if(!P){console.log("deletePhotoFromStorage: No photo URL provided, skipping deletion from storage.");return}try{const I="family-member-images",O=P.split("/"),L=O.indexOf(I);if(L===-1){console.warn(`deletePhotoFromStorage: Could not find bucket name '${I}' in URL: ${P}`);return}const A=O.slice(L+1).join("/");if(A){console.log(`deletePhotoFromStorage: Attempting to delete '${A}' from bucket '${I}'.`);const{error:$}=await Ce.storage.from(I).remove([A]);$?console.warn(`deletePhotoFromStorage: Error deleting photo '${A}' from storage: ${$.message}`,$):console.log(`deletePhotoFromStorage: Successfully deleted photo '${A}' from storage.`)}else console.warn(`deletePhotoFromStorage: Extracted empty file path from URL '${P}'. Cannot delete.`)}catch(I){const O=I instanceof Error?I.message:String(I);console.warn(`deletePhotoFromStorage: Exception during photo deletion from storage for URL '${P}': ${O}`,I)}};if(l&&(s.photo&&await g(s.photo),b=void 0),i){s.photo&&s.photo!==b&&await g(s.photo);const I=`public/${`${Date.now()}-${i.name}`}`,{data:O,error:L}=await Ce.storage.from("family-member-images").upload(I,i,{cacheControl:"3600",upsert:!1});if(L)console.error("Error uploading new profile picture:",L),alert(`Failed to upload new profile picture: ${L.message}.`);else{const{data:A}=Ce.storage.from("family-member-images").getPublicUrl(I);b=A==null?void 0:A.publicUrl}}const{parentId:w,spouseName:y,otherPartnerNames:x,coParentName:v,photo:_,...S}=s,N=[y==null?void 0:y.trim(),...(x==null?void 0:x.split(",").map(P=>P.trim()))||[]].filter(P=>P&&P.trim().length>0),C={...S,id:e.id,parents:w?[w]:[],partners:N,spouse:void 0,coParentName:(v==null?void 0:v.trim())||void 0,photo:b};t(C)},p=(h,b)=>{o(g=>({...g,[h]:b}))};return u.jsx(Do,{open:!0,onOpenChange:n,children:u.jsxs(Ps,{className:oe("max-w-4xl max-h-[90vh] overflow-y-auto","z-[55]"),children:[" ",u.jsx(Vd,{children:u.jsx(Wd,{className:"dark:text-emerald-300",children:"Edit Family Member"})}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Name *"}),u.jsx(pe,{value:s.name,onChange:h=>p("name",h.target.value),placeholder:"Full name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Gender"}),u.jsxs("select",{value:s.gender,onChange:h=>p("gender",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"spouseName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Spouse's Name"}),u.jsx(pe,{type:"text",id:"spouseName",name:"spouseName",value:s.spouseName||"",onChange:h=>p("spouseName",h.target.value),placeholder:"Spouse's full name"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"otherPartnerNames",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Other Partner Names (comma-separated)"}),u.jsx("textarea",{id:"otherPartnerNames",name:"otherPartnerNames",rows:3,value:s.otherPartnerNames||"",onChange:h=>p("otherPartnerNames",h.target.value),placeholder:"e.g., Partner A, Partner B",className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"parentId",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Parent"}),u.jsxs("select",{id:"parentId",name:"parentId",value:s.parentId||"",onChange:h=>p("parentId",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select a parent (optional)"}),d.map(h=>u.jsx("option",{value:h.id,children:h.name},h.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"coParentName",className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Co-parent's name (if different from spouse/partner)"}),u.jsx(pe,{type:"text",id:"coParentName",name:"coParentName",value:s.coParentName||"",onChange:h=>p("coParentName",h.target.value),placeholder:"Enter co-parent's name"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Generation"}),u.jsx(pe,{type:"number",value:s.generation,onChange:h=>p("generation",parseInt(h.target.value)),min:"1",max:"10"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Blood Type"}),u.jsxs("select",{value:s.bloodType||"",onChange:h=>p("bloodType",h.target.value),className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500",children:[u.jsx("option",{value:"",children:"Select blood type"}),u.jsx("option",{value:"A+",children:"A+"}),u.jsx("option",{value:"A-",children:"A-"}),u.jsx("option",{value:"B+",children:"B+"}),u.jsx("option",{value:"B-",children:"B-"}),u.jsx("option",{value:"AB+",children:"AB+"}),u.jsx("option",{value:"AB-",children:"AB-"}),u.jsx("option",{value:"O+",children:"O+"}),u.jsx("option",{value:"O-",children:"O-"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Birth Date"}),u.jsx(pe,{type:"date",value:s.birthDate||"",onChange:h=>p("birthDate",h.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Death Date"}),u.jsx(pe,{type:"date",value:s.deathDate||"",onChange:h=>p("deathDate",h.target.value)})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Mobile Number"}),u.jsx(pe,{value:s.mobileNumber||"",onChange:h=>p("mobileNumber",h.target.value),placeholder:"+1-555-0123"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Email Address"}),u.jsx(pe,{type:"email",value:s.email||"",onChange:h=>p("email",h.target.value),placeholder:"email@example.com"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Birth Place"}),u.jsx(pe,{value:s.birthPlace||"",onChange:h=>p("birthPlace",h.target.value),placeholder:"City, State/Country"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Occupation"}),u.jsx(pe,{value:s.occupation||"",onChange:h=>p("occupation",h.target.value),placeholder:"Job title"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Biography"}),u.jsx("textarea",{value:s.bio||"",onChange:h=>p("bio",h.target.value),placeholder:"Brief biography...",className:"w-full p-2 border border-gray-300 rounded-md h-24 resize-none dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:placeholder-slate-500 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Profile Picture"}),s.photo&&!l&&u.jsxs("div",{className:"mb-2",children:[u.jsx("img",{src:s.photo,alt:"Current profile",className:"w-24 h-24 object-cover rounded-md border border-gray-300"}),u.jsx(_e,{variant:"link",size:"sm",onClick:()=>{c(!0),a(null)},className:"text-red-500 hover:text-red-700 mt-1",children:"Remove current picture"})]}),(l||!s.photo)&&u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:l?"Current picture will be removed.":"No current picture."}),u.jsx(pe,{id:"profilePicture",type:"file",accept:"image/*",onChange:h=>{const b=h.target.files?h.target.files[0]:null;a(b),b&&c(!1)},className:"w-full p-2 border border-gray-300 rounded-md dark:bg-slate-900 dark:text-slate-200 dark:border-slate-700 dark:focus:border-emerald-500 dark:focus:ring-1 dark:focus:ring-emerald-500"}),i&&u.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["New picture selected: ",i.name,". This will replace the current picture upon saving."]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx(_e,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),u.jsx(_e,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})]})})},Ye=[];for(let e=0;e<256;++e)Ye.push((e+256).toString(16).slice(1));function nH(e,t=0){return(Ye[e[t+0]]+Ye[e[t+1]]+Ye[e[t+2]]+Ye[e[t+3]]+"-"+Ye[e[t+4]]+Ye[e[t+5]]+"-"+Ye[e[t+6]]+Ye[e[t+7]]+"-"+Ye[e[t+8]]+Ye[e[t+9]]+"-"+Ye[e[t+10]]+Ye[e[t+11]]+Ye[e[t+12]]+Ye[e[t+13]]+Ye[e[t+14]]+Ye[e[t+15]]).toLowerCase()}let lh;const rH=new Uint8Array(16);function sH(){if(!lh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lh=crypto.getRandomValues.bind(crypto)}return lh(rH)}const oH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ax={randomUUID:oH};function iH(e,t,n){var s;if(Ax.randomUUID&&!e)return Ax.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??sH();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,nH(r)}var aH="Label",gN=m.forwardRef((e,t)=>u.jsx(le.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gN.displayName=aH;var vN=gN;const lH=ll("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=m.forwardRef(({className:e,...t},n)=>u.jsx(vN,{ref:n,className:oe(lH(),e),...t}));Rt.displayName=vN.displayName;const cH=ll("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xa=m.forwardRef(({className:e,variant:t,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:oe(cH({variant:t}),e),...n}));Xa.displayName="Alert";const Qa=m.forwardRef(({className:e,...t},n)=>u.jsx("h5",{ref:n,className:oe("mb-1 font-medium leading-none tracking-tight",e),...t}));Qa.displayName="AlertTitle";const Ja=m.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:oe("text-sm [&_p]:leading-relaxed",e),...t}));Ja.displayName="AlertDescription";const uH=({onLoginSuccess:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(null),[a,l]=m.useState(!1),[c,d]=m.useState(null),f=async h=>{h.preventDefault(),l(!0),i(null),d(null);const{error:b}=await Ce.auth.signInWithPassword({email:t,password:r});b?i(b.message):(d("Login successful! Redirecting..."),e&&e()),l(!1)},p=async()=>{l(!0),i(null);const{error:h}=await Ce.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});h&&(i(h.message),l(!1))};return u.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-xl",children:[u.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-6",children:"Login"}),o&&u.jsxs(Xa,{variant:"destructive",className:"mb-4",children:[u.jsx(Qa,{children:"Error"}),u.jsx(Ja,{children:o})]}),c&&u.jsxs(Xa,{variant:"default",className:"mb-4",children:[" ",u.jsx(Qa,{children:"Success"}),u.jsx(Ja,{children:c})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(pe,{id:"email",type:"email",value:t,onChange:h=>n(h.target.value),placeholder:"you@example.com",required:!0,className:"pl-10"})]})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"password",className:"text-gray-700 dark:text-gray-300",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(pe,{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),placeholder:"",required:!0,className:"pl-10"})]})]}),u.jsx(_e,{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700",children:a?"Logging in...":"Login with Email"})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),u.jsxs(_e,{variant:"outline",onClick:p,disabled:a,className:"w-full",children:[u.jsx(A1,{className:"mr-2 h-4 w-4"})," ","Sign in with Google"]})]})},dH=({onSignUpSuccess:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(""),[a,l]=m.useState(null),[c,d]=m.useState(!1),[f,p]=m.useState(null),h=async g=>{if(g.preventDefault(),l(null),p(null),r!==o){l("Passwords do not match.");return}if(r.length<6){l("Password must be at least 6 characters long.");return}d(!0);const{error:w}=await Ce.auth.signUp({email:t,password:r});w?l(w.message):p("Sign up successful! Please check your email to confirm your account."),d(!1)},b=async()=>{d(!0),l(null);const{error:g}=await Ce.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});g&&(l(g.message),d(!1))};return u.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white dark:bg-slate-800 rounded-lg shadow-xl",children:[u.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 dark:text-white mb-6",children:"Create Account"}),a&&u.jsxs(Xa,{variant:"destructive",className:"mb-4",children:[u.jsx(Qa,{children:"Error"}),u.jsx(Ja,{children:a})]}),f&&u.jsxs(Xa,{variant:"default",className:"mb-4",children:[u.jsx(Qa,{children:"Success"}),u.jsx(Ja,{children:f})]}),u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"email-signup",className:"text-gray-700 dark:text-gray-300",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(pe,{id:"email-signup",type:"email",value:t,onChange:g=>n(g.target.value),placeholder:"you@example.com",required:!0,className:"pl-10"})]})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"password-signup",className:"text-gray-700 dark:text-gray-300",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(pe,{id:"password-signup",type:"password",value:r,onChange:g=>s(g.target.value),placeholder:" (min. 6 characters)",required:!0,className:"pl-10"})]})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"confirm-password-signup",className:"text-gray-700 dark:text-gray-300",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(pe,{id:"confirm-password-signup",type:"password",value:o,onChange:g=>i(g.target.value),placeholder:"",required:!0,className:"pl-10"})]})]}),u.jsxs(_e,{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700",children:[u.jsx(uu,{className:"mr-2 h-4 w-4"}),c?"Creating Account...":"Create Account with Email"]})]}),u.jsxs("div",{className:"relative my-4",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"Or sign up with"})})]}),u.jsxs(_e,{variant:"outline",onClick:b,disabled:c,className:"w-full",children:[u.jsx(A1,{className:"mr-2 h-4 w-4"})," ","Sign up with Google"]})]})},fH=PC,hH=TC,yN=m.forwardRef(({className:e,...t},n)=>u.jsx(zd,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));yN.displayName=zd.displayName;const pH=ll("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xN=m.forwardRef(({side:e="right",className:t,children:n,...r},s)=>u.jsxs(hH,{children:[u.jsx(yN,{}),u.jsxs(Ud,{ref:s,className:oe(pH({side:e}),t),...r,children:[n,u.jsxs(RC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(cl,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xN.displayName=Ud.displayName;const mH=m.forwardRef(({className:e,...t},n)=>u.jsx(Bd,{ref:n,className:oe("text-lg font-semibold text-foreground",e),...t}));mH.displayName=Bd.displayName;const gH=m.forwardRef(({className:e,...t},n)=>u.jsx(Hd,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));gH.displayName=Hd.displayName;const vH=[{to:"/",label:"Home"},{to:"/members",label:"Members"},{to:"/magazines",label:"Magazines"}],yH=()=>{var ee,Q;const{user:e,loading:t,signOut:n}=fC(),[r,s]=m.useState(null),[o,i]=m.useState(!1),[a,l]=m.useState(!1),[c,d]=m.useState(!1),[f,p]=m.useState([]),[h,b]=m.useState(null),[g,w]=m.useState(!0),[y,x]=m.useState(null),[v,_]=m.useState(null),[S,N]=m.useState(""),[C,P]=m.useState(!1),[I,O]=m.useState(null),[L,A]=m.useState("FullTree"),[$,k]=m.useState("Descendants"),[T,j]=m.useState(null),[M,R]=m.useState(!1),E=m.useCallback(async()=>{w(!0),x(null);const{data:H,error:re}=await Ce.from("family_members").select("*");re?(console.error("Error fetching members:",re),x(re.message),p([])):p([...H]),w(!1)},[]);m.useEffect(()=>{E()},[E]);const D=m.useCallback(async H=>{if(!e){console.error("User not authenticated. Cannot add member."),x("You must be logged in to add a member.");return}const re=iH(),ye={...{...H,id:re,generation:H.generation||1},generation:typeof H.generation=="number"&&H.generation>0?H.generation:1},{error:he}=await Ce.from("family_members").insert([ye]);if(he)throw console.error("Error adding member:",he),x(`Failed to add member: ${he.message}`),he;await E(),d(!1)},[E,e]),F=m.useCallback(H=>{if(H){const re=f.find(se=>se.id===H.id);b(re||null)}else b(null)},[f]),z=m.useCallback(async H=>{if(!e){console.error("User not authenticated. Cannot save member."),x("You must be logged in to save changes.");return}const{id:re,...se}=H,ye={...se};H.photo===void 0||H.photo===""?ye.photo=null:ye.photo=H.photo;const{error:he}=await Ce.from("family_members").update(ye).eq("id",re);he?(console.error("Error updating member:",he),x(`Failed to update member: ${he.message}`)):(await E(),b(null))},[E,e]),V=m.useCallback(async H=>{if(!e){console.error("User not authenticated. Cannot delete member."),x("You must be logged in to delete a member.");return}const{error:re}=await Ce.from("family_members").delete().eq("id",H);re?(console.error("Error deleting member:",re),x(`Failed to delete member: ${re.message}`)):(await E(),(r==null?void 0:r.id)===H&&s(null),(h==null?void 0:h.id)===H&&b(null))},[E,r,h,e]),B=m.useCallback(H=>{if(H){_(H);const re=f.find(se=>se.id===H);s(re||null)}else _(null),s(null)},[f]),K=m.useCallback(H=>{B(H),P(!1)},[B]),q=m.useCallback(()=>{B(null),A("FullTree"),N("")},[B,A,N]),U=m.useCallback(H=>{N(H),H||_(null)},[]),W=m.useCallback(H=>{j(H),R(!0)},[]),J=m.useCallback(()=>{P(H=>!H)},[]);return g?u.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading family data..."}):y?u.jsxs("div",{className:"flex justify-center items-center min-h-screen",children:["Error loading data: ",y]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 flex flex-col",children:[u.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 sticky top-0 z-50",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[" ",u.jsx("img",{src:"/unityLogo.png",alt:"Custom Icon",className:"h-8 w-8"}),u.jsx("h1",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})]}),u.jsxs("div",{className:"flex items-center min-w-0",children:[" ",u.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[u.jsx(Wt,{to:"/",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Home"}),u.jsx(Wt,{to:"/members",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Members"}),u.jsx(Wt,{to:"/magazines",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Magazines"})]}),u.jsxs("div",{className:"hidden md:flex items-center",children:[!t&&e&&u.jsxs(_e,{variant:"outline",className:"mr-2",onClick:()=>d(!0),children:[u.jsx(uu,{className:"mr-2 h-4 w-4"})," Add Member"]}),t?u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Loading..."}):e?u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 mr-3 hidden sm:inline",children:["Hi, ",(ee=e.email)==null?void 0:ee.split("@")[0]]}),u.jsx(_e,{variant:"outline",onClick:n,className:"mr-2",children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(_e,{variant:"outline",onClick:()=>i(!0),className:"mr-2",children:"Login"}),u.jsx(_e,{variant:"default",onClick:()=>l(!0),className:"mr-2",children:"Sign Up"})]})]}),u.jsx("div",{className:"hidden md:block ml-2",children:u.jsx(wu,{})}),u.jsx(_e,{variant:"outline",size:"icon",onClick:J,"aria-label":C?"Close sidebar":"Open sidebar",className:"ml-2",children:C?u.jsx(MT,{className:"h-5 w-5"}):u.jsx(IT,{className:"h-5 w-5"})})]})]})})}),u.jsx("section",{className:"pt-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx(KS,{focusedMemberId:v,members:f,onSelectMember:_,className:"mb-4 ml-1"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("h2",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:["Our Family",u.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 block",children:"Legacy Tree"})]}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Explore our family connections and discover the stories that connect us across generations."})]})]})}),u.jsxs("div",{className:"flex-1 w-full pb-8 flex flex-col",children:[" ",u.jsxs("main",{className:"flex-grow px-4 sm:px-6 lg:px-8 flex flex-col",children:[" ",u.jsxs("section",{className:"relative min-h-[400px] flex-1",children:["  ",u.jsx("div",{className:"absolute inset-0 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-3xl shadow-2xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:u.jsxs("div",{className:"h-full w-full relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-800 dark:via-slate-900 dark:to-black"}),u.jsx(V6,{members:f,onMemberSelect:H=>B(H.id),searchQuery:S,onSetEditingMember:F,onDeleteMember:V,focusedMemberId:v,hoveredMemberId:I,viewMode:L,lineageDirection:$,onNodeClick:W})]})})]})]}),u.jsx(fH,{open:C,onOpenChange:P,children:u.jsx(xN,{side:"right",className:"w-full sm:w-[400px] p-0 overflow-y-auto",children:u.jsxs("div",{className:"flex flex-col h-full p-4 space-y-4",children:[" ",u.jsx("nav",{className:"flex flex-col space-y-1",children:vH.map(H=>u.jsx(Wt,{to:H.to,className:"text-lg py-2 px-3 hover:bg-accent rounded-md text-foreground font-medium",onClick:()=>P(!1),children:H.label},H.to))}),u.jsx("hr",{}),u.jsx(P$,{members:f,searchQuery:S,onSearchQueryChange:U,onMemberSelect:H=>{K(H)},focusedMemberId:v,onResetFocus:q,onHoverMember:O,viewMode:L,setViewMode:A,lineageDirection:$,setLineageDirection:k,isSidebarOpen:C,onToggleSidebar:J}),u.jsx("div",{className:"flex-grow"}),u.jsx("hr",{}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(wu,{}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[!t&&e&&u.jsxs(_e,{variant:"outline",onClick:()=>{d(!0),P(!1)},children:[u.jsx(uu,{className:"mr-2 h-4 w-4"})," Add Member"]}),t?u.jsx("span",{className:"text-sm text-center text-muted-foreground py-2",children:"Loading user..."}):e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-sm text-center text-muted-foreground py-1",children:["Hi, ",(Q=e.email)==null?void 0:Q.split("@")[0]]}),u.jsx(_e,{variant:"outline",onClick:()=>{n(),P(!1)},children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(_e,{variant:"outline",onClick:()=>{i(!0),P(!1)},children:"Login"}),u.jsx(_e,{variant:"default",onClick:()=>{l(!0),P(!1)},children:"Sign Up"})]})]})]})]})})})]}),r&&u.jsx(cB,{member:r,onClose:()=>s(null),onEditRequest:F,canEdit:!t&&!!e&&e.role==="admin"}),c&&u.jsx(eH,{onAdd:D,onCancel:()=>d(!1),existingMembers:f}),h&&u.jsx(tH,{member:h,onSave:z,onCancel:()=>b(null),existingMembers:f}),o&&u.jsx(Do,{open:o,onOpenChange:i,children:u.jsx(Ps,{className:"sm:max-w-md",children:u.jsx(uH,{onLoginSuccess:()=>i(!1)})})}),a&&u.jsx(Do,{open:a,onOpenChange:l,children:u.jsx(Ps,{className:"sm:max-w-md",children:u.jsx(dH,{onSignUpSuccess:()=>l(!1)})})}),T&&u.jsx(Do,{open:M,onOpenChange:R,children:u.jsxs(Ps,{className:"sm:max-w-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Member Details (Modal)"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",T.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"ID:"})," ",T.id]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gender:"})," ",T.gender]}),u.jsx(_e,{onClick:()=>R(!1),className:"mt-4",children:"Close"})]})})]})},xH=()=>{const[e,t]=m.useState(""),[n,r]=m.useState([]),[s,o]=m.useState(!0),[i,a]=m.useState(null),l=m.useCallback(async()=>{o(!0),a(null);const{data:h,error:b}=await Ce.from("family_members").select("*");b?(console.error("Error fetching members for Members page:",b),a(b.message),r([])):r(h),o(!1)},[]);m.useEffect(()=>{l()},[l]);const c=h=>uC(h.partners),d=(h,b)=>{if(!h)return null;const g=new Date(h);return(b?new Date(b):new Date).getFullYear()-g.getFullYear()},f=n.filter(h=>{var b,g;return h.name.toLowerCase().includes(e.toLowerCase())||((b=h.occupation)==null?void 0:b.toLowerCase().includes(e.toLowerCase()))||((g=h.birthPlace)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))}),p=()=>{t("")};return s?u.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 text-gray-700 dark:text-slate-300",children:"Loading members..."}):i?u.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 text-red-700 dark:text-red-400 p-4",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Error Fetching Data"}),u.jsx("p",{className:"mb-2",children:"There was an issue retrieving the family members list:"}),u.jsx("p",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded border border-red-300 dark:border-red-700",children:i}),u.jsx(Button,{onClick:l,className:"mt-6",children:"Try Again"})]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 py-8",children:[u.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 mb-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx(Wt,{to:"/",className:"flex items-center space-x-3",children:u.jsx("span",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[u.jsx(Wt,{to:"/",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Home"}),u.jsx(Wt,{to:"/members",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Members"}),u.jsx(Wt,{to:"/magazines",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Magazines"})]}),u.jsx(wu,{})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:"Family Members"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 mb-6",children:"Meet all our wonderful family members"}),u.jsxs("div",{className:"max-w-md mx-auto relative",children:[u.jsxs("div",{className:"relative",children:[u.jsx(OT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),u.jsx("input",{type:"text",placeholder:"Search family members...",value:e,onChange:h=>t(h.target.value),className:`w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg 
                           focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 
                           dark:focus:ring-emerald-600 dark:focus:border-emerald-600
                           transition-colors bg-white dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:placeholder-gray-400 shadow-sm`}),e&&u.jsx("button",{onClick:p,className:`absolute right-3 top-1/2 transform -translate-y-1/2 
                             h-5 w-5 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors`,children:u.jsx(cl,{className:"h-4 w-4"})})]}),e&&n.length>0&&u.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 
                              rounded-lg shadow-lg z-10 p-2`,children:u.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["Found ",f.length," member",f.length!==1?"s":""," matching: ",u.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:['"',e,'"']})]})})]})]}),!e&&!s&&n.length===0&&u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:"No members found in the database."})}),n.length>0&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(h=>{const b=c(h),g=d(h.birthDate,h.deathDate),w=h.parents&&h.parents.length>0?h.parents.map(y=>{const x=n.find(v=>v.id===y);return x?x.name:null}).filter(y=>y!==null):[];return u.jsxs($a,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300 dark:bg-slate-800",children:[u.jsx(md,{className:`pb-4 ${h.gender==="male"?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-rose-500 to-pink-600"} text-white`,children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 dark:bg-slate-700/30 rounded-full flex items-center justify-center",children:h.photo?u.jsx("img",{src:h.photo,alt:h.name,className:"w-full h-full object-cover rounded-full"}):u.jsx(Zm,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx(gd,{className:"text-xl font-bold text-white",children:h.name}),u.jsxs("p",{className:"text-white/80 text-sm",children:["Generation ",h.generation]})]})]})}),u.jsxs(Ag,{className:"p-6 space-y-4 dark:text-slate-300",children:[u.jsxs("div",{className:"space-y-3",children:[h.birthDate&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx($s,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Born: ",new Date(h.birthDate).toLocaleDateString(),g&&` (${g} years old)`]})]}),h.deathDate&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx($s,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Died: ",new Date(h.deathDate).toLocaleDateString()]})]}),h.birthPlace&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(M1,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.birthPlace})]}),h.occupation&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Qm,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.occupation})]}),h.bloodType&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(NT,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Blood Type: ",h.bloodType]})]}),h.mobileNumber&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(I1,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.mobileNumber})]}),h.email&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Jm,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsx("span",{children:h.email})]}),w.length>0&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Cs,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Parents: ",w.join(" & ")]})]}),h.coParentName&&u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-300",children:[u.jsx(Cs,{className:"w-4 h-4 mr-2 text-gray-400 dark:text-slate-500"}),u.jsxs("span",{children:["Co-parent: ",h.coParentName]})]})]}),b.length>0&&u.jsxs("div",{className:"border-t dark:border-slate-700 pt-4",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx(R1,{className:"w-4 h-4 mr-2 text-red-500"}),u.jsx("span",{className:"font-semibold text-gray-800 dark:text-slate-200",children:"Partner(s)"})]}),b.map((y,x)=>u.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-3 mb-2 last:mb-0",children:u.jsx("div",{className:"font-medium text-gray-800 dark:text-slate-200",children:y})},x))]}),h.bio&&u.jsx("div",{className:"border-t dark:border-slate-700 pt-4",children:u.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-300 leading-relaxed",children:h.bio})})]})]},h.id)})}),n.length>0&&f.length===0&&e&&u.jsxs("div",{className:"text-center py-12",children:[u.jsxs("p",{className:"text-gray-500 dark:text-slate-400 text-lg",children:['No family members found matching "',e,'"']}),u.jsx("button",{onClick:p,className:"mt-4 text-emerald-600 hover:text-emerald-700 dark:text-emerald-500 dark:hover:text-emerald-400 font-medium",children:"Clear search"})]})]})]})},wN=m.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wN.displayName="Textarea";const wH=({onSubmit:e,onCancel:t})=>{const[n,r]=m.useState({title:"",description:"",coverImage:"",publishDate:"",pages:0,redirectUrl:""}),[s,o]=m.useState(null),i=c=>{const{name:d,value:f,type:p}=c.target;r(h=>({...h,[d]:p==="number"?parseInt(f,10)||0:f}))},a=c=>{c.target.files&&c.target.files[0]?o(c.target.files[0]):o(null)},l=c=>{if(c.preventDefault(),!s){alert("Please select a PDF file.");return}e({...n,pdfFile:s})};return u.jsxs("form",{onSubmit:l,className:"space-y-6 p-4 bg-white dark:bg-slate-800 shadow-md rounded-lg",children:[u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Magazine Title"}),u.jsx(pe,{id:"title",name:"title",type:"text",value:n.title,onChange:i,required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),u.jsx(wN,{id:"description",name:"description",value:n.description,onChange:i,required:!0,rows:4,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"coverImage",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Cover Image URL"}),u.jsx(pe,{id:"coverImage",name:"coverImage",type:"url",value:n.coverImage,onChange:i,required:!0,placeholder:"https://example.com/image.png",className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"publishDate",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Publish Date"}),u.jsx(pe,{id:"publishDate",name:"publishDate",type:"date",value:n.publishDate,onChange:i,required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"pages",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pages"}),u.jsx(pe,{id:"pages",name:"pages",type:"number",value:n.pages,onChange:i,required:!0,min:"1",className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"redirectUrl",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Flipbook Redirect URL"}),u.jsx(pe,{id:"redirectUrl",name:"redirectUrl",type:"url",value:n.redirectUrl,onChange:i,placeholder:"https://yourflipbook.com/magazine",required:!0,className:"mt-1 block w-full border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx(Rt,{htmlFor:"pdfFile",className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Magazine PDF"}),u.jsx(pe,{id:"pdfFile",name:"pdfFile",type:"file",accept:".pdf",onChange:a,required:!0,className:`mt-1 block w-full text-sm text-gray-500 dark:text-slate-400
                     file:mr-4 file:py-2 file:px-4
                     file:rounded-md file:border-0
                     file:text-sm file:font-semibold
                     file:bg-emerald-50 dark:file:bg-emerald-900
                     file:text-emerald-700 dark:file:text-emerald-300
                     hover:file:bg-emerald-100 dark:hover:file:bg-emerald-800`})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx(_e,{type:"button",variant:"outline",onClick:t,className:"dark:text-slate-300 dark:border-slate-600 hover:dark:bg-slate-700",children:"Cancel"}),u.jsx(_e,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-500 dark:hover:bg-emerald-600 text-white",children:"Add Magazine"})]})]})},bH=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!1),[s,o]=m.useState(!0),[i,a]=m.useState(null),[l,c]=m.useState(!1),[d,f]=m.useState(!1);async function p(){a(null);const{data:g,error:w}=await Ce.from("magazines").select("*").order("created_at",{ascending:!1});if(w)console.error("Error fetching magazines:",w),a("Could not fetch magazines. Please try again later."),t([]);else if(g){const y=await Promise.all(g.map(async x=>{let v="";if(x.pdf_storage_path){const{data:_}=Ce.storage.from("emagazines").getPublicUrl(x.pdf_storage_path);v=(_==null?void 0:_.publicUrl)||""}return{id:x.id,title:x.title,description:x.description,coverImage:x.cover_image_url||"",publishDate:x.publish_date||"",pages:x.pages,redirectUrl:x.redirect_url||"",pdfUrl:v,pdf_storage_path:x.pdf_storage_path||""}}));t(y)}o(!1)}m.useEffect(()=>{(async()=>{var x;o(!0);const{data:{user:w},error:y}=await Ce.auth.getUser();if(y)y.message==="Auth session missing!"||(console.error("Error fetching user session:",y),rt.error(`Error fetching user session: ${y.message}`)),f(!1);else if(w){const v=((x=w.app_metadata)==null?void 0:x.app_role)==="admin"||!1;f(v)}else f(!1);await p()})()},[]);const h=async g=>{if(!d){rt.error("Unauthorized: Only admins can add magazines.");return}if(c(!0),rt.info("Uploading PDF...",{id:"upload-toast"}),!g.pdfFile){rt.error("No PDF file selected. Please select a PDF to upload."),c(!1);return}const y=`public/magazine-pdfs/${`${Date.now()}_${g.pdfFile.name.replace(/[^a-zA-Z0-9._-]/g,"")}`}`,{data:x,error:v}=await Ce.storage.from("emagazines").upload(y,g.pdfFile,{cacheControl:"3600",upsert:!1});if(v||!x){console.error("Error uploading PDF:",v),rt.error(`PDF Upload Failed: ${(v==null?void 0:v.message)||"Unknown error"}`),c(!1);return}rt.success("PDF uploaded successfully!",{id:"upload-toast"}),rt.info("Saving magazine details...",{id:"save-toast"});const _={title:g.title,description:g.description,cover_image_url:g.coverImage,publish_date:g.publishDate,pages:g.pages,redirect_url:g.redirectUrl,pdf_storage_path:x.path},{error:S}=await Ce.from("magazines").insert([_]);if(S){console.error("Error inserting magazine data:",S),rt.error(`Failed to save magazine: ${S.message}`),c(!1);return}rt.success("Magazine saved successfully!",{id:"save-toast"}),await p(),r(!1),c(!1)},b=async(g,w)=>{if(!d){rt.error("Unauthorized: Only admins can delete magazines.");return}if(!window.confirm("Are you sure you want to delete this magazine? This action cannot be undone."))return;const y=`delete-${g}`;if(rt.loading("Deleting magazine...",{id:y}),w&&w.trim()!==""){const{error:v}=await Ce.storage.from("emagazines").remove([w]);v?(console.error("Error deleting PDF from storage:",v),rt.error(`Failed to delete magazine PDF: ${v.message}. DB record may still exist.`,{id:y})):rt.success("Magazine PDF deleted from storage.",{id:y})}else rt.info("No PDF storage path found, skipping storage deletion.",{id:y});const{error:x}=await Ce.from("magazines").delete().match({id:g});if(x){console.error("Error deleting magazine from database:",x),rt.error(`Failed to delete magazine from database: ${x.message}`,{id:y});return}rt.success("Magazine deleted successfully!",{id:y,duration:4e3}),await p()};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-green-50 dark:from-slate-900 dark:via-slate-800 dark:to-gray-900 py-8",children:[u.jsx("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-emerald-100 dark:border-slate-700 mb-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx(Wt,{to:"/",className:"flex items-center space-x-3",children:u.jsx("span",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:"Unity Valiyangadi"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("nav",{className:"hidden md:flex space-x-8 mr-4",children:[u.jsx(Wt,{to:"/",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Home"}),u.jsx(Wt,{to:"/members",className:"text-gray-600 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Members"}),u.jsx(Wt,{to:"/magazines",className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Magazines"})]}),u.jsx(wu,{})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-slate-100 mb-4",children:"Family Magazines"}),u.jsx("p",{className:"text-xl text-gray-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Discover our collection of digital family magazines, featuring stories, photos, and memories that celebrate our family heritage and milestones."})]}),s&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Af,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500 animate-pulse"}),u.jsx("p",{className:"mt-2 text-lg font-medium text-gray-700 dark:text-slate-300",children:"Loading magazines..."})]}),i&&!s&&u.jsxs("div",{className:"text-center py-12 bg-red-50 dark:bg-red-900/30 p-4 rounded-md",children:[u.jsx(Cs,{className:"mx-auto h-12 w-12 text-red-500 dark:text-red-400"})," ",u.jsxs("p",{className:"mt-2 text-lg font-medium text-red-700 dark:text-red-300",children:["Error: ",i]})]}),!s&&!i&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[u.jsxs(Do,{open:n,onOpenChange:r,children:[u.jsx(wB,{asChild:!0,children:d&&u.jsxs($a,{className:"flex flex-col items-center justify-center text-center p-6 cursor-pointer hover:shadow-xl transition-all duration-300 group min-h-[480px] dark:bg-slate-800 hover:dark:bg-slate-700",children:[" ",u.jsx(op,{className:"w-16 h-16 text-emerald-500 dark:text-emerald-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-slate-200",children:"Add New Magazine"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Click to upload a new issue."})]})}),u.jsxs(Ps,{className:"sm:max-w-[600px] dark:bg-slate-800",children:[u.jsx(Vd,{children:u.jsx(Wd,{className:"text-gray-900 dark:text-slate-100",children:"Upload New Magazine"})}),u.jsx(wH,{onSubmit:h,onCancel:()=>{l||r(!1)}})]})]}),e.map(g=>u.jsxs($a,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 group min-h-[480px] dark:bg-slate-800",children:[" ",u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("img",{src:g.coverImage,alt:g.title,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsx("div",{className:"absolute top-4 right-4 bg-white/90 dark:bg-slate-700/90 backdrop-blur-sm px-2 py-1 rounded-md",children:u.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200",children:[g.pages," pages"]})})]}),u.jsxs(md,{className:"pb-4",children:[u.jsx(gd,{className:"text-xl font-bold text-gray-900 dark:text-slate-100 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:g.title}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-slate-400 mt-2",children:[u.jsx($s,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:new Date(g.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs(Ag,{className:"pt-0 flex flex-col flex-grow",children:[" ",u.jsxs("p",{className:"text-gray-600 dark:text-slate-300 text-sm leading-relaxed mb-6 flex-grow h-20 overflow-hidden",children:[" ",g.description]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("a",{href:g.redirectUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[u.jsx(jT,{className:"w-4 h-4"}),u.jsx("span",{children:"Read"})]}),u.jsxs("a",{href:g.pdfUrl,download:`${g.title}.pdf`,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[u.jsx(CT,{className:"w-4 h-4"}),u.jsx("span",{children:"Download"})]})]}),d&&u.jsx("div",{className:"mt-4 px-6 pb-4",children:u.jsx("button",{onClick:()=>b(g.id,g.pdf_storage_path),className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:u.jsx("span",{children:"Delete Magazine"})})})]})]},g.id)),!s&&!i&&e.length===0&&u.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 text-center py-12",children:[u.jsx(Af,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-500"}),u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-slate-100",children:"No magazines found."}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Why not add the first one?"})]})]}),u.jsxs("div",{className:"mt-16 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-8",children:[e.length===0&&!s&&!i&&u.jsxs("div",{className:"text-center pb-8",children:[u.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-slate-100",children:"No magazines available to show stats."}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Add a magazine to see statistics here."})]}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-slate-100 mb-2",children:"Magazine Statistics"}),u.jsx("p",{className:"text-gray-600 dark:text-slate-300",children:"Our family publication journey"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Af,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),u.jsx("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400 mb-2",children:e.length}),u.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Total Issues"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Cs,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"150+"}),u.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Stories Featured"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx($s,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"2"}),u.jsx("div",{className:"text-gray-600 dark:text-slate-300",children:"Years Publishing"})]})]})]})]})]})},_H=()=>{const e=fl();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},SH=new JM,kH=()=>u.jsxs(eI,{client:SH,children:[u.jsxs(lB,{children:[" ",u.jsxs(PM,{children:[u.jsx(wR,{}),u.jsx(tA,{}),u.jsxs(ZI,{children:[" ",u.jsxs(GI,{children:[u.jsx(Vi,{path:"/",element:u.jsx(yH,{})}),u.jsx(Vi,{path:"/members",element:u.jsx(xH,{})}),u.jsx(Vi,{path:"/magazines",element:u.jsx(bH,{})}),u.jsx(Vi,{path:"*",element:u.jsx(_H,{})})]})]})," "]})]})," "]});e1(document.getElementById("root")).render(u.jsx(SR,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:u.jsx(kH,{})}));export{Qp as g};
